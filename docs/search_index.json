[["index.html", "Análise de Dados Previdenciários - ADPrev Nota", " Análise de Dados Previdenciários - ADPrev Marcos Ferreira da Silva 26/12/2020 Nota Sem dados você é apenas mais uma pessoa com uma opinião. w. E. Deming Este é um trabalho em elaboração. Até o momento estão disponíveis versões preliminares do Prefácio, Introdução e Capítulos 1, 2, 3, 5, 6, 7 e 9. Novos capítulos serão adicionados à medida que o tempo permitir. Volte em breve! "],["prefácio.html", "Prefácio", " Prefácio Já a algum tempo se diz que os dados são o novo petróleo, mas aparentemente os dados dos RPPS ainda são uma fonte quase inexplorada de conhecimento. Essa situação decorre de um lado, do fato de se referir a um assunto que não é de amplo conhecimento do público em geral. De outro, porque os que militam na área muitas vezes não dispõem dos recursos necessários à sua ampla utilização. Há ainda uma forte cultura no setor público para a análise individualizada, isto é, RPPS a RPPS, baseada em documentos físicos. Isso justifica a SPREV divulgar, no CADPREV, os dados dos RPPS em relatórios em pdf, não legíveis por máquina, em vez de disponibilizar uma API1 para consumo dos dados. Este documento objetiva mostrar possíveis usos desses dados e com isso estimular o leitor a buscar os conhecimentos e recursos de tecnologia necessários a que ele mesmo possa realizar suas análises. A boa notícia é que ambos, conhecimento e recursos de tecnologia, estão amplamente disponíveis na internet e com frequência gratuitamente. Por vezes ainda se ouve alegações de que os dados disponibilizados não seriam confiáveis e que portanto sua utilização não seria justificada. As eventuais inconsistências das bases de dados antes de gerar desestímulo à sua utilização deve motivar a que sejam melhoradas e para isso é fundamental que sejam utilizadas. Quanto mais os dados forem utilizados mais provável que as eventuais inconsistências sejam identificadas e maiores são as possibilidade de serem corrigidas, levando a uma melhor qualidade dos dados e das análises realizadas com os mesmos. As bases de dados dos RPPS são um bem público e é responsabilidade de todos cuidar desse bem. Mas para que os dados sejam utilizados ou para que se estimule sua utilização, parece importante dar o pontabé inicial, mostrar exemplos de sua utilização e dos resultados que podem ser obtidos. Deve-se ter em mente que esses dados podem ser utilizados pela sociedade e pelo governo para os fins mais diversos: elaboração de estudos acadêmicos, fiscalização e monitoramento dos RPPS, proposição de políticas públicas e proposição de leis, para citar apenas alguns. Assim, é grande a responsabilidade dos gestores na geração desses dados, da SPREV em melhorar continuamente sua qualidade, dos Tribunais de Contas em comunicar as inconsistências e divergências detectadas tanto ao gestor quanto à SPREV para as devidas correções. Aqui vale o ditado: mais vale acender uma vela do que maldizer a escuridão. Espera-se que as sugestões de análise apresentadas neste documento contribuam para lançar um pouco mais de luz sobre essa rica fonte de informações dos RPPS brasileiros e ajude/estimule outras pessoas a realizar suas próprias análises. API é um conjunto de rotinas e padrões de programação para acesso a um aplicativo de software ou plataforma baseado na Web. A sigla API refere-se ao termo em inglês Application Programming Interface que significa em tradução para o português Interface de Programação de Aplicativos. Fonte: https://canaltech.com.br/software/o-que-e-api/ "],["introdução.html", "Introdução Estrutura do documento Projeto LabDadosPrev(RPPS) Bases de dados utilizadas", " Introdução O objetivo do documento é mostrar possibilidades de uso dos dados dos Regimes Próprios de Previdência Social - RPPS disponibilizados pela Secretaria de Previdência - SPREV. Mais especificamente apresenta-se possibilidades de análises dos dados que poderão ser utilizadas para ajudar tanto na compreensão dos RPPS como no acompanhamento da gestão dos mesmos. Espera-se também que o leitor adquira uma melhor compreensão dos dados dos RPPS. Para alcançar esse objetivo serão apresentados os scripts elaborados no ambiente R para que os leitores interessados possam não só reproduzir as análises apresentadas como também adaptá-las para casos particulares em que esteja interessado. Embora seja utilizado o R neste documento, friza-se que outras tecnologias gratuitas também podem ser utilizadas a exemplo do Power BI, Knime, Orange, Python, etc. Diversas bases de dados e relatórios são disponibilizados pela SPREV em seu site e já se sabe há muito tempo que o principal problema atualmente não é tanto a disponibilidade de dados, mas a capacidade de análise dos mesmos, especialmente nesses tempos em que o volume de dados cresce sem precedentes. Pode-se, hoje, falar de uma Análise de Dados Previdenciários para designar uma área de conhecimento a ser desenvolvida nos órgãos encarregados da supervisão e controle dos RPPS com o objetivo de auxiliar na execução dessa atividade. Conhecer esses dados, suas limitações, inconsistências, analisá-los e enriquecê-los com outros dados e propor melhorias constituem o escopo dessa área. Nos capítulos que se seguem são apresentadas algumas sugestões de análises possíveis com os dados disponibilizados. A ideia é que essas análises, na medida do possível, sejam paulatinamente incluídas no painel de dados previdenciários disponível no link https://marcosfs2006.shinyapps.io/rpps-painel/ elaborado, também, com os dados disponibilizados pela SPREV. As análises neste documento usam os dados que estavam disponíveis no site por ocasião do ínício de sua elaboração (atualização de AGO-SET/2020). Naturalmente que em razão das atualizações posteriores das bases de dados alguns números e gráficos ficarão defasados. Mas, ainda que os dados mudem, as análises e os scripts continuarão pertinentes. Estrutura do documento O documento está estruturado em torno dos arquivos disponibilizados pela SPREV, de forma que cada capítulo será dedicado a um arquivo, conforme descrito a seguir: O Capítulo 1 trata do arquivo de dados que contém a relação dos Entes e o regime previdenciário ao qual está vinculado. Este arquivo constitui, por assim dizer, a relação oficial dos RPPS existentes no Brasil. O Capítulo 2 aborda o arquivo relativo às alíquotas de contribuição. Este arquivo contém o valor e a vigência das alíquotas de contribuição de cada RPPS. O Capítulo 3 trata da base de dados do CRP, documento que indica a situação do RPPS no que diz respeito ao cumprimento de suas obrigações junto à SPrev. O Capítulo 4 trata da base de dados do DAIR e traz análises possíveis com os dados da carteira de investimentos do RPPS, conjunto de dados denominado Carteira. O Capítulo 5 faz a análise da base de dados do DIPR, ficando a análise contudo restrita aos dados dos anos de 2019 e 2020. O Capítulo 6 trata do DRAA. Mais especificamente trata-se do conjunto de dados Valores_Compromissos um dos 29 arquivos relacionados ao demonstrativo em questão. O Capítulo 7 trata da base de dados de parcelamento de débitos. O Capítulo 8 trata da base de dados do Indicador de Situação Previdenciária - ISP. O Capítulo 9 trata dos fluxos atuariais que embora não sejam disponibilizados, ainda, pela SPREV no site, possui informações valiosas relativas à gestão atuarial dos RPPS. O Capítulo 10 trata da Matriz de Saldos Contábeis, elemento que possui as informações contábeis dos RPPS e cujo encaminhamento à STN é obrigatório para os RPPS. Esta é a estrutura delineada para esse documento. Oportunamente mais arquivos de dados serão incluídos no documento. Projeto LabDadosPrev(RPPS) Também com o objetivo de explorar e lançar luz sobre os dados disponibilizados pela SPREV, foi criado o Laboratório de Análise de Dados Previdenciários - LabDadosPrev(RPPS) que consiste, basicamente, em oferecer ao usuário interessado um ambiente no qual, sem a necessidade de instalar nenhum software nem de carregar qualquer conjunto de dados, possa executar as análises apresentadas neste documento. Com esse objetivo faz-se uso de notebooks do Google Colaboratory. Além da sugestão de possíveis análises, o LabDadosPrev(\"RPPS\") objetiva também familiarizar o leitor com as bases de dados publicadas pela SPREV visto que não possuem os necessários dicionários de dados. O acesso aos notebooks pode ser feito pelo seguinte link. Bases de dados utilizadas Os dados utilizados neste documento são, em sua maioria, aqueles que a SPREV publica em seu site, os quais podem ser sumarizados da seguinte forma: Regimes Próprios de Previdência Social - RPPS (5 arquivos) Sob essa denominação a SPREV disponibiliza um conjunto de cinco arquivos contendo informações sobre: Alíquotas de contribuição praticadas, Quantitativo de Regimes por UF, Histórico de Regime Previdenciário, Regime Previdenciário Atual dos Entes Federativos e CRP. DAIR (12 arquivos) Sob a denominação DAIR a SPREV disponibiliza um conjunto de 12 arquivos. Neste documento, até o momento, foi feito uso apenas do conjunto de dados denominado Carteira que contém informações sobre os investimentos dos RPPS. As análises relativas ao DAIR são complementadas com outros dados também disponibilizados pela SPREV. Como exemplo desses arquivos complementares cita-se a relação de fundos de investimentos vedados e o arquivo contendo o enquadramento dos fundos de investimento. DIPR (7 arquivos) É disponibilizado um arquivo para cada ano e no momento, Dezembro de 2020, estão disponíveis os arquivos dos anos de 2014 a 2020. DRAA (29 arquivos) O DRAA é onde se disponibiliza a maior quantidade de dados. São 29 arquivos, abrangendo diversos aspectos da gestão atuarial do RPPS. Parcelamento (1 arquivo) Neste arquivo estão disponibilizados dados relativos aos Acordos de Parcelamento celebrados pelos RPPS com os Entes. Indicador de Situação Previdenciária - ISP Também será feito uso dos dados do ISP, especificamente os dados dos anos de 2019 e 2020. Fluxos Atuariais Os fluxos atuariais também serão objeto de análise neste documento, embora esses dados não sejam, até o momento, disponibilizados pela SPREV em seu site. Sendo um elemento que integra o relatório de avaliação atuarial (Portaria 464, art. 10), deveria ser disponibilizado também tanto pela SPREV como pelas unidades gestoras do RPPS em seus sites. Matrizes de Saldo Contábeis As matrizes de saldo contábeis contém, como o nome indica, os saldos contábeis do RPPS. Esses dados estão disponíveis no SICONFI, o Sistema de Informações Contábeis e Fiscais do Setor Público Brasileiro, desenvolvido para receber os dados contábeis, orçamentários e fiscais dos entes da federação. É um sistema mantido pela Secretaria do Tesouro Nacional. Espera-se nesse documento apresentar rotinas que confrontem os saldos informados na MSC com os valores apresentados pelo RPPS nos diversos demonstrativos que devem elaborar. Tem-se observado que a SPREV tem modificado o formato dos arquivos nas atualizações dos dados, ora disponibilizando-os em arquivos do Excel, ora disponibilizando esses mesmos dados em arquivos csv. Também o nome dos arquivos podem eventualmente sofrer modificações, assim como o layout dos mesmos. Espera-se que o documento seja útil a todos que necessitem utilizar os dados dos RPPS disponíbilizados pela SPREV. Boa leitura! "],["regime-previdenciário-atual-dos-entes-federativos.html", "Capítulo 1 Regime Previdenciário Atual dos Entes Federativos", " Capítulo 1 Regime Previdenciário Atual dos Entes Federativos Com a denominação de Regime Previdenciário Atual dos Entes Federativos a SPREV disponibiliza um conjunto de dados que pode ser considerado o cadastro dos RPPS, no sentido de que ele fornece a relação completa dos RPPS existentes no Brasil. Na realidade é uma relação completa de todos os entes federativos com a indicação do regime previdenciário ao qual estão vinculados. Este capítulo será dedicado à análise desse conjunto de dados. Por ser um arquivo de dados bem simples não possibilita a realização de muitas análises, mas é possível, por exemplo, construir uma tabela mostrando o quantitativo de entes que estão vinculados ao RPPS e ao RGPS em cada unidade da federação. Antes de se iniciar qualquer análise, é necessário carregar os pacotes que serão utilizados ao longo deste documento: library(tidyr) library(readxl) library(readr) library(dplyr, quietly = TRUE) library(lubridate) library(knitr) library(ggplot2) library(stringr) library(scales) library(flextable) library(purrr) library(janitor) A importação dos dados pode ser feita da seguinte forma: cadastro_rpps &lt;- read_excel(&quot;dados/4-regime-entes-federativos_atualizacao_de_ago_set_2020_extracao_em_2020-10-06t18_17_11.xlsx&quot;) Importados os dados é sempre recomendado inspecionar os registros iniciais para se ter uma ideia do seu conteúdo e para verificar se tudo ocorreu bem com a importação: head(cadastro_rpps) # A tibble: 6 x 4 CNPJ UF ENTE REGIME &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 84306737000127 AC Acrelândia RGPS 2 04045993000179 AC Assis Brasil RGPS 3 04508933000145 AC Brasiléia RGPS 4 84306620000143 AC Bujari RGPS 5 84306604000150 AC Capixaba RGPS 6 04012548000102 AC Cruzeiro do Sul RGPS Trata-se, como pode ser visto, de um conjunto de dados bem simples, contendo apenas quatro colunas cujo conteúdo é autoexplicativo. Um primeiro resumo que pode ser feito é mostrar quantos Entes estão vinculados a cada tipo de regime previdenciário. A resposta pode ser obtida com o seguinte código: cadastro_rpps %&gt;% count(REGIME) %&gt;% mutate(`%` = round(n / sum(n) * 100, 2)) # A tibble: 3 x 3 REGIME n `%` &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; 1 RGPS 3418 61.1 2 RPPS 2156 38.5 3 RPPS em Extinção 21 0.38 A maioria dos Entes está vinculada ao RGPS. Mas existe um quantitativo expressivo de Entes vinculados ao RPPS. Também é possível verificar alguns RPPS em extinção. Uma informação útil é saber, para cada unidade da federação, o quantitativo de Entes vinculados a cada regime previdenciário. Essa informação pode ser obtida com o código a seguir: cadastro_rpps %&gt;% count(UF, REGIME) %&gt;% pivot_wider(names_from = REGIME, values_from = n, values_fill = list(n=0)) %&gt;% rename(RPPS_EXT = `RPPS em Extinção`) %&gt;% mutate(TOTAL = RGPS + RPPS + RPPS_EXT, `%RGPS` = round(RGPS / TOTAL * 100, 1), `%RPPS` = round(RPPS / TOTAL * 100, 1), `%RPPS_EXT` = round(RPPS_EXT / TOTAL * 100, 1)) %&gt;% select(UF, RPPS, `%RPPS`, RGPS, `%RGPS`, RPPS_EXT, `%RPPS_EXT`) %&gt;% arrange(desc(RPPS)) %&gt;% qflextable() .cl-8ebcfeb8{border-collapse:collapse;}.cl-8e93eb68{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-8e9460b6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-8e9460b7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-8e965cd6{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cd7{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cd8{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cd9{width:73pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cda{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cdb{width:46pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cdc{width:56pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cdd{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cde{width:56pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965cdf{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e965ce0{width:73pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683e6{width:46pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683e7{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683e8{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683e9{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683ea{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683eb{width:46pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683ec{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683ed{width:56pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683ee{width:73pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-8e9683ef{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} UFRPPS%RPPSRGPS%RGPSRPPS_EXT%RPPS_EXTRS33266,71653310,2MG22226,06277350,6SP22234,44216530,5PR17944,82205510,2GO17169,2753010,4PE14980,5362000,0MT10775,4352500,0RJ8086,0121311,1AL7471,8292800,0PB7131,71536800,0PI7131,61526820,9SC7023,62257610,3CE6535,11186421,1MS5265,0283500,0MA4721,61717800,0RN4124,41267510,6BA389,13789020,5ES3544,3445600,0PA3020,71157900,0RO3056,6234300,0TO3021,41107900,0AM2742,9365700,0AP423,5137600,0SE45,3719311,3AC28,7219100,0RR212,5148800,0DF1100,00000,0 A tabela mostra, por exemplo, que UF RJ possui 80 entes vinculados ao RPPS (Estado + 79 municípios) e 12 entes vinculados ao RGPS. O percentual de entes vinculados ao RPPS é de 86%. A SPREV disponibiliza um conjunto de dados denominado Quantitativo de Regimes por UF que traz essencialmente a informação contida na tabela acima. O conjunto de dados em referência possui as seguintes colunas: UF, Quatidade_Regime e Tipo_de_Regime. Apresenta-se a seguir os quatro primeiros registros deste arquivo para que o leitor possa avaliar a semelhança com a tabela acima em termos de conteúdo: UF Quantidade_Regime Tipo_de_Regime AC 21 RGPS AC 2 RPPS AL 29 RGPS AL 74 RPPS Em razão de ser possível obter o conteúdo do conjunto de dados Quantitativo de Regimes por UF a partir dos dados da relação dos Entes e regimes aos quais estão vinculados, o referido arquivo não será objeto de análise neste documento. "],["alíquotas-de-contribuição-praticadas.html", "Capítulo 2 Alíquotas de Contribuição Praticadas 2.1 Análise Exploratória 2.2 RPPS com Segregação de Massas 2.3 Adequação das Alíquotas à EC 103/19 2.4 Alíquota do Ente Inferior à do Servidor Ativo", " Capítulo 2 Alíquotas de Contribuição Praticadas Neste capítulo, objetiva-se explorar o conjunto de dados contendo informações sobre as alíquotas de contribuição previdenciária praticadas pelos RPPS. Para que a análise dos dados seja possível é necessário realizar a importação dos mesmos: aliquotas &lt;- read_excel(&quot;dados/1-aliquota_atualizacao_de_ago_set_2020_extracao_em_2020-10-06t18_11_46.xlsx&quot;) Feita a importação é sempre recomendável inspecionar os dados para verificar se tudo ocorreu bem. Uma forma de se fazer isso é mostrar os registros iniciais da base de dados. head(aliquotas) # A tibble: 6 x 9 CNPJ Ente UF `Plano de Segrega~ `Sujeito Passiv~ Aliquota `Início de Vigênci~ `Fim de Vigência` Observação &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dttm&gt; &lt;dttm&gt; &lt;chr&gt; 1 6360647~ Governo do ~ AC PREVIDENCIÁRIO Ativos 14 2017-07-01 00:00:00 NA &lt;NA&gt; 2 6360647~ Governo do ~ AC PREVIDENCIÁRIO Aposentados 14 2017-07-01 00:00:00 NA &lt;NA&gt; 3 6360647~ Governo do ~ AC PREVIDENCIÁRIO Pensionistas 14 2017-07-01 00:00:00 NA &lt;NA&gt; 4 6360647~ Governo do ~ AC PREVIDENCIÁRIO Ente 22 2019-12-04 00:00:00 2020-02-29 00:00:00 &lt;NA&gt; 5 6360647~ Governo do ~ AC PREVIDENCIÁRIO Ente 14 2020-03-01 00:00:00 NA &lt;NA&gt; 6 0403458~ Rio Branco AC FINANCEIRO Aposentados 11 2013-01-01 00:00:00 2020-10-31 00:00:00 Reanalisando: o art. 56 da Lei 1793/2009-publicada em 31/12/2009~ Examinando o conjunto de dados, verifica-se que o mesmo possui nove colunas. Também aqui os nomes das colunas dão uma boa indicação do conteúdo contido em cada uma. Basicamente a base de dados informa o percentual da alíquota de contribuição praticada em cada RPPS, indicando na variável Sujeito Passivo se a alíquota se refere aos servidores ativos, aos aposentados, aos pensionistas, ao Ente e também se é alíquota suplementar, situação em que a variável Sujeito Passivo assume o valor Ente-suplementar. A base de dados também indica o início e o término de vigência da alíquota e se a mesma refere-se ao plano financeiro ou ao plano previdenciário. É possível verificar os valores assumidos pela variável Sujeito Passivo da seguinte forma: unique(aliquotas$`Sujeito Passivo`) [1] &quot;Ativos&quot; &quot;Aposentados&quot; &quot;Pensionistas&quot; &quot;Ente&quot; &quot;Ente-suplementar&quot; Para facilitar o trabalho posterior com o conjunto de dados, será feita a modificação dos nomes das variáveis, conforme mostrado no código a seguir: # Renomeia as colunas aliquotas &lt;- aliquotas %&gt;% rename(cnpj_ente = CNPJ, ente = Ente, uf = UF, plano_segregacao = `Plano de Segregação`, sujeito_passivo = `Sujeito Passivo`, aliquota = Aliquota, inic_vigencia = `Início de Vigência`, fim_vigencia = `Fim de Vigência`) # Ajuste no tipo de dados das datas de início e de vigência # e exclusão da coluna &quot;Observação&quot; aliquotas &lt;- aliquotas %&gt;% mutate(inic_vigencia = as.Date(inic_vigencia), fim_vigencia = as.Date(fim_vigencia)) %&gt;% select(-Observação) # Exibe os 3 primeiros registros do conjunto de dados head(aliquotas, 3) # A tibble: 3 x 8 cnpj_ente ente uf plano_segregacao sujeito_passivo aliquota inic_vigencia fim_vigencia &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;date&gt; &lt;date&gt; 1 63606479000124 Governo do Estado do Acre AC PREVIDENCIÁRIO Ativos 14 2017-07-01 NA 2 63606479000124 Governo do Estado do Acre AC PREVIDENCIÁRIO Aposentados 14 2017-07-01 NA 3 63606479000124 Governo do Estado do Acre AC PREVIDENCIÁRIO Pensionistas 14 2017-07-01 NA 2.1 Análise Exploratória Uma coisa que deve ser feita logo de início, ao se começar a análise de um conjunto de dados, é verificar se existe alguma inconsistência nos valores das variáveis; e nesse conjunto de dados em particular, é importante examinar se as alíquotas não apresentam valores inconsistentes. Essa verificação pode ser feita realizando-se, por exemplo, um resumo estatístico dos valores das alíquotas. Antes, contudo, é conveniente observar se a base de dados contém alíquotas recentes. summary(aliquotas$fim_vigencia) Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s &quot;2020-01-01&quot; &quot;2020-08-31&quot; &quot;2020-12-31&quot; &quot;2023-01-24&quot; &quot;2022-12-31&quot; &quot;2058-12-31&quot; &quot;9648&quot; A base de dados não contém alíquotas cuja validade tenha encerrado em anos anteriores a 2020. O resumo dos valores das alíquotas pode ser feito da seguinte forma: summary(aliquotas$aliquota) Min. 1st Qu. Median Mean 3rd Qu. Max. 0.01 11.00 11.00 13.38 14.00 180.00 Os valores mínimo e máximo não parecem razoáveis. No código a seguir será feita a identiticação dos RPPS com as alíquotas nesses valores: aliquotas %&gt;% filter(aliquota == 0.01) # A tibble: 1 x 8 cnpj_ente ente uf plano_segregacao sujeito_passivo aliquota inic_vigencia fim_vigencia &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;date&gt; &lt;date&gt; 1 01612686000134 Cacimbas PB PREVIDENCIÁRIO Ente-suplementar 0.01 2020-01-01 NA aliquotas %&gt;% filter(aliquota == 180) # A tibble: 1 x 8 cnpj_ente ente uf plano_segregacao sujeito_passivo aliquota inic_vigencia fim_vigencia &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;date&gt; &lt;date&gt; 1 01217538000115 Trindade GO PREVIDENCIÁRIO Ente-suplementar 180 2044-01-01 2047-12-31 Existe a necessidade de examinar com mais profundidade se estes valores de fato estão corretos, ou se houve erro no preenchimento dos dados. Essa mesma verificação que foi feita para o conjunto de dados como um todo, pode ser feita considerando-se os valores de uma variável qualitativa, . Exemplo: aliquotas %&gt;% group_by(sujeito_passivo) %&gt;% summarise(aliq_min = min(aliquota), aliq_max = max(aliquota)) # A tibble: 5 x 3 sujeito_passivo aliq_min aliq_max &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Aposentados 6 15.3 2 Ativos 6 22 3 Ente 5.15 123. 4 Ente-suplementar 0.01 180 5 Pensionistas 6 24.0 O resultado mostra os valores máximo e mínimo das alíquotas por valores da variável sujeito_passivo. Uma análise gráfica também pode revelar coisas interessantes. O código a seguir produz um boxplot das alíquotas por sujeito passivo, separados por plano: ggplot(aliquotas, aes(x = sujeito_passivo, y = aliquota)) + facet_wrap(~ plano_segregacao) + geom_boxplot() + theme_bw() + theme(axis.text.x = element_text(angle = 30)) O gráfico mostra algumas coisas interessantes: a primeira são os valores altos que se verificam para algumas alíquotas. No plano previdenciário existem alíquotas suplementares em valores superiores a 100%. Outra coisa é ver que no fundo em repartição existem alguns RPPS com alíquota suplementar, o que é estranho já que nesse regime financeiro não há deficit atuarial a ser amortizado. As alíquotas do ente no plano em repartição tendem a ser maiores que as alíquotas do ente no plano em capitalização. Ativos, aposentados e pensionistas tendem a ter alíquotas iguais nos dois planos. A base de dados parece ter muitas inconsistências, o que é preocupante visto que é uma base de dados essencial para o cálculo das contribuições devidas ao RPPS. 2.2 RPPS com Segregação de Massas Uma questão que é possível responder com essa base de dados é: quantos RPPS possuem segregação de massas e quanto isso representa do total de RPPS? Uma outra questão é: qual unidade da federação possui o maior percentual de RPPS com segregação de massas? Sabe-se que o instituto da segregação de massas é adotado pelo RPPS como uma forma de equacionamento do deficit atuarial. Assim, se um RPPS possui segregação de massas pode-se concluir que é deficitário ainda que o fundo em capitalização seja superavitário. No que segue buscar-se-á as repostas para as questões acima interrogando a base de dados. O primeiro passo será criar uma nova coluna na base de dados para identificar os RPPS com segregação de massas: cnpj_ente_segregacao &lt;- aliquotas %&gt;% filter(plano_segregacao == &quot;FINANCEIRO&quot;) %&gt;% pull(cnpj_ente) %&gt;% unique() Os comandos acima identificam os CNPJ dos Entes que possuem RPPS com segregação de massas. O próximo passo é criar a nova coluna, que terá o valor 1 se o RPPS possui segregação e 0 caso contário. # Cria nova coluna &quot;possui_segregacao&quot; aliquotas &lt;- aliquotas %&gt;% mutate(possui_segregacao = ifelse(cnpj_ente %in% cnpj_ente_segregacao, 1, 0)) # Exibe os 10 primeiros registros aliquotas %&gt;% select(ente, plano_segregacao, possui_segregacao) %&gt;% head(10) # A tibble: 10 x 3 ente plano_segregacao possui_segregacao &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; 1 Governo do Estado do Acre PREVIDENCIÁRIO 0 2 Governo do Estado do Acre PREVIDENCIÁRIO 0 3 Governo do Estado do Acre PREVIDENCIÁRIO 0 4 Governo do Estado do Acre PREVIDENCIÁRIO 0 5 Governo do Estado do Acre PREVIDENCIÁRIO 0 6 Rio Branco FINANCEIRO 1 7 Rio Branco FINANCEIRO 1 8 Rio Branco FINANCEIRO 1 9 Rio Branco FINANCEIRO 1 10 Rio Branco PREVIDENCIÁRIO 1 Agora é possível responder a questão 1: quantos RPPS possuem segregação de massas e quanto isso representa do total de RPPS? rpps_segregado &lt;- aliquotas %&gt;% select(cnpj_ente, possui_segregacao) %&gt;% distinct(cnpj_ente, .keep_all = TRUE) nrow(rpps_segregado) [1] 2147 table(rpps_segregado$possui_segregacao) 0 1 1894 253 prop.table(table(rpps_segregado$possui_segregacao)) 0 1 0.8821612 0.1178388 As saídas indicam que a base de dados contempla 2.147 RPPS, dos quais 253 possuem segregação de massa, o que representa 11,7% dos RPPS na base de dados e não da totalidade dos RPPS, visto que no Capítulo 1 ao se examinar a base de dados de cadastro de RPPS, ficou evidenciada a existência de 2.156 RPPS ativos e mais 21 em extinção. Agora passa-se à segunda questão: qual unidade da federação possui o maior percentual de RPPS com segregação de massas? rpps_segregado_uf &lt;- aliquotas %&gt;% select(cnpj_ente, uf, possui_segregacao) %&gt;% distinct(cnpj_ente, .keep_all = TRUE) %&gt;% group_by(uf) %&gt;% summarise(com_sm = sum(possui_segregacao), sem_sm = n() - com_sm, n_rpps = com_sm + sem_sm, `%_com_sm` = round(com_sm / n_rpps, 4), `%_sem_sm` = round(sem_sm / n_rpps, 4)) %&gt;% arrange(desc(`%_com_sm`)) qflextable(rpps_segregado_uf) .cl-92e65b56{border-collapse:collapse;}.cl-92c07d00{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-92c0cb2a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-92c0cb2b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-92c25210{width:57pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25211{width:73pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25212{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25213{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25214{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25215{width:73pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25216{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25217{width:57pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25218{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c25219{width:73pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c2521a{width:57pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-92c27934{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} ufcom_smsem_smn_rpps%_com_sm%_sem_smDF1011,0000,00AC1120,5000,50AP2240,5000,50RR1120,5000,50SE2240,5000,50ES1322350,3710,63RJ2654800,3250,68PE461031490,3090,69CE1351640,2030,80PI1356690,1880,81SP321902220,1440,86SC1060700,1430,86PA425290,1380,86PR211571780,1180,88MG231972200,1040,90PB665710,0850,92AM225270,0740,93RO228300,0670,93TO228300,0670,93MT61011070,0560,94AL470740,0540,95RN239410,0490,95GO81631710,0470,95RS113213320,0330,97BA136370,0270,97MA146470,0210,98MS051510,0001,00 2.3 Adequação das Alíquotas à EC 103/19 Com a promulgação da Emenda Constitucional no 103/19, os RPPS com deficit atuarial devem obrigatoriamente aumentar a alíquota de contribuição de seus servidores para 14%. Existe para esses RPPS a possibilidade de estabelecer alíquotas progressivas, ou seja, percentuais diferentes por faixa salarial. Nesses casos é interessante o cálculo da alíquota efetiva, já que a mesma não pode resultar em percentual inferior a 14%. Os poucos RPPS superavitários podem manter suas alíquotas no mesmo patamar desde que não sejam inferiores às alíquotas aplicáveis ao RGPS. A questão que se pode colocar é: quais RPPS ainda não cumpriram o mandamento constitucional de aumentar suas alíquotas de contribução? Pode-se identificar uma parcela desses RPPS simplesmente verificando se possuem segregação de massas. Em caso positivo, são deficitários e devem implementar a alteração de alíquotas de uma ou outra forma. Uma outra parcela pode ser identificada verificando se possui alíquota suplementar, indicativo de que o RPPS possui déficit atuarial em equacionamento. Com essa sistemática ficariam de fora os RPPS deficitários que tenham optado por equacionar o deficit por aportes períodicos. Para a identificação desses RPPS será necessário trazer para análise a base de dados Valores_Compromissos que integra o conjunto de arquivos com dados do DRAA. Os comandos a seguir servirão para identificar os RPPS deficitários, tomando por base apenas o arquivo de alíquotas. Na seção anterior foram identificados os RPPS com segregação de massas. Agora será feita a identificação dos RPPS que possuem alíquota suplementar, outro indicador de RPPS deficitário. O comando a seguir identifica os CNPJ dos Entes cujos RPPS possuem alíquota suplementar. cnpj_ente_aliqsup &lt;- aliquotas %&gt;% filter(sujeito_passivo == &quot;Ente-suplementar&quot;) %&gt;% pull(cnpj_ente) %&gt;% unique() Agora será criada na base de dados uma nova coluna chamada possui_aliqsup que assumirá o valor 1 se o RPPS possui alíquota suplementar e o valor 0 caso contrário. aliquotas &lt;- aliquotas %&gt;% mutate(possui_aliqsup = ifelse(cnpj_ente %in% cnpj_ente_aliqsup, 1, 0)) aliquotas %&gt;% select(ente, plano_segregacao, possui_segregacao, possui_aliqsup) %&gt;% head(10) # A tibble: 10 x 4 ente plano_segregacao possui_segregacao possui_aliqsup &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Governo do Estado do Acre PREVIDENCIÁRIO 0 0 2 Governo do Estado do Acre PREVIDENCIÁRIO 0 0 3 Governo do Estado do Acre PREVIDENCIÁRIO 0 0 4 Governo do Estado do Acre PREVIDENCIÁRIO 0 0 5 Governo do Estado do Acre PREVIDENCIÁRIO 0 0 6 Rio Branco FINANCEIRO 1 1 7 Rio Branco FINANCEIRO 1 1 8 Rio Branco FINANCEIRO 1 1 9 Rio Branco FINANCEIRO 1 1 10 Rio Branco PREVIDENCIÁRIO 1 1 Agora será necessáro aplicar um filtro com o objetivo de pegar apenas os registros para os quais o RPPS possui segregação de massas ou alíquota suplementar. rpps_ajuste_aliquota &lt;- aliquotas %&gt;% filter(!(possui_segregacao == 0 &amp; possui_aliqsup == 0)) Uma coisa interessante de se observar é que vários RPPS, apesar de possuirem segregação de massas, possuem também alíquota suplementar. Deve-se fazer novamente a ressalva de que o conjunto de dados acima deixa de fora os RPPS deficitários que optaram por equacionar o deficit via aportes periódicos. Agora que foram identificados parte dos RPPS que devem fazer o ajuste de alíquota, resta identificar quem ainda não fez. O critério será olhar as alíquotas vigentes dos servidores ativos do plano previdenciário. O código a seguir realiza esse filtro: ajuste &lt;- rpps_ajuste_aliquota %&gt;% filter(sujeito_passivo == &quot;Ativos&quot;, plano_segregacao == &quot;PREVIDENCIÁRIO&quot;, is.na(fim_vigencia)) Sempre é interessante checar para ver se existe RPPS em duplicidade na base: any(duplicated(ajuste$cnpj_ente)) [1] TRUE Sim. A identificação dos mesmos pode ser feita da seguinte forma: dups &lt;- ajuste$cnpj_ente[duplicated(ajuste$cnpj_ente)] ajuste %&gt;% filter(cnpj_ente %in% dups) # A tibble: 4 x 10 cnpj_ente ente uf plano_segregacao sujeito_passivo aliquota inic_vigencia fim_vigencia possui_segregacao possui_aliqsup &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;date&gt; &lt;date&gt; &lt;dbl&gt; &lt;dbl&gt; 1 06314439000175 Duque Bacelar MA PREVIDENCIÁRIO Ativos 11 2011-02-01 NA 0 1 2 06314439000175 Duque Bacelar MA PREVIDENCIÁRIO Ativos 13.6 2018-06-01 NA 0 1 3 28920999000106 Porciúncula RJ PREVIDENCIÁRIO Ativos 14 2020-08-01 NA 1 0 4 28920999000106 Porciúncula RJ PREVIDENCIÁRIO Ativos 14 2020-08-01 NA 1 0 Como é possível verificar, há uma duplicidade (Porciúncula-RJ) e o não registro de um término de vigência (Duque Bacelar-MA). Agora é possível olhar para um resumo dos valores das alíquotas nesse subconjunto dos dados: summary(ajuste$aliquota) Min. 1st Qu. Median Mean 3rd Qu. Max. 11.00 11.00 11.00 11.93 14.00 15.00 O comando a seguir irá mostrar quais valores de alíquotas são mais frequentes: ajuste %&gt;% count(aliquota, sort=TRUE) # A tibble: 18 x 2 aliquota n &lt;dbl&gt; &lt;int&gt; 1 11 990 2 14 429 3 12 9 4 13 7 5 12.5 3 6 13.5 2 7 14.2 2 8 11.5 1 9 11.8 1 10 11.8 1 11 12.2 1 12 12.2 1 13 12.3 1 14 12.8 1 15 12.8 1 16 13.2 1 17 13.6 1 18 15 1 Para identificar os RPPS que ainda não providenciaram a alteração da alíquota basta aplicar um filtro para obter os registros onde o valor da alíquota seja inferior a 14% e caso seja de interesse identificar esses RPPS por unidade da federação basta filtrar também por UF. O código a seguir mostra como fazer isso para o RJ: ajuste %&gt;% filter(aliquota &lt; 14, uf == &quot;RJ&quot;) %&gt;% select(ente, uf, aliquota, inic_vigencia) %&gt;% arrange(inic_vigencia) %&gt;% qflextable() .cl-946ef186{border-collapse:collapse;}.cl-944679c2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-9446c7ec{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9446c7ed{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-94484ed2{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed3{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed4{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed5{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed6{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed7{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed8{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484ed9{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484eda{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484edb{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94484edc{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875d8{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875d9{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875da{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875db{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875dc{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875dd{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875de{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875df{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875e0{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875e1{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-944875e2{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489ce8{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489ce9{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cea{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489ceb{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cec{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489ced{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cee{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cef{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cf0{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cf1{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94489cf2{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3f8{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3f9{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3fa{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3fb{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3fc{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3fd{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3fe{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c3ff{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c400{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c401{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448c402{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448eb12{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448eb13{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448eb14{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9448eb15{width:138pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} enteufaliquotainic_vigenciaSão José de UbáRJ112005-10-13MacaéRJ112005-10-23CantagaloRJ112005-12-08CarmoRJ112006-03-27Silva JardimRJ112006-04-30ItatiaiaRJ112006-05-05TeresópolisRJ112006-11-23Cachoeiras de MacacuRJ112007-01-12Campos dos GoytacazesRJ112007-04-27Paraíba do SulRJ112009-03-12Laje do MuriaéRJ112009-05-28Cardoso MoreiraRJ112010-01-01ArealRJ112010-05-31MaricáRJ112010-06-07Duas BarrasRJ112010-12-31Angra dos ReisRJ112011-07-12SaquaremaRJ112012-03-30MendesRJ112012-06-06AperibéRJ112012-12-04ValençaRJ112012-12-27São Sebastião do AltoRJ112013-06-29Volta RedondaRJ112013-09-12SapucaiaRJ112015-01-01MesquitaRJ112015-06-04Barra MansaRJ112016-07-19SumidouroRJ112016-12-14JaperiRJ112017-01-13NiteróiRJ122017-03-30Bom JardimRJ112017-09-15São João de MeritiRJ112018-02-28Rio ClaroRJ112018-10-01PetrópolisRJ112019-06-01 Como os RPPS que não constam da base de dados, bem como aqueles que optaram por equacionar o deficit via aportes pariódicos não são identificados pela metodologia descrita, faz sentido identificar os RPPS que fizerem o ajuste de alíquota, visto que se um RPPS não constar em nenhuma das listagens ou é superavitário ou optou por equacionar o deficit via aportes. O código a seguir identifica os RPPS do RJ que já possuem as alíquotas ajustadas. ajuste %&gt;% filter(aliquota &gt;= 14, uf == &quot;RJ&quot;) %&gt;% select(ente, uf, aliquota, inic_vigencia) %&gt;% arrange(inic_vigencia) %&gt;% qflextable() .cl-94eb8a48{border-collapse:collapse;}.cl-94c86b4e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-94c8b982{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-94c8b983{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-94c9a414{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a415{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a416{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a417{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a418{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a419{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a41a{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a41b{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a41c{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a41d{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9a41e{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb38{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb39{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb3a{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb3b{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb3c{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb3d{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb3e{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb3f{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb40{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb41{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9cb42{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9f22a{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9f22b{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9f22c{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9f22d{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9f22e{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-94c9f22f{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} enteufaliquotainic_vigenciaGoverno do Estado do Rio de JaneiroRJ142017-08-28Duque de CaxiasRJ142017-11-14Rio das OstrasRJ142018-03-01NatividadeRJ142020-07-01PinheiralRJ142020-07-15PorciúnculaRJ142020-08-01PorciúnculaRJ142020-08-01QuatisRJ142020-10-01 2.4 Alíquota do Ente Inferior à do Servidor Ativo Uma outra verificação possível de ser feita é se existe algum Ente cuja alíquota de contribuição para o RPPS seja inferior a do servidor ativo ( Lei 9717, art. 2o, caput ). Para essa análise serão selecionados apenas os registros relativos às alíquotas do Ente e dos servidores ativos do plano previdenciário que estejam em vigor. O código a seguir faz esse filtro: aliq_ente_ativos_prev &lt;- aliquotas %&gt;% filter(sujeito_passivo %in% c(&quot;Ente&quot;, &quot;Ativos&quot;), plano_segregacao == &quot;PREVIDENCIÁRIO&quot;, is.na(fim_vigencia)) No conjunto de dados obtido foi observado que existem alguns RPPS para os quais existem mais de uma alíquota em vigor para o Ente ou para o servidor Ativo. O código abaixo faz a identificação do CNPJ do Ente cujo RPPS apresenta essa inconsistência com vistas a excluí-los da base de dados para que sejam, posterioremnte, objeto de análise à parte. rpps_inconsistente &lt;- aliq_ente_ativos_prev %&gt;% group_by(cnpj_ente) %&gt;% summarise(qtd_linhas = length(cnpj_ente)) %&gt;% filter(qtd_linhas &gt; 2) %&gt;% pull(cnpj_ente) %&gt;% unique() Os RPPS com problemas são os seguintes: aliq_ente_ativos_prev %&gt;% filter(cnpj_ente %in% rpps_inconsistente) %&gt;% qflextable() .cl-96229528{border-collapse:collapse;}.cl-95f1df1e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-95f22d8e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-95f22d8f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-95f478be{width:109pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478bf{width:111pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c0{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c1{width:105pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c2{width:88pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c3{width:32pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c4{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c5{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c6{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c7{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f478c8{width:32pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fd8{width:105pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fd9{width:109pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fda{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fdb{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fdc{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fdd{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fde{width:88pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fdf{width:111pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fe0{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fe1{width:105pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f49fe2{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f2{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f3{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f4{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f5{width:111pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f6{width:109pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f7{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f8{width:32pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6f9{width:88pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6fa{width:105pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6fb{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4c6fc{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee0c{width:32pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee0d{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee0e{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee0f{width:109pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee10{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee11{width:88pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-95f4ee12{width:111pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} cnpj_enteenteufplano_segregacaosujeito_passivoaliquotainic_vigenciafim_vigenciapossui_segregacaopossui_aliqsup04271037000105BarcelosAMPREVIDENCIÁRIOEnte11,02006-06-260004271037000105BarcelosAMPREVIDENCIÁRIOAtivos8,02009-02-010004271037000105BarcelosAMPREVIDENCIÁRIOAtivos9,02009-02-010004271037000105BarcelosAMPREVIDENCIÁRIOAtivos11,02009-02-010014043574000151Feira de SantanaBAPREVIDENCIÁRIOAtivos14,02020-09-010114043574000151Feira de SantanaBAPREVIDENCIÁRIOEnte14,02020-09-010114043574000151Feira de SantanaBAPREVIDENCIÁRIOEnte14,02020-09-010116444150000124OurolândiaBAPREVIDENCIÁRIOEnte14,02018-01-040016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos7,52020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos9,02020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos12,02020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos14,02020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos14,52020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos16,52020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos19,02020-07-010016444150000124OurolândiaBAPREVIDENCIÁRIOAtivos22,02020-07-010004219688000156Conquista d'OesteMTPREVIDENCIÁRIOEnte14,02020-08-010004219688000156Conquista d'OesteMTPREVIDENCIÁRIOAtivos11,02020-08-010004219688000156Conquista d'OesteMTPREVIDENCIÁRIOAtivos13,02020-08-010004219688000156Conquista d'OesteMTPREVIDENCIÁRIOAtivos12,02020-08-010004219688000156Conquista d'OesteMTPREVIDENCIÁRIOAtivos14,02020-08-010028920999000106PorciúnculaRJPREVIDENCIÁRIOEnte14,82017-09-011028920999000106PorciúnculaRJPREVIDENCIÁRIOAtivos14,02020-08-011028920999000106PorciúnculaRJPREVIDENCIÁRIOAtivos14,02020-08-0110 Esses RPPS serão excluídos da base para que não comprometam a análise: # Exclusão dos RPPS inconsistentes aliq_ente_ativos_prev &lt;- aliq_ente_ativos_prev %&gt;% filter(!(cnpj_ente %in% rpps_inconsistente)) %&gt;% select(cnpj_ente, ente, uf, sujeito_passivo, aliquota) Feita a exclusão, já é possível identificar os Entes cujas alíquotas são inferiores às alíquotas dos servidores: # Modificação do formato da base e identificação dos registros onde # a alíquota do Ente é inferior a do servidor ativo aliq_ente_ativos_prev &lt;- aliq_ente_ativos_prev %&gt;% pivot_wider(names_from = sujeito_passivo, values_from = aliquota, values_fn = max) %&gt;% mutate(dif_taxa = Ente - Ativos) %&gt;% filter(dif_taxa &lt; 0) Foram identificados 90 RPPS para os quais, em princípio, a alíquota de contribuição do Ente é inferior à alíquota cobrada dos servidor ativo. Estes RPPS estão listados na tabela a seguir: aliq_ente_ativos_prev %&gt;% select(-cnpj_ente) %&gt;% # qflextable() .cl-97319e14{border-collapse:collapse;}.cl-96f3797c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-96f3c7a6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-96f3c7a7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-96f74ac0{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac1{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac2{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac3{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac4{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac5{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac6{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac7{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac8{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74ac9{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f74aca{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d0{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d1{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d2{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d3{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d4{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d5{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d6{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d7{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d8{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771d9{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f771da{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798f4{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798f5{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798f6{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798f7{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798f8{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798f9{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798fa{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798fb{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798fc{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798fd{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f798fe{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c004{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c005{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c006{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c007{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c008{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c009{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c00a{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c00b{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c00c{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c00d{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7c00e{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e71e{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e71f{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e720{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e721{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e722{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e723{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e724{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e725{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e726{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e727{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f7e728{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e2e{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e2f{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e30{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e31{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e32{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e33{width:186pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e34{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e35{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e36{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-96f80e37{width:38pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} enteufAtivosEntedif_taxaAtalaiaAL1411,0-3,00BranquinhaAL119,3-1,66CajueiroAL118,1-2,88CanapiAL115,2-5,85JundiáAL1411,0-3,00MonteirópolisAL117,6-3,36Palmeira dos ÍndiosAL1411,6-2,39PenedoAL119,2-1,85Tanque d'ArcaAL118,6-2,37TaquaranaAL117,4-3,57Serra DouradaBA115,8-5,20Aparecida de GoiâniaGO119,5-1,50Campo Alegre de GoiásGO1411,5-2,50EdéiaGO1413,0-1,00Gameleira de GoiásGO1110,1-0,92InhumasGO1411,5-2,47Leopoldo de BulhõesGO1413,6-0,41MutunópolisGO117,9-3,10QuirinópolisGO1412,4-1,80São PatrícioGO119,3-1,74Senador CanedoGO1411,5-2,47ChapadinhaMA115,4-5,64PedreirasMA116,0-5,00São Mateus do MaranhãoMA1111,0-0,04Vitória do MearimMA119,7-1,27CoimbraMG1411,8-2,17FelisburgoMG1110,0-1,00Senhora do PortoMG1411,0-3,00RochedoMS1412,0-2,00AcorizalMT117,8-3,20Água BoaMT1413,0-0,97Alto AraguaiaMT146,2-7,83AraguaianaMT148,2-5,84AripuanãMT1411,1-2,91Barra do BugresMT1410,4-3,60CastanheiraMT1413,6-0,43ColnizaMT1413,6-0,45CurvelândiaMT1411,9-2,11Figueirópolis d'OesteMT146,5-7,49Gaúcha do NorteMT1413,6-0,42Glória d'OesteMT147,1-6,94Guarantã do NorteMT1412,2-1,78ItiquiraMT147,6-6,40JaciaraMT1412,8-1,17JauruMT148,8-5,21JuínaMT1411,3-2,70JuruenaMT148,0-6,02Mirassol d'OesteMT1413,0-0,98Nova Canaã do NorteMT1412,7-1,31Nova LacerdaMT1411,9-2,12Nova MarilândiaMT146,2-7,81Nova OlímpiaMT1410,4-3,64Nova Santa HelenaMT146,2-7,81Novo Horizonte do NorteMT147,5-6,52Ponte BrancaMT119,4-1,63Pontes e LacerdaMT146,4-7,56Porto EstrelaMT149,9-4,10Reserva do CabaçalMT149,5-4,49Santo AfonsoMT146,2-7,80São Félix do AraguaiaMT147,9-6,11TabaporãMT147,6-6,38Terra Nova do NorteMT147,2-6,76Vila RicaMT148,2-5,78CurralinhoPA157,6-7,65Dom EliseuPA119,5-1,54Oeiras do ParáPA117,3-3,69RurópolisPA119,5-1,48SourePA1110,8-0,15Lagoa SecaPB1413,8-0,21Santa HelenaPB118,5-2,54Água PretaPE119,8-1,18Águas BelasPE1411,0-3,00AltinhoPE1412,8-1,20AngelimPE1110,8-0,18JupiPE1110,2-0,80PetrolinaPE1411,0-3,00Francisco SantosPI1411,0-3,00JabotiPR1413,0-1,00NatividadeRJ1412,1-1,95Boa Saúde (antigo Januário Cicco)RN115,7-5,30Coronel João PessoaRN118,7-2,28GoianinhaRN1110,4-0,62São ToméRN1413,0-1,00Barra do Rio AzulRS1413,8-0,18Nova PáduaRS1411,0-3,00Porto Vera CruzRS1412,0-2,00NavegantesSC1411,4-2,62Ilha das FloresSE116,7-4,29SumaréSP119,5-1,51Couto de MagalhãesTO1110,1-0,88 "],["crp-certificado-de-regularidade-previdenciária.html", "Capítulo 3 CRP - Certificado de Regularidade Previdenciária 3.1 Análise exploratória preliminar 3.2 Análise restrita aos RPPS 3.3 Análise segundo a quantidade de dias vencidos 3.4 Efeito da constitucionalização do CRP 3.5 Mapas com dados dos CRP", " Capítulo 3 CRP - Certificado de Regularidade Previdenciária Este capítulo objetiva mostrar algumas possibilidades de análise dos dados do CRP A primeira coisa a ser feita, como sempre, é realizar a importação e o pré-processamento dos dados: crp &lt;- read_excel(&quot;dados/5-validade-crp_atualizacao_de_ago_set_2020_extracao_em_2020-10-06t18_25_59.xlsx&quot;) head(crp) # A tibble: 6 x 8 UF ENTE `NR CRP` `DATA DE EMISSÃO` `DATA DE VALIDADE` `CRP JUDICIAL` `TIPO DE REGIME` `SITUAÇÃO DO CRP` &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 AC Acrelândia 980643-185126 17/04/2020 14/10/2020 NÃO RGPS VÁLIDO 2 AC Assis Brasil 980157-186981 24/06/2020 21/12/2020 NÃO RGPS VÁLIDO 3 AC Brasiléia 980105-185377 28/04/2020 25/10/2020 NÃO RGPS VÁLIDO 4 AC Bujari 980645-188197 15/08/2020 11/02/2021 NÃO RGPS VÁLIDO 5 AC Capixaba 980647-188445 19/08/2020 15/02/2021 NÃO RGPS VÁLIDO 6 AC Cruzeiro do Sul 980107-187340 07/07/2020 03/01/2021 NÃO RGPS VÁLIDO O conjunto de dados contempla tanto os entes vinculados ao RGPS quanto ao RPPS e fornece algumas informações sobre o CRP. Para facilitar a análise posterior dos dados as colunas serão renomeadas e as variáveis indicativas de datas serão convertidas para um formato de data. # Alterar nomes das variáveis crp &lt;- crp %&gt;% rename(uf = UF, ente = ENTE, num_crp = `NR CRP`, dt_emissao = `DATA DE EMISSÃO`, dt_validade = `DATA DE VALIDADE`, judicial = `CRP JUDICIAL`, tipo_regime = `TIPO DE REGIME`, situacao = `SITUAÇÃO DO CRP`) # Converter datas para o formato de datas crp &lt;- crp %&gt;% mutate(dt_emissao = dmy(dt_emissao), dt_validade = dmy(dt_validade)) head(crp) # A tibble: 6 x 8 uf ente num_crp dt_emissao dt_validade judicial tipo_regime situacao &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 AC Acrelândia 980643-185126 2020-04-17 2020-10-14 NÃO RGPS VÁLIDO 2 AC Assis Brasil 980157-186981 2020-06-24 2020-12-21 NÃO RGPS VÁLIDO 3 AC Brasiléia 980105-185377 2020-04-28 2020-10-25 NÃO RGPS VÁLIDO 4 AC Bujari 980645-188197 2020-08-15 2021-02-11 NÃO RGPS VÁLIDO 5 AC Capixaba 980647-188445 2020-08-19 2021-02-15 NÃO RGPS VÁLIDO 6 AC Cruzeiro do Sul 980107-187340 2020-07-07 2021-01-03 NÃO RGPS VÁLIDO Como é possível verificar, a base de dados possui 8 variáveis. Embora os nomes das varáveis dêem uma boa indicação de seu conteúdo apresenta-se, a seguir, a descrição do conteúdo de cada coluna. variável descrição uf sigla da unidade da federação na qual o RPPS está localizado ente nome do Ente (Estados, Municipios ou Distrito Federal) num_crp número do CRP dt_emissao data de emissão do CRP dt_validade data de validade do CRP (o CRP tem validade de 6 meses a partir de sua emissão) judicial indica se o CRP foi obtido por via judicial - SIM, NÂO tipo_regime tipo de regime previdenciário ao qual o Ente está vinculado - RGPS ou RPPS situacao situação do CRP - VÁLIDO ou VENCIDO Com essa base de dados é possível identificar a situação do Ente com relação à validade do CRP e também calcular algumas estatísticas. 3.1 Análise exploratória preliminar Pode-se começar por verificar quais valores as variáveis judicial, tipo_regime e situacao podem assumir. crp %&gt;% select(tipo_regime, situacao, judicial) %&gt;% map(unique) $tipo_regime [1] &quot;RGPS&quot; &quot;RPPS&quot; &quot;RPPS em extincao&quot; $situacao [1] &quot;VÁLIDO&quot; &quot;VENCIDO&quot; $judicial [1] &quot;NÃO&quot; &quot;SIM&quot; A saída indica os possíveis valores de cada uma das três variáveis. Um ponto importante é que a classificação do CRP em VÁLIDO ou VENCIDO é feita tomando-se como referência a data de extração dos dados no sistema CADPREV. Os dados do CRP ora em análise foi extraído em 2020-10-06 conforme indicado no nome do arquivo. Assim, se a data de validade do CRP é posterior ou igual a essa data, ele é classificado como VÁLIDO caso contrário como VENCIDO. No Capítulo 1 foi apresentado o quantitativo dos Entes vinculados ao RGPS e ao RPPS. Talvez seja interessante verificar se, proporcionalmente, tem-se mais CRP vencidos no RGPS ou no RPPS. Antes de prosseguir, vale a pena verificar a distribuição dos Entes entre os regimes e comparar com o que foi obtido no Capítulo 1: crp %&gt;% count(tipo_regime) %&gt;% mutate(`%` = round(n / sum(n) * 100, 2)) %&gt;% qflextable() .cl-9850135c{border-collapse:collapse;}.cl-9833ac9e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-9833fad2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9833fad3{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9834be40{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9834be41{width:108pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9834be42{width:108pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9834be43{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9834be44{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9834be45{width:108pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} tipo_regimen%RGPS3.41861,13RPPS2.15238,49RPPS em extincao210,38 Neste arquivo, tem-se 3.418 Entes vinculados ao RGPS o que confere com o valor obtido no Capítulo 1, Mas o quantitativo de Entes vinculados ao RPPS diverge um pouco: 2.152 contra 2.156 do Capítulo 1. Tem-se aqui 4 RPPS a menos. O quantitativo de RPPS em extinção também confere. A seguir calcula-se o quantitativo de entes vinculados a cada regime (n), a quantidade de entes com CRP vencido em cada regime (n_vencido) e o percentual (%_vencido): crp %&gt;% group_by(tipo_regime) %&gt;% summarise(n = n(), n_vencido = sum(ifelse(situacao == &quot;VENCIDO&quot;, 1, 0)), `%_vencido` = round( n_vencido / n * 100, 2)) %&gt;% qflextable() .cl-98cbeab8{border-collapse:collapse;}.cl-98aff93e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-98b04768{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-98b04769{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-98b10ad6{width:69pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10ad7{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10ad8{width:65pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10ad9{width:108pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10ada{width:69pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10adb{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10adc{width:65pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10add{width:108pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10ade{width:69pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10adf{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b10ae0{width:65pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-98b131f0{width:108pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} tipo_regimenn_vencido%_vencidoRGPS3.41872621RPPS2.15266331RPPS em extincao21733 O resultado indica que o percentual de entes com CRP vencido é elevado em ambos os regimes, mas o maior percentual está no RPPS (30,81%). Uma checagem sempre oportuna é verificar se não existe duplicidade de CRP: any(duplicated(crp$num_crp)) [1] FALSE O resultado indica não existir CRP duplicado na base. Em extrações mais antigas desta base de dados essa situação ocorria. Uma coisa que se sabe em relação a esta base de dados é que, se a data de validade do CRP coincide com a data de extração dos dados, o CRP é considerado vencido o que não é correto. A conferência pode ser feita da seguinte forma: dt_extracao_dados &lt;- &quot;2020-10-06&quot; crp %&gt;% filter(dt_validade == ymd(dt_extracao_dados)) # A tibble: 0 x 8 # ... with 8 variables: uf &lt;chr&gt;, ente &lt;chr&gt;, num_crp &lt;chr&gt;, dt_emissao &lt;date&gt;, dt_validade &lt;date&gt;, judicial &lt;chr&gt;, tipo_regime &lt;chr&gt;, situacao &lt;chr&gt; Nenhuma data de validade coincidiu com a data de extração da base de dados que, como já mencionado acima, deu-se em 06/10/2020. 3.2 Análise restrita aos RPPS Nesta seção as análises serão restritas aos RPPS ativos, sendo então necessário excluir da base de dados os registros relativos ao RGPS e aos RPPS em extinção. crp_rpps &lt;- crp %&gt;% filter(tipo_regime == &quot;RPPS&quot;) Agora é possível responder a algumas questões: por exemplo: quantos entes com CRP vencido existe em cada UF? Quanto esse quantitativo representa do total de RPPS existentes na UF? crp_rpps %&gt;% group_by(uf) %&gt;% summarise(n_rpps = n(), n_crp_vencido = sum(situacao == &quot;VENCIDO&quot;), `%_crp_vencido` = round(n_crp_vencido / n_rpps * 100, 2)) %&gt;% arrange(desc(`%_crp_vencido`)) %&gt;% qflextable() .cl-999ad0f8{border-collapse:collapse;}.cl-99712154{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-99716f7e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-99716f7f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-99731e8c{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345a6{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345a7{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345a8{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345a9{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345aa{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345ab{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345ac{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345ad{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345ae{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345af{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997345b0{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc0{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc1{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc2{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc3{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc4{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc5{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc6{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc7{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc8{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cc9{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-99736cca{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997393da{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997393db{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997393dc{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997393dd{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-997393de{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} ufn_rppsn_crp_vencido%_crp_vencidoPA281761RN412254AL743953RR2150BA381847GO1718147RJ793747TO301240PI712839MG2218438MA471634PB712434SP2227333CE651929AP4125PR1794123AM27622PE1493322MT1072322MS521121RS3325717ES35617SC701014RO30413AC200DF100SE400 Em boa parte dos estados tem-se um elevado percentual de entes com o CRP vencido. Também poderíamos incluir na tabela acima a quantidade de entes com CRP obtido pela via judicial e qual o percentual em relação ao total de entes na UF. crp_rpps %&gt;% group_by(uf) %&gt;% summarise(n_rpps = n(), n_crp_vencido = sum(situacao == &quot;VENCIDO&quot;), `%_crp_vencido` = round(n_crp_vencido / n_rpps * 100, 2), n_crp_judicial = sum(judicial == &quot;SIM&quot;), `%_crp_judicial` = round(n_crp_judicial / n_rpps * 100, 2)) %&gt;% arrange(desc(`%_crp_judicial`)) %&gt;% qflextable() .cl-9a3754aa{border-collapse:collapse;}.cl-9a0e6838{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-9a0eb66c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9a0eb66d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9a108b7c{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b7d{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b7e{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b7f{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b80{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b81{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b82{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b83{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b84{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b85{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a108b86{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b28c{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b28d{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b28e{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b28f{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b290{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b291{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b292{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b293{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b294{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b295{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10b296{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10dad2{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9a10dad3{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} ufn_rppsn_crp_vencido%_crp_vencidon_crp_judicial%_crp_judicialDF1001100,0SE4004100,0AM276222385,2MA4716343983,0PE149332212080,5AP4125375,0PB7124344867,6BA3818472463,2AL7439534358,1CE6519293655,4AC200150,0RR2150150,0RO304131136,7PA2817611035,7RJ7937472430,4RN4122541229,3MG22184385324,0PI7128391622,5GO17181473520,5SP22273334118,5MS521121917,3ES35617617,1TO301240413,3SC701014912,9PR17941232111,7RS33257173711,1MT107232243,7 Na tabela acima apresenta-se apenas um resumo quantitativo mostrando a quantidade de entes com CRP vencido e judicial. Caso haja a necessidade de identificar os Entes em uma Unidade da Federação com o CRP vencido ou com CRP judicial, basta aplicar um filtro. Exemplo: RPPS do ERJ com CRP vencido: crp_rpps %&gt;% filter(uf == &quot;RJ&quot;, situacao == &quot;VENCIDO&quot;) %&gt;% select(ente, num_crp, dt_emissao, dt_validade) %&gt;% arrange(desc(dt_validade)) %&gt;% qflextable() .cl-9acd6f4e{border-collapse:collapse;}.cl-9aa25eb2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-9aa2d3f6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9aa2d3f7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9aa4a94c{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a94d{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a94e{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a94f{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a950{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a951{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a952{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a953{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a954{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a955{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4a956{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d066{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d067{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d068{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d069{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d06a{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d06b{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d06c{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d06d{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d06e{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d06f{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4d070{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f758{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f759{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f75a{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f75b{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f75c{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f75d{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f75e{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f75f{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f760{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f761{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa4f762{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa51e72{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa51e73{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa51e74{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa51e75{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa51e76{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9aa51e77{width:199pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} entenum_crpdt_emissaodt_validadeResende985883-1841522020-03-292020-09-25Cantagalo985821-1840962020-03-242020-09-20Cardoso Moreira982915-1840952020-03-242020-09-20Governo do Estado do Rio de Janeiro953001-1839382020-03-162020-09-12São Pedro da Aldeia985903-1834552020-02-282020-08-26Pinheiral980778-1826282020-01-302020-07-28Cabo Frio985813-1818732019-12-272020-06-24Rio das Ostras982921-1816072019-12-162020-06-13Quissamã986007-1802222019-10-252020-04-22Saquarema985909-1798612019-10-152020-04-12Campos dos Goytacazes985819-1798072019-10-092020-04-06São João de Meriti985901-1738952019-03-282019-09-24Sapucaia985907-1723582019-01-302019-07-29Rio Claro985887-1718292019-01-072019-07-06Carapebus980772-1679922018-08-282019-02-24Areal982925-1671362018-07-252019-01-21Silva Jardim985911-1515962017-03-202017-09-16Italva985929-1482842016-11-032017-05-02Santo Antônio de Pádua985893-1468122016-09-192017-03-18Queimados982911-1435792016-07-262017-01-22Paraíba do Sul985873-1384902016-01-132016-07-11Duque de Caxias985833-1381402015-12-302016-06-27Mendes985855-1359742015-10-212016-04-18Laje do Muriaé985845-1349212015-09-102016-03-08Armação dos Búzios980770-1344452015-08-222016-02-18Mesquita981116-1339652015-07-282016-01-24São Sebastião do Alto985905-1338152015-07-202016-01-16Japeri982913-1305512015-03-302015-09-26Cambuci985817-1293682015-02-092015-08-08Quatis982923-1252562014-08-252015-02-21Itaperuna985843-1246482014-07-282015-01-24Rio Bonito985885-1178202013-11-052014-05-04Belford Roxo982909-997482011-09-272012-03-25Itaocara985841-882002010-07-282011-01-24Iguaba Grande980774-477712007-05-182007-11-14Magé985849-303522005-03-022005-05-01Araruama985803-285722004-12-232005-02-21 Outro exemplo: RPPS do ERJ com CRP válido mas judicial: crp_rpps %&gt;% filter(uf == &quot;RJ&quot;, judicial == &quot;SIM&quot;, situacao == &quot;VÁLIDO&quot;) %&gt;% select(ente, num_crp, dt_emissao, dt_validade) %&gt;% arrange(desc(dt_validade)) %&gt;% qflextable() .cl-9b5777b6{border-collapse:collapse;}.cl-9b35e024{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-9b362e58{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9b362e59{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9b373fbe{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766ce{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766cf{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d0{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d1{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d2{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d3{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d4{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d5{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d6{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d7{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b3766d8{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dd4{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dd5{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dd6{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dd7{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dd8{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dd9{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dda{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378ddb{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378ddc{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378ddd{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b378dde{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4e4{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4e5{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4e6{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4e7{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4e8{width:71pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4e9{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9b37b4ea{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} entenum_crpdt_emissaodt_validadeTeresópolis985915-1890242020-09-112021-03-10Miracema985859-1888272020-09-022021-03-01Angra dos Reis985801-1886952020-08-302021-02-26São Gonçalo985897-1881482020-08-122021-02-08Itaguaí985839-1877432020-07-292021-01-25Rio de Janeiro986001-1873982020-07-092021-01-05Aperibé982919-1872952020-07-072021-01-03Nilópolis985863-1868552020-06-182020-12-15Volta Redonda985925-1864972020-06-062020-12-03Barra Mansa985807-1861102020-05-262020-11-22Seropédica980786-1861402020-05-262020-11-22Barra do Piraí985805-1855082020-05-032020-10-30Itaboraí985837-1853702020-04-282020-10-25São Fidélis985895-1853822020-04-282020-10-25Cachoeiras de Macacu985815-1851692020-04-192020-10-16Mangaratiba985851-1850642020-04-152020-10-12 Para fechar esta seção, pode-se verificar se existe alguma relação entre as variáveis situacao e judicial. Sendo estas variáveis qualitativas uma tabela de contingência pode ajudar nessa investigação: with(crp_rpps, table(judicial, situacao)) situacao judicial VÁLIDO VENCIDO NÃO 970 547 SIM 519 116 with(crp_rpps, table(judicial, situacao)) %&gt;% mosaicplot(color = c(&quot;lightblue&quot;, &quot;lightgreen&quot;)) Para visualizar a tabela de contingência elaborada acima, apresenta-se um gráfico de mosaico, que confirma que a judicialização é uma boa estratégia para evitar o CRP vencido. A proporção de CRP vencidos (em verde) é maior (praticamente o dobro) entre os não judicializados que nos judicializados. 3.3 Análise segundo a quantidade de dias vencidos A partir da variável dt_validade e da data de extração dos dados, pode-se criar na base de dados uma nova variável contendo a quantidade de dias decorridos da data de validade do CRP até a data de extração dos dados. Isso é feito no código a seguir: crp_rpps &lt;- crp_rpps %&gt;% mutate(n_dias = as.numeric(difftime(ymd(dt_extracao_dados), dt_validade, units = &quot;days&quot;))) head(crp_rpps) # A tibble: 6 x 9 uf ente num_crp dt_emissao dt_validade judicial tipo_regime situacao n_dias &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; 1 AC Governo do Estado do Acre 931001-185475 2020-04-30 2020-10-27 SIM RPPS VÁLIDO -21 2 AC Rio Branco 980139-185330 2020-04-23 2020-10-20 NÃO RPPS VÁLIDO -14 3 AL Arapiraca 982705-187383 2020-07-09 2021-01-05 NÃO RPPS VÁLIDO -91 4 AL Atalaia 982707-112197 2013-03-18 2013-09-14 NÃO RPPS VENCIDO 2579 5 AL Barra de Santo Antônio 982709-186655 2020-06-13 2020-12-10 SIM RPPS VÁLIDO -65 6 AL Batalha 982713-11816 2002-11-29 2003-05-28 NÃO RPPS VENCIDO 6341 Essa nova variável apresenta valores inteiros positivos para os CRP vencidos, indicando a quantidade de dias decorridos da data de vencimento até a data de extração dos dados. Por outro lado, os inteiros negativos indicam a quantidade de dias a decorrer da data de extração até a data de validade, estando assim associados aos RPPS em situação regular. Pode-se fazer algumas análises com essa nova variável. Por exemplo, pode-se observar a distribuição da quantidade de dias para os CRP vencidos a mais de 30 dias. crp_rpps %&gt;% filter(n_dias &gt; 30) %&gt;% # Acima de 30 dias de vencimento ggplot(aes(x=n_dias)) + geom_histogram(color=&quot;black&quot;, fill=&quot;lightblue&quot;) + labs(title=&quot;Distribuição da Quantidade de Dias\\n(CRP vencido a mais de 30 dias )&quot;, y=&quot;Freq. Absoluta&quot;, x=&quot;Qtd. de Dias&quot;) + theme_bw() E por UF? crp_rpps %&gt;% filter(n_dias &gt; 30) %&gt;% # Acima de 30 dias de vencimento ggplot(aes(x=uf, y=n_dias)) + geom_boxplot(outlier.shape = NA) + geom_jitter(color=&quot;gray&quot;) + geom_hline(yintercept = 365, color=&quot;blue&quot;) + labs(title=&quot;Distribuição da Qtd. de Dias após a Data de Vencimento do CRP\\n(Apenas CRP vencidos a mais de 30 dias)&quot;, y=&quot;Qtd. de Dias Vencido&quot;, x=&quot;Unidade da Federação&quot;) + theme_bw() O gráfico apresenta os dias de atraso (superiores a 30 dias) do CRP por unidade da federação. A linha azul indica a marca dos 365 dias. É possível ver que os CRP vencidos a mais tempo estão na casa dos 6000 dias. A base de dados não contém informações sobre o porte do RPPS de forma a que se possa avaliar se o CRP vencido tem alguma relação com essa variável. Não seria difícil trazer essa informação para a base de dados, mas considerando que o objetivo aqui é trabalhar apenas os dados do CRP, essa verificação será deixada para capítulo posterior. Para identificar os RPPS que estão com determinada quantidade de dias em atraso, é só aplicar um filtro na base de dados. Quais os RPPS que integram os 10% que estão com os maiores dias de atraso? percentil_90 &lt;- quantile(crp_rpps$n_dias[crp_rpps$n_dias &gt; 30], probs = 0.9) crp_rpps %&gt;% filter(n_dias &gt;= percentil_90) %&gt;% select(ente, uf, dt_emissao, dt_validade, n_dias) %&gt;% arrange(desc(n_dias)) # A tibble: 45 x 5 ente uf dt_emissao dt_validade n_dias &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;dbl&gt; 1 Barreiras do Piauí PI 2001-07-24 2002-01-20 6834 2 Rochedo de Minas MG 2002-06-17 2002-12-14 6506 3 Miraí MG 2002-11-28 2003-05-27 6342 4 Batalha AL 2002-11-29 2003-05-28 6341 5 Santo Antônio do Tauá PA 2002-12-02 2003-05-31 6338 6 Belém AL 2002-12-06 2003-06-04 6334 7 Antônio Gonçalves BA 2003-01-20 2003-07-19 6289 8 Pinheiro Machado RS 2003-01-29 2003-07-28 6280 9 Piau MG 2003-04-07 2003-10-04 6212 10 Palestina AL 2003-06-01 2003-11-28 6157 # ... with 35 more rows A partir da nova variável, pode-se criar uma outra variável contendo um escalonamento da variável n_dias de forma a classificar os Entes em função da quantidade de dias em que os CRP estão vencidos. Por exemplo, seria possível adotar a seguinte classificação: a vencer, 1 a 30 dias, 31 a 60 dias, 61 a 90 dias, 91 a 180 dias, 181 a 365 dias, 1 a 5 anos e mais de 5 anos. Para fazer esse escalonamento, será criada uma nova variável cujo nome será categoria que irá classificar o Ente de acordo com o nível de severidade do vencimento do CRP. crp_rpps &lt;- crp_rpps %&gt;% mutate(categoria = cut(n_dias, breaks =c(-Inf, 0, 30, 60, 90, 180, 365, 5*365, Inf) , labels = c(&quot;a vencer&quot;, &quot;1 a 30 dias&quot;, &quot;31 a 60 dias&quot;, &quot;61 a 90 dias&quot;, &quot;91 a 180 dias&quot;, &quot;181 a 365 dias&quot;, &quot;1 a 5 anos&quot;, &quot;mais de 5 anos&quot;))) head(crp_rpps) # A tibble: 6 x 10 uf ente num_crp dt_emissao dt_validade judicial tipo_regime situacao n_dias categoria &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;fct&gt; 1 AC Governo do Estado do Acre 931001-185475 2020-04-30 2020-10-27 SIM RPPS VÁLIDO -21 a vencer 2 AC Rio Branco 980139-185330 2020-04-23 2020-10-20 NÃO RPPS VÁLIDO -14 a vencer 3 AL Arapiraca 982705-187383 2020-07-09 2021-01-05 NÃO RPPS VÁLIDO -91 a vencer 4 AL Atalaia 982707-112197 2013-03-18 2013-09-14 NÃO RPPS VENCIDO 2579 mais de 5 anos 5 AL Barra de Santo Antônio 982709-186655 2020-06-13 2020-12-10 SIM RPPS VÁLIDO -65 a vencer 6 AL Batalha 982713-11816 2002-11-29 2003-05-28 NÃO RPPS VENCIDO 6341 mais de 5 anos A distribuição dos RPPS segundo essa classificação pode ser feita da seguinte forma: crp_rpps %&gt;% group_by(categoria) %&gt;% summarise(n_rpps = n()) %&gt;% mutate(`%` = round( n_rpps / sum(n_rpps) * 100, 2), `%_acum` = cumsum(`%`)) %&gt;% qflextable() .cl-9e31d0b2{border-collapse:collapse;}.cl-9e14f460{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-9e15428a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9e15428b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-9e162d12{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d13{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d14{width:58pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d15{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d16{width:58pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d17{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d18{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d19{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d1a{width:43pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d1b{width:90pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e162d1c{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e16542c{width:58pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} categorian_rpps%%_acuma vencer1.48969,19691 a 30 dias22010,227931 a 60 dias391,818161 a 90 dias190,888291 a 180 dias432,0084181 a 365 dias532,46871 a 5 anos1506,9794mais de 5 anos1396,46100 Para visualizar a distribuição de frequência apresentada acima, será feito uso de um gráfico de barras:. crp_rpps %&gt;% group_by(categoria) %&gt;% summarise(frequencia = n()) %&gt;% ggplot(aes(x=categoria, y=frequencia)) + geom_bar(stat=&quot;identity&quot;, fill=&quot;orange&quot;) + geom_text(aes(label=frequencia), color=&quot;blue&quot;, vjust = 0, size=4) + labs(title=&quot;Quantidade de RPPS em cada Categoria&quot;, y=&quot;Qtd. de RPPS&quot;, x=&quot;Categorias&quot;) + theme_bw() O mesmo gráfico pode ser feito para cada UF, bastando simplesmente inserir no código acima um filtro para pegar os dados da UF selecionada. Por exemplo, o gráfico para o RJ seria feito da seguinte forma: crp_rpps %&gt;% filter(uf == &quot;RJ&quot;) %&gt;% group_by(categoria) %&gt;% summarise(frequencia = n()) %&gt;% ggplot(aes(x=categoria, y=frequencia)) + geom_bar(stat=&quot;identity&quot;, fill=&quot;orange&quot;) + geom_text(aes(label=frequencia), color=&quot;blue&quot;, vjust = 0, size=4) + labs(title=&quot;Quantidade de RPPS em cada Categoria - RJ&quot;, y=&quot;Qtd. de RPPS&quot;, x=&quot;Categorias&quot;) + theme_bw() Infelizmente a base de dados não possui informações sobre os critérios do CRP. Essas seriam informações interessantes de constar da base de dados. 3.4 Efeito da constitucionalização do CRP A partir da EC 103/19, diz-se que houve a constitucionalização do CRP e que, em função desse fato, tornar-se-ia mais difícil para os Entes obterem CRP pela via judicial. Se, de fato, isso ocorrer é possível que junto com uma redução dos CRP judiciais ocorra um aumento no quantitativo de CRP vencidos. Ou pode ser que a constitucionalização em nada influa na quantidade de CRP judicial. Assim, uma análise possível com os dados do CRP é verificar como evoluiu, a cada atualização da base de dados, o quantitativo de RPPS com CRP judicial e com CRP vencido. Essa análise pode ser feita de forma global, considerando todos os RPPS brasileiros, ou uma análise por unidade da federação. Durante o ano de 2020, tem-se o registro de que ocorreram cinco atualizações/publicações da base de dados do CRP no site da SPREV: Ago-Set/2020 (base objeto de análise nesse documento) Jul-Ago/2020 Jun/2020 Abr/2020 e Fev/2020 Será que nesse período é possível notar alguma redução significativa na quantidade de CRP judicial? Para iniciar essa análise será feita análise dos arquivos de Fev/2020 e Ago-Set/2020. A seguir será feita a importação dos dados do CRP relativos à atualização de Fev/2020: crp_rpps_fev20 &lt;- readRDS(&quot;dados/crp_DtRef_FEV2020.Rds&quot;) head(crp_rpps_fev20) # A tibble: 6 x 9 cnpj ente uf num_crp dt_emissao dt_validade judicial situacao regime &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt; &lt;dttm&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 63606479000124 Governo do Estado do Acre AC 931001-180304 2019-10-31 00:00:00 2020-04-28 00:00:00 SIM VÁLIDO RPPS 2 04034583000122 Rio Branco AC 980139-180260 2019-10-26 00:00:00 2020-04-23 00:00:00 NÃO VÁLIDO RPPS 3 12198693000158 Arapiraca AL 982705-179730 2019-10-06 00:00:00 2020-04-03 00:00:00 NÃO VÁLIDO RPPS 4 12200143000126 Atalaia AL 982707-112197 2013-03-18 00:00:00 2013-09-14 00:00:00 NÃO VENCIDO RPPS 5 12262713000102 Barra de Santo Antônio AL 982709-181523 2019-12-13 00:00:00 2020-06-10 00:00:00 SIM VÁLIDO RPPS 6 12250056000183 Batalha AL 982713-11816 2002-11-29 00:00:00 2003-05-28 00:00:00 NÃO VENCIDO RPPS crp_rpps_fev20 %&gt;% count(regime) # A tibble: 1 x 2 regime n &lt;chr&gt; &lt;int&gt; 1 RPPS 2135 crp_rpps %&gt;% count(tipo_regime) # A tibble: 1 x 2 tipo_regime n &lt;chr&gt; &lt;int&gt; 1 RPPS 2152 A base de dados de CRP de Fev/20 continha 2.135 RPPS enquanto a de Ago-Set/20 possui 2.152 e ambas referem apenas a RPPS. Verifica-se um aumento de 17 RPPS na base de dados no período considerado. A quantidade de RPPS com CRP judicial em ambas as bases é obtida a seguir: with(crp_rpps_fev20, table(judicial,situacao)) situacao judicial VÁLIDO VENCIDO NÃO 942 572 SIM 538 83 with(crp_rpps, table(judicial, situacao)) situacao judicial VÁLIDO VENCIDO NÃO 970 547 SIM 519 116 Os resultados indicam que o quantitativo de CRP vencidos entre os judiciais aumentou de 83 para 116. Por outro lado, os CRP válidos entre os judiciais caiu de 538 para 519. 3.5 Mapas com dados dos CRP Pode ser interessante visualizar em um mapa da UF a situação do CRP dos entes municipais, ou num mapa do Brasil a situação do CRP dos estados. Para executar essa tarefa será necessário utilizar pacotes adicionais que facilitem a obtenção e elaboração de mapas. Esses pacotes são o geobr e o sf, que junto com o ggplot2 irão fazer esse trabalho. Carregando os pacotes adicionais: library(sf) library(geobr) O primeiro passo será importar o arquivo contendo o mapa do ERJ. O pacote geobr facilita a obtenção dos arquivos shape necessários. mapa_rj &lt;- read_municipality(code_muni = &quot;RJ&quot;, year=2018, showProgress = FALSE) Para a obtenção do mapa de outro estado basta substituir o RJ no código acima pela sigla da UF desejada. Obtidos os dados para a confecção do mapa, já é possivel fazer um gráfico básico sem quaisquer dados sendo apresentados: ggplot(mapa_rj) + geom_sf() + theme_bw() + theme(axis.text = element_blank()) Faz-se necessário agora associar uma ou mais variáveis à base de dados mapa_rj para que estas variáveis possam ser visualizadas no mapa. Deve-se observar que as duas bases de dados (mapa_rj e crp) tem em comum apenas a variável contendo o nome dos entes. Fazer a junção dos dois conjuntos de dados com base nessa variável é arriscado em razão dos nomes dos municípios poderem estar diferentes. A estratégia seguida foi é incluir na base do CRP uma variável contendo o código IBGE dos entes, os quais foram obtidos no site https://www.ibge.gov.br/explica/codigos-dos-municipios.php O arquivo contendo a base do CRP e com os códigos do IBGE (combinadas manualmente) chama-se codigo_ibge.xlsx e sua importação é feita a seguir: ibge &lt;- read_excel(&quot;dados/codigo_ibge.xlsx&quot;) head(ibge) # A tibble: 6 x 8 uf ente cod_uf nm_estado cod_ibge cnpj regime dif_ibge_sprev &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;lgl&gt; 1 AC Acrelândia 12 Acre 1200013 84306737000127 RGPS NA 2 AC Assis Brasil 12 Acre 1200054 04045993000179 RGPS NA 3 AC Brasiléia 12 Acre 1200104 04508933000145 RGPS NA 4 AC Bujari 12 Acre 1200138 84306620000143 RGPS NA 5 AC Capixaba 12 Acre 1200179 84306604000150 RGPS NA 6 AC Cruzeiro do Sul 12 Acre 1200203 04012548000102 RGPS NA Como pode ser visto, a base de dados contém o nome do ente (com a mesma grafia da base de CRP), o código IBGE e o CNPJ além de outras variáveis. Em especial deve-se notar a variável dif_ibge_sprev. Durante o processo de montagem do arquivo observou-se que na relação de Entes elaborada pela SPREV, objeto de análise no capítulo 1, existe 2 municípios que constam da base do IBGE e não têm correspondência na base da SPREV e, da mesma forma, dois municípios da base da SPREV não possuiam correspondência na base do IBGE. Após alguma investigação restou evidenciada divergência de nomes dos municípios. O quadro a seguir elenca os municípios em questão: CNPJ Ente UF Nome SPREV Nome IBGE 08.787.392/0001-92 PB Campo de Santana Tacima 01.613.283/0001-00 PB Santarém Joca Claudino Para prosseguir, será necessário excluir esses registros mais o registro relativo a Fernando de Noronha - PE: ibge %&gt;% filter(dif_ibge_sprev == 1) # A tibble: 3 x 8 uf ente cod_uf nm_estado cod_ibge cnpj regime dif_ibge_sprev &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;lgl&gt; 1 PB Joca Claudino 25 Paraíba 2513653 01613283000100 RGPS TRUE 2 PB Tacima 25 Paraíba 2516409 08787392000192 RGPS TRUE 3 PE Fernando de Noronha 26 Pernambuco 2605459 NA NA TRUE Exclusão dos registros acima: ibge &lt;- ibge %&gt;% filter(is.na(dif_ibge_sprev)) A base de dados do mapa (mapa_rj) pode agora ser combinada com essa base de dados (ibge) para, depois, serem juntados os dados da base de CRP (crp_rpps) essa última contendo os dados a serem visualizados. Juntar ao mapa os dados do ibge: ibge$cod_ibge &lt;- as.numeric(ibge$cod_ibge) mapa_rj &lt;- left_join(mapa_rj, ibge, by=c(&quot;code_muni&quot; = &quot;cod_ibge&quot;)) Juntar ao mapa os dados do crp: mapa_rj = left_join(mapa_rj, crp_rpps, by=c(&quot;ente&quot; = &quot;ente&quot;, &quot;abbrev_state&quot; = &quot;uf&quot;)) Agora já é possível apresentar os dados da base do CRP no mapa. Em especial o interesse está em plotar os dias de atraso (n_dias). ggplot(mapa_rj) + geom_sf(aes(fill=n_dias)) + labs(title=&quot;Dias Decorridos do Vencimento do CRP&quot;, caption=&#39;Fonte: base de dados da SPREV&#39;, size=8) + theme_minimal() + theme(axis.text = element_blank()) + scale_fill_distiller(palette = &quot;PuOr&quot;) Quanto mais claro o azul, a mais dias vencidos está o CRP. Os municípios em cinza estão vinculados ao RGPS. Também é possível mostrar a variável judicial: ggplot(mapa_rj) + geom_sf(aes(fill=judicial), size=.15) + labs(title=&quot;Judicialização do CRP&quot;, caption=&#39;Fonte: base de dados da SPREV&#39;, size=8) + theme_minimal() + theme(axis.text = element_blank()) + scale_fill_manual(values = c(&quot;lightblue&quot;, &quot;tomato&quot;)) Mais um mapa. Agora mostrando a situação do CRP: ggplot(mapa_rj) + geom_sf(aes(fill=situacao)) + labs(title=&quot;Validade do CRP&quot;, caption=&#39;Fonte: base de dados da SPREV&#39;, size=8) + theme_minimal() + theme(axis.text = element_blank()) + scale_fill_manual(values = c(&quot;lightblue&quot;, &quot;tomato&quot;)) Os gráficos podem ser melhorados, mas a ideia é só mostrar como fazê-los. "],["dair-demonstrativo-das-aplicações-e-investimentos-dos-recursos.html", "Capítulo 4 DAIR - Demonstrativo das Aplicações e Investimentos dos Recursos", " Capítulo 4 DAIR - Demonstrativo das Aplicações e Investimentos dos Recursos NOTA: Este é um trabalho em progresso. Novos capítulos serão adicionados à medida que o tempo permitir. Volte em breve! "],["dipr-demonstrativo-de-informações-previdenciárias-e-repasses.html", "Capítulo 5 DIPR - Demonstrativo de Informações Previdenciárias e Repasses 5.1 Importação e pré-processamento dos dados 5.2 Seleção do RPPS para análise 5.3 Quantidade de Beneficiários 5.4 Manutenção dos pagamentos dos auxílios 5.5 Recebimento das contribuições 5.6 Recebimento dos parcelamentos", " Capítulo 5 DIPR - Demonstrativo de Informações Previdenciárias e Repasses O DIPR é o demonstrativo pelo qual o RPPS informa bimestralmente à SPREV o valor das bases de cálculo utilizadas para os repasses, os ingressos e dispêndios de recursos ocorridos em cada mês, incluindo os valores dos repasses das contribuições feitas pelo ente e beneficiários. O RPPS deve encaminhar à SPREV, via CADPREV, o demonstrativo de cada bimestre até o último dia do mês seguinte ao do encerramento do bimestre. A base de dados do DIPR é um dos principais arquivos disponibilizados pela SPREV, visto que possibilita um panorama das finanças do RPPS em termos de entrada e saída de recursos financeiros. Cada arquivo contém os dados de um exercício para todos os RPPS brasileiros e estão disponíveis no site da SPrev os arquivos dos anos de 2014 em diante. Este capítulo aborda as possibilidades de análise dos dados do DIPR relativos aos exercícios de 2019 e 2020. Também é oportuno registrar que os nomes dos arquivos podem sofrer alterações de uma atualização para outra. Assim, pode ser que versões futuras dos arquivos de dados do DIPR tenham nomes diferentes dos que os apresentados neste documento. 5.1 Importação e pré-processamento dos dados Como de costume, a primeira coisa a ser feita é a importação e o pré-processamento dos dados, que no presente caso serão dois arquivos. Um do ano de 2019 e outro do ano de 2020. # Arquivos a serem importados arquivos_dipr &lt;- c(&quot;dados/rg-outros-dp-envio_atualizacao_de_ago_e-set_2020_extracao_em_20200928-2020.xlsx&quot;, &quot;dados/rg-outros-dp-envio_atualizacao_de_ago_e-set_2020_extracao_em_20200929-2019.xlsx&quot;) # Importação dos arquivos dipr &lt;- map_dfr(arquivos_dipr, read_excel, sheet = &quot;diprResultadoPrevidenciario&quot;, skip = 4, col_names = FALSE) As planilhas possuem um cabeçalho contendo informações que não são úteis à análise e, dessa forma, a importação foi feita sem os nomes das variáveis. Essa base de dados foi preparada pela SPREV para ser vista e impressa e não para ser consumida por máquina de forma automática, requisito dos dados abertos. Para tornar os dados mais adequados para análise posterior, inicia-se a seguir o pré-processamento dos mesmos. Inicia-se por incluir o nome das variáveis: names(dipr) &lt;- c(&quot;ente&quot;, &quot;uf&quot;, &quot;competencia&quot;, &quot;plano_segreg&quot;, &quot;dt_info&quot;, &quot;bc_pat_serv&quot;, &quot;bc_pat_serv_ug&quot;, &quot;bc_pat_apo&quot;, &quot;bc_pat_pen&quot;, &quot;bc_serv&quot;, &quot;bc_apo&quot;, &quot;bc_pen&quot;, &quot;ct_pat_serv&quot;, &quot;ct_pat_serv_ug&quot;, &quot;ct_pat_apo&quot;, &quot;ct_pat_pen&quot;, &quot;ct_serv&quot;, &quot;ct_apo&quot;, &quot;ct_pen&quot;, &quot;deduc_pat&quot;, &quot;deduc_pat_outros&quot;, &quot;deduc_seg&quot;, &quot;deduc_seg_outros&quot;, &quot;aportes_amortiz&quot;, &quot;aportes_insufin&quot;, &quot;aportes_despadm&quot;, &quot;aportes_pagtesouro&quot;, &quot;aportes_outros&quot;, &quot;parcelamentos&quot;, &quot;bcug_pat&quot;, &quot;bcug_serv&quot;, &quot;bcug_serv_afast&quot;, &quot;bcug_apos&quot;, &quot;bcug_pen&quot;, &quot;ctug_pat&quot;, &quot;ctug_serv&quot;, &quot;ctug_serv_afast&quot;, &quot;ctug_apos&quot;, &quot;ctug_pen&quot;, &quot;rb_serv&quot;, &quot;rb_apos&quot;, &quot;rb_pen&quot;, &quot;nb_serv&quot;, &quot;nb_apos&quot;, &quot;nb_pen&quot;, &quot;nb_dep&quot;, &quot;ing_contr&quot;, &quot;ing_aportes&quot;, &quot;ing_parc&quot;, &quot;ing_acres_leg&quot;, &quot;ing_contr_cedlic&quot;, &quot;ing_comprev&quot;, &quot;ing_aplicfin&quot;, &quot;ing_ativos&quot;, &quot;ing_outros&quot;, &quot;desp_apo&quot;, &quot;desp_pen_morte&quot;, &quot;desp_auxdoenca&quot;, &quot;desp_salmater&quot;, &quot;desp_salfam&quot;, &quot;desp_auxreclu&quot;, &quot;desp_decjud&quot;, &quot;desp_beneftesouro&quot;, &quot;desp_despadm&quot;, &quot;desp_invest&quot;, &quot;desp_rest&quot;, &quot;desp_comprev&quot;, &quot;desp_outras&quot;, &quot;total_receita&quot;, &quot;total_despesa&quot;, &quot;resultado_final&quot;, &quot;bcmil_pat_ativ&quot;, &quot;bcmil_ativos&quot;, &quot;bcmil_reserva&quot;, &quot;bcmil_pen&quot;, &quot;ctmil_pat&quot;, &quot;ctmil_ativos&quot;, &quot;ctmil_reserva&quot;, &quot;ctmil_pen&quot;, &quot;rbmil&quot;, &quot;nbmil_ativos&quot;, &quot;nbmil_reserva&quot;, &quot;nbmil_pen&quot;, &quot;nbmil_dep&quot;, &quot;ingmil_contr&quot;, &quot;ingmil_aportes&quot;, &quot;ingmil_outras&quot;, &quot;despmil_reseva&quot;, &quot;despmil_penmorte&quot;, &quot;despmil_outras&quot;, &quot;resultado_final_mil&quot;) Como pode ser visto pela quantidade de nomes, esta é uma base de dados bem extensa, possuindo 91 variáveis. Nos arquivos do DIPR, as variáveis estão agrupadas em blocos conforme mostrado a seguir e a escolha dos nomes das variáveis, na medida do pessível, tentou levar esse fato em consideração: Bloco 0 - Identificação do DIPR (5 primeiras variáveis) Bloco 1 - Bases de Cálculo das Contribuições Devidas, Relativas às Folhas do Ente (7 variáveis) Bloco 2 - Contribuições Repassadas (7 variáveis) Bloco 3 - Deduções (4 variáveis) Bloco 4 - Aportes e Transferências de Recursos (5 variáveis) Bloco 5 - Parcelamentos (1 variável) Bloco 6 - Bases de Cálculo das Contribuições Devidas, Relativas à Folha da Unidade Gestora (5 variáveis) Bloco 7 - Contribuições Arrecadadas pela Unidade Gestora (5 variáveis) Bloco 8 - Remuneração Bruta - Somatório das Folhas do Ente da Unidade Gestora (3 variáveis) Bloco 9 - Número de Beneficiários - Somatório das Folhas do Ente e da Unidade Gestora (4 variáveis) Bloco 10 - Ingressos de Recursos (9 variáveis) Bloco 11 - Utilização de Recursos (13 variáveis) Bloco 12 - Resultado Final (3 variáveis) Bloco 13 - Militares (20 variáveis) Para tentar facilitar a identificação das variáveis em relação ao bloco a que pertencem, foram colocados prefixos nas mesmas conforme mostrado a seguir: Bloco Prefixo Bloco Prefixo 1 bc_ 8 rb_ 2 ct_ 9 nb_ 3 deduc_ 10 ing_ 4 aportes_ 11 desp_ 5 parcelamentos 12 total_, resultado_final 6 bcug_ 13 ...mil_, resultado_final_mil 7 ctug_ No bloco 13, relativo à variáveis dos militares, os pontinhos devem ser substituídos por bc se for base de calculo, ct se for contribuição, etc. Como se pode ver o volume de dados é bem expressivo. Apresenta-se a seguir os registros iniciais da base de dados. head(dipr) # A tibble: 6 x 91 ente uf competencia plano_segreg dt_info bc_pat_serv bc_pat_serv_ug bc_pat_apo bc_pat_pen bc_serv bc_apo bc_pen ct_pat_serv ct_pat_serv_ug ct_pat_apo ct_pat_pen ct_serv &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 Gove~ DF JAN/2020 Financeiro 31/03/~ 689.526.74~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 689.52~ &lt;NA&gt; &lt;NA&gt; 151.695.88~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 75.875~ 2 Gove~ DF JAN/2020 Previdenciá~ 31/03/~ 8.471.156,~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 8.471.~ &lt;NA&gt; &lt;NA&gt; 1.863.654,~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 946.54~ 3 Gove~ DF FEV/2020 Financeiro 31/03/~ 679.625.81~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 679.62~ &lt;NA&gt; &lt;NA&gt; 149.987.61~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 74.809~ 4 Gove~ DF FEV/2020 Previdenciá~ 31/03/~ 9.130.970,~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 9.130.~ &lt;NA&gt; &lt;NA&gt; 2.001.443,~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 1.004.~ 5 Gove~ DF MAR/2020 Financeiro 29/05/~ 679.315.56~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 679.31~ &lt;NA&gt; &lt;NA&gt; 149.667.65~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 74.739~ 6 Gove~ DF MAR/2020 Previdenciá~ 29/05/~ 12.084.064~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 12.084~ &lt;NA&gt; &lt;NA&gt; 2.658.487,~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 1.329.~ # ... with 74 more variables: ct_apo &lt;chr&gt;, ct_pen &lt;chr&gt;, deduc_pat &lt;chr&gt;, deduc_pat_outros &lt;chr&gt;, deduc_seg &lt;chr&gt;, deduc_seg_outros &lt;chr&gt;, aportes_amortiz &lt;chr&gt;, # aportes_insufin &lt;chr&gt;, aportes_despadm &lt;chr&gt;, aportes_pagtesouro &lt;chr&gt;, aportes_outros &lt;chr&gt;, parcelamentos &lt;chr&gt;, bcug_pat &lt;chr&gt;, bcug_serv &lt;chr&gt;, bcug_serv_afast &lt;chr&gt;, # bcug_apos &lt;chr&gt;, bcug_pen &lt;chr&gt;, ctug_pat &lt;chr&gt;, ctug_serv &lt;chr&gt;, ctug_serv_afast &lt;chr&gt;, ctug_apos &lt;chr&gt;, ctug_pen &lt;chr&gt;, rb_serv &lt;chr&gt;, rb_apos &lt;chr&gt;, rb_pen &lt;chr&gt;, # nb_serv &lt;chr&gt;, nb_apos &lt;chr&gt;, nb_pen &lt;chr&gt;, nb_dep &lt;chr&gt;, ing_contr &lt;chr&gt;, ing_aportes &lt;chr&gt;, ing_parc &lt;chr&gt;, ing_acres_leg &lt;chr&gt;, ing_contr_cedlic &lt;chr&gt;, ing_comprev &lt;chr&gt;, # ing_aplicfin &lt;chr&gt;, ing_ativos &lt;chr&gt;, ing_outros &lt;chr&gt;, desp_apo &lt;chr&gt;, desp_pen_morte &lt;chr&gt;, desp_auxdoenca &lt;chr&gt;, desp_salmater &lt;chr&gt;, desp_salfam &lt;chr&gt;, # desp_auxreclu &lt;chr&gt;, desp_decjud &lt;chr&gt;, desp_beneftesouro &lt;chr&gt;, desp_despadm &lt;chr&gt;, desp_invest &lt;chr&gt;, desp_rest &lt;chr&gt;, desp_comprev &lt;chr&gt;, desp_outras &lt;chr&gt;, # total_receita &lt;chr&gt;, total_despesa &lt;chr&gt;, resultado_final &lt;chr&gt;, bcmil_pat_ativ &lt;chr&gt;, bcmil_ativos &lt;chr&gt;, bcmil_reserva &lt;chr&gt;, bcmil_pen &lt;chr&gt;, ctmil_pat &lt;chr&gt;, # ctmil_ativos &lt;chr&gt;, ctmil_reserva &lt;chr&gt;, ctmil_pen &lt;chr&gt;, rbmil &lt;chr&gt;, nbmil_ativos &lt;chr&gt;, nbmil_reserva &lt;chr&gt;, nbmil_pen &lt;chr&gt;, nbmil_dep &lt;chr&gt;, ingmil_contr &lt;chr&gt;, # ingmil_aportes &lt;chr&gt;, ingmil_outras &lt;chr&gt;, despmil_reseva &lt;chr&gt;, despmil_penmorte &lt;chr&gt;, despmil_outras &lt;chr&gt;, resultado_final_mil &lt;chr&gt; A seguir faz-se a limpeza da base com vistas a facilitar sua utilização posterior: # Limpar o nome dos entes... dipr$ente &lt;- gsub(&quot;^Governo d[oea] |Prefeitura Municipal d[eoa] &quot;, &quot;&quot;, dipr$ente) # Função auxiliar para converter valores para o formato numérico convnum &lt;- function(x){ x &lt;- gsub(&quot;\\\\.&quot;, &quot;&quot;, x) x &lt;- gsub(&quot;,&quot;, &quot;.&quot;, x) as.numeric(x) } # Conversão os dados para o formato numérico... dipr[,-c(1:5)] &lt;- sapply(dipr[,-c(1:5)], convnum) # Converter a variável &quot;competencia&quot; e &quot;dt_info&quot; para o formato de data dipr &lt;- dipr %&gt;% mutate(competencia = dmy(paste(&quot;01&quot;, competencia, sep = &quot;/&quot;)), dt_info = dmy(dt_info)) Após a limpeza os dados estão prontos para uso. head(dipr) # A tibble: 6 x 91 ente uf competencia plano_segreg dt_info bc_pat_serv bc_pat_serv_ug bc_pat_apo bc_pat_pen bc_serv bc_apo bc_pen ct_pat_serv ct_pat_serv_ug ct_pat_apo ct_pat_pen ct_serv &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;chr&gt; &lt;date&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Dist~ DF 2020-01-01 Financeiro 2020-03-31 689526743. NA NA NA 6.90e8 NA NA 151695883. NA NA NA 7.59e7 2 Dist~ DF 2020-01-01 Previdenciá~ 2020-03-31 8471156 NA NA NA 8.47e6 NA NA 1863654. NA NA NA 9.47e5 3 Dist~ DF 2020-02-01 Financeiro 2020-03-31 679625816. NA NA NA 6.80e8 NA NA 149987616. NA NA NA 7.48e7 4 Dist~ DF 2020-02-01 Previdenciá~ 2020-03-31 9130971. NA NA NA 9.13e6 NA NA 2001443. NA NA NA 1.00e6 5 Dist~ DF 2020-03-01 Financeiro 2020-05-29 679315569. NA NA NA 6.79e8 NA NA 149667652. NA NA NA 7.47e7 6 Dist~ DF 2020-03-01 Previdenciá~ 2020-05-29 12084064. NA NA NA 1.21e7 NA NA 2658487. NA NA NA 1.33e6 # ... with 74 more variables: ct_apo &lt;dbl&gt;, ct_pen &lt;dbl&gt;, deduc_pat &lt;dbl&gt;, deduc_pat_outros &lt;dbl&gt;, deduc_seg &lt;dbl&gt;, deduc_seg_outros &lt;dbl&gt;, aportes_amortiz &lt;dbl&gt;, # aportes_insufin &lt;dbl&gt;, aportes_despadm &lt;dbl&gt;, aportes_pagtesouro &lt;dbl&gt;, aportes_outros &lt;dbl&gt;, parcelamentos &lt;dbl&gt;, bcug_pat &lt;dbl&gt;, bcug_serv &lt;dbl&gt;, bcug_serv_afast &lt;dbl&gt;, # bcug_apos &lt;dbl&gt;, bcug_pen &lt;dbl&gt;, ctug_pat &lt;dbl&gt;, ctug_serv &lt;dbl&gt;, ctug_serv_afast &lt;dbl&gt;, ctug_apos &lt;dbl&gt;, ctug_pen &lt;dbl&gt;, rb_serv &lt;dbl&gt;, rb_apos &lt;dbl&gt;, rb_pen &lt;dbl&gt;, # nb_serv &lt;dbl&gt;, nb_apos &lt;dbl&gt;, nb_pen &lt;dbl&gt;, nb_dep &lt;dbl&gt;, ing_contr &lt;dbl&gt;, ing_aportes &lt;dbl&gt;, ing_parc &lt;dbl&gt;, ing_acres_leg &lt;dbl&gt;, ing_contr_cedlic &lt;dbl&gt;, ing_comprev &lt;dbl&gt;, # ing_aplicfin &lt;dbl&gt;, ing_ativos &lt;dbl&gt;, ing_outros &lt;dbl&gt;, desp_apo &lt;dbl&gt;, desp_pen_morte &lt;dbl&gt;, desp_auxdoenca &lt;dbl&gt;, desp_salmater &lt;dbl&gt;, desp_salfam &lt;dbl&gt;, # desp_auxreclu &lt;dbl&gt;, desp_decjud &lt;dbl&gt;, desp_beneftesouro &lt;dbl&gt;, desp_despadm &lt;dbl&gt;, desp_invest &lt;dbl&gt;, desp_rest &lt;dbl&gt;, desp_comprev &lt;dbl&gt;, desp_outras &lt;dbl&gt;, # total_receita &lt;dbl&gt;, total_despesa &lt;dbl&gt;, resultado_final &lt;dbl&gt;, bcmil_pat_ativ &lt;dbl&gt;, bcmil_ativos &lt;dbl&gt;, bcmil_reserva &lt;dbl&gt;, bcmil_pen &lt;dbl&gt;, ctmil_pat &lt;dbl&gt;, # ctmil_ativos &lt;dbl&gt;, ctmil_reserva &lt;dbl&gt;, ctmil_pen &lt;dbl&gt;, rbmil &lt;dbl&gt;, nbmil_ativos &lt;dbl&gt;, nbmil_reserva &lt;dbl&gt;, nbmil_pen &lt;dbl&gt;, nbmil_dep &lt;dbl&gt;, ingmil_contr &lt;dbl&gt;, # ingmil_aportes &lt;dbl&gt;, ingmil_outras &lt;dbl&gt;, despmil_reseva &lt;dbl&gt;, despmil_penmorte &lt;dbl&gt;, despmil_outras &lt;dbl&gt;, resultado_final_mil &lt;dbl&gt; 5.2 Seleção do RPPS para análise Como já comentado anteriormente, a base de dados contém informações para 91 variáveis para os planos financeiro e previdenciário quando o RPPS possui segregação de massas, mês a mês. Usualmente a análise será restrita a um RPPS. Assim, a primeira coisa a ser feita é filtrar a base de dados para obter apenas os registros relativos ao RPPS que se deseja analisar e para fazer isso basta saber a sigla da UF e o nome do ente. Ocorre que, com frequência, não se tem certeza de como o nome do ente está grafado na base de dados e, às vezes, nem se o RPPS possui dados na base. Uma dica, em caso de dúvida, é relacionar todos os entes de uma determinada UF ou utilizar parte do nome do ente para fazer uma pesquisa. Por exemplo, suponha que o interesse esteja no RPPS de campos do goitacazes. Se houver dúvida quanto a grafia, pode-se pesquisar por campo da seguinte forma: # Indique a sigla da UF do Ente que deseja pesquisar UF &lt;- &quot;RJ&quot; pesquisa &lt;- &quot;campo&quot; dipr %&gt;% filter(uf == UF) %&gt;% pull(ente) %&gt;% unique() %&gt;% grep(pattern=pesquisa, x=., value=TRUE, ignore.case = TRUE) [1] &quot;Campos dos Goytacazes&quot; Com o nome do ente e a sigla da unidade da federação é possível aplicar o filtro de forma mais segura porque se sabe como o nome está grafado e se o RPPS tem dados na base. Se a base do DIPR contivesse o CNPJ do ente, essa variável poderia ser utilizada para a consulta. # Seleção do RPPS rpps &lt;- &#39;Campos dos Goytacazes&#39; # Filtro dipr_rpps &lt;- dipr %&gt;% filter(uf == UF, ente == rpps) %&gt;% select_if(~!all(is.na(.))) # Descarta colunas que não tem valores. head(dipr_rpps) # A tibble: 6 x 30 ente uf competencia plano_segreg dt_info bc_pat_serv bc_serv ct_pat_serv ct_serv deduc_pat parcelamentos bcug_apos bcug_pen ctug_apos ctug_pen rb_serv rb_apos rb_pen &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;chr&gt; &lt;date&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Camp~ RJ 2019-01-01 Previdenciá~ 2020-01-31 43581927. 4.36e7 4793634. 4.79e6 1131041. 2168510. 1180180. 284584. 129820. 31304. 6.30e7 1.18e7 2.92e6 2 Camp~ RJ 2019-02-01 Previdenciá~ 2020-01-31 43449886. 4.34e7 4779109. 4.78e6 865335. 2178700. 1187832. 275434. 130661. 30298. 5.75e7 1.19e7 2.89e6 3 Camp~ RJ 2019-03-01 Previdenciá~ 2020-01-31 43419609. 4.34e7 4775779. 4.77e6 1247037 2196120. 1174924. 327148. 129242. 35986. 5.76e7 1.19e7 2.97e6 4 Camp~ RJ 2019-04-01 Previdenciá~ 2020-01-31 43282039. 4.33e7 4762166. 4.76e6 967924. 2206343. 1191363. 326282. 131050. 35891. 5.86e7 1.20e7 2.98e6 5 Camp~ RJ 2019-05-01 Previdenciá~ 2020-01-31 43175362. 4.32e7 4749289. 4.75e6 1310186. 2267594. 1214538. 307132. 133599. 33784. 5.85e7 1.21e7 2.97e6 6 Camp~ RJ 2019-06-01 Previdenciá~ 2020-01-31 43061980. 4.31e7 4726736. 4.74e6 1202305. 2294006. 1243650. 314969. 136801. 34647. 5.83e7 1.22e7 2.99e6 # ... with 12 more variables: nb_serv &lt;dbl&gt;, nb_apos &lt;dbl&gt;, nb_pen &lt;dbl&gt;, ing_contr &lt;dbl&gt;, ing_parc &lt;dbl&gt;, ing_aplicfin &lt;dbl&gt;, desp_apo &lt;dbl&gt;, desp_pen_morte &lt;dbl&gt;, # desp_despadm &lt;dbl&gt;, total_receita &lt;dbl&gt;, total_despesa &lt;dbl&gt;, resultado_final &lt;dbl&gt; A base de dados dipr_rpps contém apenas os dados do RPPS selecionado. Quais os meses contemplados nessa base? sort(unique(dipr_rpps$competencia)) [1] &quot;2019-01-01&quot; &quot;2019-02-01&quot; &quot;2019-03-01&quot; &quot;2019-04-01&quot; &quot;2019-05-01&quot; &quot;2019-06-01&quot; &quot;2019-07-01&quot; &quot;2019-08-01&quot; &quot;2019-09-01&quot; &quot;2019-10-01&quot; Para o RPPS em análise existem na base apenas dados dos meses de janeiro a outubro de 2019. O RPPS não encaminhou nada de 2020. 5.3 Quantidade de Beneficiários Estando com os dados prontos, uma análise possível é a da evolução temporal de uma ou mais variáveis para um determinado RPPS ou mesmo a elaboração de uma tabela com os dados de interesse para compor um relatório. A análise gráfica é sempre interessante porque pode evidenciar mais rapidamente possíveis anomalias ou comportamentos não esperados dos dados. Tomando cuidado com o fato de que em alguns RPPS tem-se os dados para o plano financeiro e previdenciário, pode-se começar por elaborar gráficos para visualizar a evolução de variáveis de interessse. Para ilustrar como elaborar um gráfico de linhas, pode-se começar com as únicas varáveis não financeiras existentes no DAIR (excluindo as variáveis do bloco de identificação do DIPR), que são as que indicam o quantitativo de beneficiários. Como já mencionado, as variáveis que informam o número de benefíciários possuem o prefixo nb_. Caso o RPPS a ser analisado pertença a um Estado e a análie deva incluir os militares, deve-se considerar também as variáveis com prefixo nbmil_, o que não é o caso para o exemplo. Os prefixos podem ajudar na seleção das variáveis de interesse. Exemplo: dipr_rpps %&gt;% select(competencia, plano_segreg, starts_with(&quot;nb_&quot;)) %&gt;% head() # A tibble: 6 x 5 competencia plano_segreg nb_serv nb_apos nb_pen &lt;date&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 2019-01-01 Previdenciário 13264 3215 1103 2 2019-02-01 Previdenciário 13239 3215 1102 3 2019-03-01 Previdenciário 13225 3212 1106 4 2019-04-01 Previdenciário 13186 3245 1109 5 2019-05-01 Previdenciário 13187 3262 1111 6 2019-06-01 Previdenciário 13153 3276 1112 Com o comando starts_with() é possível selecionar as variáveis que comecem com determinados caracteres. O gráfico a seguir mostra a evolução da quantidade de servidores ativos (nb_serv): dipr_rpps %&gt;% select(competencia, plano_segreg, starts_with(&quot;nb_&quot;)) %&gt;% ggplot(aes(x=competencia, y=nb_serv, group=1)) + geom_line(color=&quot;blue&quot;) + geom_point(color=&quot;blue&quot;) + labs(title=&quot;Evolução do Quantitativo de Servidores Ativos&quot;, y = &quot;Quantidade de Servidores&quot;, x = &quot;Competência&quot;) + facet_wrap(~ plano_segreg, scales = &quot;free&quot;) + theme_bw() O gráfico mostra que em julho/2019 houve um pico no quantitativo de servidores devido, talvez, a um erro no preenchimento do DIPR. Deve-se observar que a após o pico houve uma elevação no quantitativo de servidores. Aparentemente houve a realização de concurso público, fato que deve ser confirmado com dados de outras fontes. E para ver as três variáveis no mesmo gráfico? dipr_rpps %&gt;% select(competencia, plano_segreg, starts_with(&quot;nb_&quot;)) %&gt;% pivot_longer(cols = starts_with(&quot;nb_&quot;), names_to = &quot;tipo_benef&quot;, values_to = &quot;n_benef&quot;) %&gt;% ggplot(aes(x=competencia, y=n_benef)) + geom_line(size=1, color=&quot;blue&quot;) + labs(title=&quot;Evolução no Quantitativo de Beneficiários. (Aposentados, Pensionistas e Ativos)&quot;, y=&quot;Qtd. de Benefíciários&quot;, x=&quot;Competência&quot;) + facet_wrap(~ tipo_benef, scales = &quot;free&quot;) + theme_bw() Os gráficos acima mostram tendências. E se o objetivo for examinar a relação entre variávis? Por exemplo, como é a relação entre a remuneração bruta dos servidores ativos e o quantitativo de servidores ativos? O gráfico abaixo irá mostrar essa relação: options(scipen = 999) dipr_rpps %&gt;% ggplot(aes(x=nb_serv, y=rb_serv)) + geom_point() + geom_text(aes(label=format(competencia, &quot;%b%y&quot;)), color=&quot;blue&quot;, size=3, hjust=-0, vjust=0.5) + labs(title=&quot;Relação entre a Renda Bruta e Qtd. de Servidores&quot;, y=&quot;Renda Bruta&quot;, x=&quot;Qtd. de Servidores Ativos&quot;) + theme_bw() Verifica-se dois pontos bem distanciados dos demais e à medida que o final do ano se aproxima, mesmo com mais servidores a remuneração bruta decresce. Também pode ser de interesse simplesmente montar uma tabela com o quantitativo de beneficiários em cada mês. dipr_rpps %&gt;% select(competencia, starts_with(&quot;nb_&quot;)) %&gt;% mutate(ic = nb_serv / (nb_apos + nb_pen)) %&gt;% qflextable() .cl-be89e5c0{border-collapse:collapse;}.cl-be51190c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-be518e5a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-be529f0c{width:30pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f0d{width:52pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f0e{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f0f{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f10{width:57pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f11{width:57pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f12{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f13{width:30pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f14{width:52pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f15{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be529f16{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be52c61c{width:30pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be52c61d{width:57pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be52c61e{width:52pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-be52c61f{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} competencianb_servnb_aposnb_penic2019-01-0113.2643.2151.1033,12019-02-0113.2393.2151.1023,12019-03-0113.2253.2121.1063,12019-04-0113.1863.2451.1093,02019-05-0113.1873.2621.1113,02019-06-0113.1533.2761.1123,02019-07-0114.6233.3211.1053,32019-08-0113.3013.3441.1113,02019-09-0113.3273.4051.1132,92019-10-0113.2973.3901.1103,0 Com os dados disponíveis foi possível calcular e incluir na tabela o indicador de cobertura. 5.4 Manutenção dos pagamentos dos auxílios Com a edição da EC 103/19, os entes devem ser os responsáveis pelo pagamento dos auxílios eventualmente previstos no plano de benefícios dos RPPS. Os auxílios em questão são o auxílio doença, o salário maternidade, o salário família e o auxílio reclusão. Estes auxílios não devem mais ser pagos pelos RPPS. Na base de dados estas despesas estão registradas nas seguintes variáveis: desp_auxdoenca, desp_salmater, desp_salfam e desp_auxreclu. Uma questão de interesse é: quais RPPS ainda estão pagando os auxílios? Se a análisse estiver sendo feita para apenas um RPPS, como é o caso até agora, o teste pode ser feito da seguinte forma: is.element(c(&quot;desp_auxdoenca&quot;, &quot;desp_salmater&quot;, &quot;desp_salfam&quot;, &quot;desp_auxreclu&quot;), names(dipr_rpps)) [1] FALSE FALSE FALSE FALSE O resultado indica que nenhum dos quatro auxílios consta da base dipr_rpps, indicando que essas despesas não constam do DIPR do RPPS em análise no período considerado. De fato, Campos do Goytacazes não encaminhou dados de 2020! Para identificar todos os RPPS, uma estratégia pode ser criar uma nova coluna contendo o valor 1 se existir ao menos um valor não nulo nas variáveis de auxílio e o valor 0 caso contrário. Com isso, pode-se filtrar posteriormente os registros para os quais algum RPPS pagou ao menos um dos auxílios ao menos um dos meses de 2020. Será criado um novo conjunto de dados com a identificação dos RPPS que pagaram auxílio em 2020: # RPPS que pagaram auxílios tab_auxilio &lt;- dipr %&gt;% select(ente, uf, plano_segreg, competencia, desp_auxdoenca, desp_salmater, desp_salfam, desp_auxreclu) %&gt;% filter(competencia &gt;= dmy(01012020)) %&gt;% rowwise() %&gt;% mutate(pagou_auxilio = ifelse(all(is.na(c(desp_auxdoenca, desp_salmater, desp_salfam, desp_auxreclu))), 0, 1)) %&gt;% filter(pagou_auxilio == 1) O conjunto de dados tab_auxilio contém a relação dos RPPS que pagaram ao menos um dos auxílios, ao menos um mês a partir de janeiro de 2020. Quantos RPPS em cada UF pagaram auxílio em 2020? tab_auxilio %&gt;% distinct(ente, uf) %&gt;% count(uf, name=&quot;n_rpps&quot;) %&gt;% arrange(desc(n_rpps)) %&gt;% qflextable() .cl-bf80f586{border-collapse:collapse;}.cl-bf5e4c0c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-bf5ec15a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-bf5ec15b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-bf5ffa0c{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa0d{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa0e{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa0f{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa10{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa11{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa12{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa13{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa14{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa15{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf5ffa16{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf60213a{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf60213b{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf60213c{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf60213d{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf60213e{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf60213f{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bf602140{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} ufn_rppsRS182SP65MT63PR55MG48GO45MS17SC17PE16RJ16BA14AL10RO10CE8PA7AM6ES6RN6TO6MA3PI3RR2AC1PB1SE1 Caso seja de interese identificar os 16 RPPS do ERJ que realizaram pagamentos de auxílios em 2020, basta aplicar um filtro: tab_auxilio %&gt;% filter(uf == &quot;RJ&quot;) %&gt;% distinct(ente, uf) %&gt;% qflextable() .cl-c0030e72{border-collapse:collapse;}.cl-bfe34be6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-bfe39a1a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-bfe45d56{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d57{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d58{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d59{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d5a{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d5b{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d5c{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d5d{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d5e{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d5f{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe45d60{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe48466{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe48467{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe48468{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe48469{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe4846a{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe4846b{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe4846c{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe4846d{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe4846e{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe4846f{width:125pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bfe48470{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} enteufConceição de MacabuRJCordeiroRJDuas BarrasRJItaocaraRJMacaéRJMaricáRJMendesRJMiguel PereiraRJPaty do AlferesRJPetrópolisRJRio das OstrasRJSão Pedro da AldeiaRJSapucaiaRJSaquaremaRJSilva JardimRJSumidouroRJ Para inspecionar um RPPS em particular, por exemplo Petrópolis, é só filtrar: tab_auxilio %&gt;% filter(ente == &quot;Petrópolis&quot;, uf == &quot;RJ&quot;) %&gt;% qflextable() .cl-c0c6f72e{border-collapse:collapse;}.cl-c0a4c348{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-c0a5388c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-c0a5388d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-c0a64a1a{width:64pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a1b{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a1c{width:99pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a1d{width:83pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a1e{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a1f{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a20{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a21{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a22{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a23{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a64a24{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a6713e{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a6713f{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67140{width:64pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67141{width:99pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67142{width:83pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67143{width:78pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67144{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67145{width:82pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67146{width:99pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67147{width:83pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a67148{width:87pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a6983a{width:64pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c0a6983b{width:29pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} enteufplano_segregcompetenciadesp_auxdoencadesp_salmaterdesp_salfamdesp_auxreclupagou_auxilioPetrópolisRJFinanceiro2020-01-011.1381PetrópolisRJFinanceiro2020-02-011.1381PetrópolisRJFinanceiro2020-03-011.1381PetrópolisRJFinanceiro2020-04-011.4231PetrópolisRJFinanceiro2020-05-011.1381PetrópolisRJFinanceiro2020-06-011.1381PetrópolisRJFinanceiro2020-07-011.1381PetrópolisRJFinanceiro2020-08-011.1381 No RPPS em análise (Petrópolis) houve pagamento de auxílio reclusão de Janeiro a Agosto de 2020. 5.5 Recebimento das contribuições Uma verificação importante é se o RPPS está recendo com regularidade as contribuições previdenciárias. Mostar como realizar esse acompanhamento é o objetivo desta seção. O conjunto de dados dipr_rpps contém as informações do RPPS de Campos dos Goytacazes no RJ. # Função para testar se todos os valores de uma coluna estão faltando. teste &lt;- function(x){!all(is.na(x))} tab_contrib &lt;- dipr_rpps %&gt;% select(competencia, plano_segreg, starts_with(&quot;ct_&quot;)) %&gt;% select_if(teste) %&gt;% gather(key=tipo, value=contribuicao, -competencia, -plano_segreg) # substituir por &#39;pivot_longer()&#39; head(tab_contrib) # A tibble: 6 x 4 competencia plano_segreg tipo contribuicao &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; 1 2019-01-01 Previdenciário ct_pat_serv 4793634. 2 2019-02-01 Previdenciário ct_pat_serv 4779109. 3 2019-03-01 Previdenciário ct_pat_serv 4775779. 4 2019-04-01 Previdenciário ct_pat_serv 4762166. 5 2019-05-01 Previdenciário ct_pat_serv 4749289. 6 2019-06-01 Previdenciário ct_pat_serv 4726736. Obtidos os dados das contribuições, pode-se fazer uma inspeção visual via gráfico de linhas: tab_contrib %&gt;% ggplot(aes(x=competencia, y=contribuicao, group=tipo, color=tipo)) + geom_line(size=1) + geom_point(size=2) + facet_wrap(~ plano_segreg) + labs(title=&quot;Contribuições Recebidas pelo RPPS\\nPatronal e Servidor&quot;, y=&quot;Valor da Contribução&quot;, x=&quot;Competência&quot;) + theme_bw() O gráfico não evidencia interrupção de pagamento no período em que o RPPS encaminhou os dados à SPREV, ou seja, de janeiro a outubro de 2020. Mas a partir de junho a contribuição dos servidores passa a ser superior à contribuição patronal, talvez indicando um repasse inferior ao devido, o que deve ser objeto de análise mais aprofundada e talvez ajude a justificar a interrupção do encaminhamento dos DIPR após Out/19. 5.6 Recebimento dos parcelamentos O capítulo 7 será dedicado à análise dos dados dos acordos de parcelamento de débitos. Não obstante, o DIPR fornece informações sobre os valores recebidos oriundos de parcelamentos de débitos. Estes dados estão disponíveis nas variáveis parcelamentos e ing_parc. Da mesma forma que no tópico anterior o objetivo será tentar verificar se o RPPS vem recebendo os parcelamentos. Não é possivel apenas com esses dados verificar se todos os parcelamentos estão sendo pagos, se estão sendo pagos com os acréscimos legais, etc. Como nem todos os RPPS possuem acordos de parcelamento de débitos, será necessário primeiro identificar os RPPS do ERJ, ou de qualquer outra UF, ou mesmo do Brasil, que tenham recebido recursos oriundos de parcelamentos no período. Será criado um novo conjunto de dados tab_parcelamento contendo essas informações para os RPPS do ERJ: tab_parcelamento &lt;- dipr %&gt;% filter(uf == &quot;RJ&quot;, !is.na(parcelamentos) | !is.na(ing_parc)) %&gt;% select(ente, competencia, plano_segreg, parcelamentos, ing_parc) head(tab_parcelamento) # A tibble: 6 x 5 ente competencia plano_segreg parcelamentos ing_parc &lt;chr&gt; &lt;date&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Angra dos Reis 2020-01-01 Previdenciário 2139379. 2139379. 2 Angra dos Reis 2020-02-01 Previdenciário 2153116. 2153116. 3 Angra dos Reis 2020-03-01 Previdenciário 2167690. 2167690. 4 Angra dos Reis 2020-04-01 Previdenciário 415249. 415249. 5 Angra dos Reis 2020-05-01 Previdenciário 415912. 415912. 6 Angra dos Reis 2020-06-01 Previdenciário 416168. 416168. Os entes do ERJ que registraram no DIPR, no período em análise, o recebimento de receita de parcelamentos são os seguintes: tab_parcelamento %&gt;% distinct(ente) # A tibble: 58 x 1 ente &lt;chr&gt; 1 Angra dos Reis 2 Araruama 3 Barra do Piraí 4 Bom Jardim 5 Cambuci 6 Carapebus 7 Cardoso Moreira 8 Carmo 9 Comendador Levy Gasparian 10 Conceição de Macabu # ... with 48 more rows Tem-se 58 RPPS nessa situação, o que indica ser uma prática comum no ERJ não repassar recursos aos RPPS e formalizar acordos posteriormente. Para verificar os dados de um RPPS específico basta aplicar um filtro na base de dados. Tomando-se o RPPS de Pinheiral como exemplo: tab_parcelamento %&gt;% filter(ente == &quot;Pinheiral&quot;) %&gt;% arrange(plano_segreg, competencia) # A tibble: 35 x 5 ente competencia plano_segreg parcelamentos ing_parc &lt;chr&gt; &lt;date&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Pinheiral 2019-01-01 Financeiro 367. 367. 2 Pinheiral 2019-02-01 Financeiro 361. 361. 3 Pinheiral 2019-03-01 Financeiro 364. 364. 4 Pinheiral 2019-04-01 Financeiro 366. 366. 5 Pinheiral 2019-05-01 Financeiro 797. 797. 6 Pinheiral 2019-06-01 Financeiro 807. 807. 7 Pinheiral 2019-07-01 Financeiro 820. 820. 8 Pinheiral 2019-08-01 Financeiro 816. 816. 9 Pinheiral 2019-09-01 Financeiro 821. 821. 10 Pinheiral 2019-10-01 Financeiro 824. 824. # ... with 25 more rows Uma análise gráfica para vericar se tudo está ok: tab_parcelamento %&gt;% filter(ente == &quot;Pinheiral&quot;) %&gt;% ggplot(aes(x=competencia, y=parcelamentos)) + geom_line(color=&quot;grey&quot;, linetype = &quot;dashed&quot;) + geom_point(size=2, color=&quot;blue&quot;) + labs(title=&quot;Evolução dos Ingressos de Recursos Oriundos de Parcelamentos&quot;, y=&quot;Valor dos Parc. Recebidos&quot;, x=&quot;Competência&quot;) + facet_wrap(~ plano_segreg, scales = &quot;free&quot;) + theme_bw() De um modo geral, os exemplos apresentados permitem a análise de qualquer das variáveis contidas na base de dados. À medida que o tempo permitir outras análises serão incluídas. "],["draa-demonstrativo-de-resultados-da-avaliação-atuarial.html", "Capítulo 6 DRAA - Demonstrativo de Resultados da Avaliação Atuarial 6.1 Importação dos dados 6.2 Análise exploratória 6.3 Evolução de variáveis 6.4 Encaminhamento do DRAA à SPREV 6.5 Balanço atuarial", " Capítulo 6 DRAA - Demonstrativo de Resultados da Avaliação Atuarial O arquivo Valores Compromissos é um dos 29 disponibilizados pela SPREV em seu site contendo informações sobre o DRAA e será o objeto deste capítulo. Esta é uma das bases de dados mais importantes publicadas pela SPREV, já que traz informações sobre os principais números dos RPPS no que diz respeito ao aspecto atuarial. 6.1 Importação dos dados Os dados estão armazenados em um arquivo csv e o processo de importação não é muito diferente do que foi feito para os dados anteriores. draa &lt;- read_csv(&quot;dados/30 - Valores_Compromissos_Atualizacao_de_ago_set_2020_Em_2020-11-20T11_24_442020-11-20 11-24-58.csv&quot;, locale=locale(encoding = &quot;utf-8&quot;), col_types = cols()) head(draa) # A tibble: 6 x 13 CNPJ UF Ente Exercicio `Data de Envio` `Situacao do DRA~ `Tipo de Plano` `Tipo de Massa` `Codigo Dem. Res~ Descricao Categoria `Valor da Gerac~ `Valor da Gerac~ &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dttm&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; 1 63606~ AC Govern~ 2015 2017-10-24 09:18:08 Documentos Digit~ Previdenciário Civil 109001 Valor Atual d~ Resultado 8103850488. 12650404309. 2 63606~ AC Govern~ 2015 2017-10-24 09:18:08 Documentos Digit~ Previdenciário Civil 500000 ATIVOS GARANT~ Titulo 207554162. NA 3 63606~ AC Govern~ 2015 2017-10-24 09:18:08 Documentos Digit~ Previdenciário Civil 500101 Aplicações em~ Resultado 176300301. NA 4 63606~ AC Govern~ 2015 2017-10-24 09:18:08 Documentos Digit~ Previdenciário Civil 500201 Aplicações em~ Resultado 29422058. NA 5 63606~ AC Govern~ 2015 2017-10-24 09:18:08 Documentos Digit~ Previdenciário Civil 500301 Aplicações em~ Resultado 1831803. NA 6 63606~ AC Govern~ 2015 2017-10-24 09:18:08 Documentos Digit~ Previdenciário Civil 500401 Aplicações em~ Resultado 0 NA Para facilitar o trabalho posterior com os dados faz-se a seguir a substituição dos nomes das colunas: draa &lt;- draa %&gt;% rename(cnpj = CNPJ, uf = UF, ente = Ente, exercicio = Exercicio, dt_envio = `Data de Envio`, sit_draa = `Situacao do DRAA`, tipo_plano = `Tipo de Plano`, tipo_massa = `Tipo de Massa`, codigo = `Codigo Dem. Result. Atuarial`, descr = Descricao, categoria = Categoria, vlr_geracao_atual = `Valor da Geracao Atual`, vlr_geracao_futura = `Valor da Geracao Futura`) Essa base de dados possui 13 colunas as quais serão exploradas um pouco mais a seguir. 6.2 Análise exploratória Para uma boa análise é imprescindível conhecer bem a base de dados objeto de análise. Um bom ponto de partida é verificar os possíveis valores que algumas variáveis podem assumir. Quais exercícios estão contemplados na base de dados? draa %&gt;% distinct(exercicio) # A tibble: 6 x 1 exercicio &lt;dbl&gt; 1 2015 2 2016 3 2017 4 2018 5 2019 6 2020 O resultado evidencia que a base de dados contém informações de 2015 a 2020, o que oferece a possibilidade de comparar valores por um período de seis anos o que é bem razoável. Quais valores a variável sit_draa, que informa a situação do DRAA, pode assumir? draa %&gt;% distinct(sit_draa) # A tibble: 7 x 1 sit_draa &lt;chr&gt; 1 Documentos Digitalizados 2 Aguardando Certificado 3 Aguardando envio dos fluxos Atuariais 4 Aguardando Relatorio de Avaliacao Atuarial digitalizado 5 Fluxos Atuariais Rejeitados 6 Substituida Antes da Recepcao dos Arquivos Digitalizados 7 Retificado Após ser encaminhado à SPREV o DRAA assume diferentes status, sendo o status final Documentos Digitalizados. Aparentemente os status anteriores são intermediários e necessitam ainda de ações complementares por parte dos gestores ou da SPREV. Ainda é necessário obter mais informações sobre o sigfinificado de cada um dos status e como podem influenciar no resultado de uma análise. A obtenção dos valores possíveis das variáveis codigo, descr e categoria pode ser feita da seguinte forma: tab_codigos &lt;- draa %&gt;% select(codigo, descr, categoria) %&gt;% distinct() %&gt;% arrange(codigo) head(tab_codigos) # A tibble: 6 x 3 codigo descr categoria &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 1 109001 Valor Atual dos Salários Futuros Resultado 2 110000 VALOR ATUAL DAS CONTRIBUIÇÕES FUTURAS E COMPENSAÇÕES A RECEBER - BENEFÍCIOS CONCEDIDOS Titulo 3 111000 Benefícios Concedidos - Contribuições Futuras dos Aposentados Resultado 4 112000 Benefícios Concedidos - Contribuições Futuras dos Pensionistas Resultado 5 119900 Benefícios Concedidos - Compensação Previdenciária a Receber Resultado 6 120000 VALOR ATUAL DAS CONTRIBUIÇÕES FUTURAS E COMPENSAÇÕES A RECEBER - BENEFÍCIOS A CONCEDER: Titulo Para ver os títulos, é só filtrar: tab_codigos %&gt;% filter(categoria == &quot;Titulo&quot;) # A tibble: 13 x 3 codigo descr categoria &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 1 110000 VALOR ATUAL DAS CONTRIBUIÇÕES FUTURAS E COMPENSAÇÕES A RECEBER - BENEFÍCIOS CONCEDIDOS Titulo 2 120000 VALOR ATUAL DAS CONTRIBUIÇÕES FUTURAS E COMPENSAÇÕES A RECEBER - BENEFÍCIOS A CONCEDER: Titulo 3 130000 PROVISÃO MATEMÁTICA PARA COBERTURA DE INSUFICIÊNCIAS FINANCEIRAS ASSEGURADA POR LEI: Titulo 4 210000 VALOR ATUAL DOS BENEFÍCIOS FUTUROS - ENCARGOS DE BENEFÍCIOS CONCEDIDOS Titulo 5 220000 VALOR ATUAL DOS BENEFÍCIOS FUTUROS - ENCARGOS DE BENEFÍCIOS A CONCEDER: Titulo 6 300000 PROVISÃO MATEMÁTICA DOS BENEFÍCIOS CONCEDIDOS Titulo 7 400000 PROVISÃO MATEMÁTICA DOS BENEFÍCIOS A CONCEDER : Titulo 8 500000 ATIVOS GARANTIDORES DOS COMPROMISSOS DO PLANO DE BENEFÍCIOS Titulo 9 600000 RESULTADO ATUARIAL Titulo 10 700000 DESTINAÇÃO DO RESULTADO Titulo 11 800000 FUNDOS CONSTITUÍDOS Titulo 12 900000 RECEITAS E DESPESAS ESTIMADAS PARA O EXERCÍCIO Titulo 13 900900 RESULTADO FINANCEIRO ESTIMADO PARA O EXERCÍCIO Titulo Essa base de dados fornece muitas informações sobre o RPPS, algumas das quais guardando relação com as variáveis do fluxo atuarial, que é o objeto do Capítulo 9, com as quais poderão ser comparadas, o que será objeto de um capítulo específico. Para identificar quais são as rubricas que compõem um determinado título, por exemplo Ativos Garantidores, pode-se utilizar o seguinte comando: # Ativos Garantidores tab_codigos %&gt;% filter(grepl(&quot;^5&quot;, codigo)) # A tibble: 7 x 3 codigo descr categoria &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 1 500000 ATIVOS GARANTIDORES DOS COMPROMISSOS DO PLANO DE BENEFÍCIOS Titulo 2 500101 Aplicações em Segmento de Renda Fixa - RPPS Resultado 3 500201 Aplicações em Segmento de Renda Variável - RPPS Resultado 4 500301 Aplicações em Segmento Imobiliário - RPPS Resultado 5 500401 Aplicações em Enquadramento - RPPS Resultado 6 500501 Títulos e Valores não Sujeitos ao Enquadramento - RPPS Resultado 7 509001 Demais Bens, direitos e ativos Resultado Para obter as variáveis que compõem o título 210000, a solução é muito parecida. # 210000 VALOR ATUAL DOS BENEFÍCIOS FUTUROS - ENCARGOS DE BENEFÍCIOS CONCEDIDOS tab_codigos %&gt;% filter(grepl(&quot;^21&quot;, codigo)) # A tibble: 7 x 3 codigo descr categoria &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 1 210000 VALOR ATUAL DOS BENEFÍCIOS FUTUROS - ENCARGOS DE BENEFÍCIOS CONCEDIDOS Titulo 2 211000 Benefícios Concedidos - Encargos - Aposentadorias Programadas Resultado 3 212000 Benefícios Concedidos - Encargos - Aposentadorias Especiais de Professores Resultado 4 213000 Benefícios Concedidos - Encargos - Outras Aposentadorias Especiais Resultado 5 214000 Benefícios Concedidos - Encargos - Aposentadorias por Invalidez Resultado 6 215000 Benefícios Concedidos - Encargos - Pensões Por Morte Resultado 7 219900 Benefícios Concedidos - Encargos - Compensação Previdenciária a Pagar Resultado A base de dados apresenta ainda as variáveis vlr_geracao_atual e vlr_geracao_futura. A variável vlr_geracao_atual apresenta os valores das variáveis identificadas em cada codigo considerando apenas o geração atual, ou seja, não se considera o ingresso de novos servidores no plano. Já a variável vlr_geracao_futura considera o ingresso de novos servidores no plano. As análises realizadas neste documento consideram apenas os valores relativos à geração atual, ou seja, a variável vlr_geracao_atual. 6.3 Evolução de variáveis Uma primeira verificação que é possível fazer é acompanhar a evolução de uma ou mais variáveis ao longo desses seis períodos para um determinado RPPS. Por exemplo, como evoluiu os ativos garantidores do RPPS do município do Rio de Janeiro no período? Vamos aplicar um filtro à base de dados para pegar os registros de interesse: options(scipen = 999) draa_ente &lt;- draa %&gt;% filter(uf == &quot;RJ&quot;, ente == &quot;Rio de Janeiro&quot;, codigo == 500000, tipo_massa == &quot;Civil&quot;) %&gt;% select(ente, exercicio, dt_envio, sit_draa, tipo_plano, vlr_geracao_atual) head(draa_ente) # A tibble: 6 x 6 ente exercicio dt_envio sit_draa tipo_plano vlr_geracao_atual &lt;chr&gt; &lt;dbl&gt; &lt;dttm&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; 1 Rio de Janeiro 2015 2016-12-13 10:41:47 Documentos Digitalizados Previdenciário 7421387367. 2 Rio de Janeiro 2016 2016-12-27 12:36:41 Documentos Digitalizados Previdenciário 7388264506. 3 Rio de Janeiro 2017 2018-01-19 16:19:52 Documentos Digitalizados Previdenciário 1037551333. 4 Rio de Janeiro 2018 2018-08-10 13:51:52 Documentos Digitalizados Previdenciário 1289594411. 5 Rio de Janeiro 2019 2019-05-28 16:41:36 Documentos Digitalizados Previdenciário 627338430. 6 Rio de Janeiro 2020 2020-10-06 10:54:16 Aguardando Certificado Previdenciário 771929483. Algumas observações em relação a saída. O RPPS do município do Rio de Janeiro não possui segregação de massas e o DRAA de 2020 está com o status Aguardando Certificado. Feito o filtro, podemos agora elaborar um gráfico simples para se ter uma ideia da tendência de evolução dos ativos garantidores. ggplot(draa_ente, aes(x=exercicio, y=vlr_geracao_atual)) + geom_line(color=&quot;blue&quot;) + geom_point(size = 2, color=&quot;blue&quot;) + labs(title=&quot;Evolução dos Ativos Garantidores&quot;, y=&quot;Valores em R$&quot;, x=&quot;&quot;) + theme_bw() E o resultado atuarial? Como vem evoluindo ao longo desses seis anos? draa_ente &lt;- draa %&gt;% filter(uf == &quot;RJ&quot;, ente == &quot;Rio de Janeiro&quot;, grepl(&quot;^6&quot;, codigo), tipo_massa == &quot;Civil&quot;, !is.na(vlr_geracao_atual)) %&gt;% select(ente, exercicio, codigo, vlr_geracao_atual) draa_ente # A tibble: 6 x 4 ente exercicio codigo vlr_geracao_atual &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Rio de Janeiro 2015 600100 -3240844243. 2 Rio de Janeiro 2016 600200 0 3 Rio de Janeiro 2017 600100 -23344205780. 4 Rio de Janeiro 2018 600100 -31324856003. 5 Rio de Janeiro 2019 600100 -30824868662. 6 Rio de Janeiro 2020 600100 -34576248732. Interessante notar que em 2016 o resultado atuarial foi nulo. Um gráfico vai ajudar a entender o que está acontecendo. ggplot(draa_ente, aes(x=exercicio, y=vlr_geracao_atual)) + geom_line(color=&quot;blue&quot;) + geom_point(size = 2, color=&quot;blue&quot;) + labs(title=&quot;Evolução do Resultado Atuarial&quot;, y=&quot;Valores em R$&quot;, x=&quot;&quot;) + theme_bw() Vê-se claramente uma tendência de deterioração do resultado atuarial. Mas também pode ser interessante olhar a qualidade dos ativos que o RPPS possui em carteira para honrar os compromissos. Assim, o código a seguir mostra uma tabela com a participação de cada tipo de ativo ao longo dos anos. draa_ente &lt;- draa %&gt;% filter(uf == &quot;RJ&quot;, ente == &quot;Rio de Janeiro&quot;, grepl(&quot;^5&quot;, codigo), tipo_massa == &quot;Civil&quot;, !is.na(vlr_geracao_atual)) %&gt;% select(exercicio, descr, codigo, vlr_geracao_atual) %&gt;% mutate(descr = case_when(codigo == 500000 ~ &quot;Total&quot;, codigo == 500101 ~ &quot;Renda Fixa&quot;, codigo == 500201 ~ &quot;Renda Variável&quot;, codigo == 500301 ~ &quot;Imóveis&quot;, codigo == 500401 ~ &quot;Em Enquadramento&quot;, codigo == 500501 ~ &quot;Não Suj. a Enquad.&quot;, codigo == 509001 ~ &quot;Outros&quot;)) draa_ente # A tibble: 42 x 4 exercicio descr codigo vlr_geracao_atual &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; 1 2015 Total 500000 7421387367. 2 2015 Renda Fixa 500101 0 3 2015 Renda Variável 500201 0 4 2015 Imóveis 500301 0 5 2015 Em Enquadramento 500401 0 6 2015 Não Suj. a Enquad. 500501 0 7 2015 Outros 509001 7421387367. 8 2016 Total 500000 7388264506. 9 2016 Renda Fixa 500101 0 10 2016 Renda Variável 500201 0 # ... with 32 more rows draa_ente %&gt;% pivot_wider(id_cols = c(codigo, descr), names_from = exercicio, values_from = vlr_geracao_atual) %&gt;% qflextable() %&gt;% fontsize(part = &quot;body&quot;, size = 10) %&gt;% bold(i = 1) .cl-ddb3f90e{border-collapse:collapse;}.cl-dd8da560{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-dd8da561{font-family:'Arial';font-size:10pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-dd8da562{font-family:'Arial';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-dd8df3da{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-dd8df3db{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-dd8f2c82{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c83{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c84{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c85{width:113pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c86{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c87{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c88{width:113pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c89{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c8a{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c8b{width:113pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f2c8c{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f539c{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f539d{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f539e{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f539f{width:113pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f53a0{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f53a1{width:86pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f53a2{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f53a3{width:113pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dd8f53a4{width:76pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} codigodescr201520162017201820192020500.000Total7.421.387.3677.388.264.5061.037.551.3331.289.594.411627.338.430771.929.483500.101Renda Fixa0026.255.03750.466.67746.881.3350500.201Renda Variável000000500.301Imóveis00928.026.000497.846.000564.274.000762.749.100500.401Em Enquadramento000000500.501Não Suj. a Enquad.000000509.001Outros7.421.387.3677.388.264.50683.270.296741.281.73416.183.0959.180.383 Parece que a situação não é muito favorável ao RPPS em análise. Além de experimentar uma brutal descapitalização no período, o perfil de alocação dos recursos caminha para imóveis e ativos sem classificação específica, cuja liquidez talvez não seja das melhores. Diversas outras análises podem ser feitas. À medida que o tempo permitir serão feitas novas inclusões. 6.4 Encaminhamento do DRAA à SPREV Uma outra análise possível e interessante é verificar se os RPPS estão encaminhando com regularidade o DRAA à SPREV. Para ajudar nesse acompanhamento, é possível elaborar uma tabela que indica para cada UF e para os anos de 2019 e 2020 qual o percentual de RPPS da UF não entregararam o DRAA. tab &lt;- draa %&gt;% filter(exercicio %in% c(2019, 2020), tipo_plano == &quot;Previdenciário&quot;, tipo_massa == &quot;Civil&quot;) %&gt;% select(cnpj, ente, uf, exercicio, dt_envio) %&gt;% group_by(cnpj, exercicio) %&gt;% filter(dt_envio == max(dt_envio)) %&gt;% ungroup() %&gt;% distinct() %&gt;% mutate(dt_envio = format(dt_envio, &quot;%b%Y&quot;)) %&gt;% pivot_wider(names_from = exercicio, values_from = dt_envio) head(tab, 10) # A tibble: 10 x 5 cnpj ente uf `2019` `2020` &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 63606479000124 Governo do Estado do Acre AC mai2019 &lt;NA&gt; 2 04034583000122 Rio Branco AC jul2019 ago2020 3 12198693000158 Arapiraca AL mai2019 &lt;NA&gt; 4 12200143000126 Atalaia AL ago2020 &lt;NA&gt; 5 12250163000101 Belo Monte AL mai2019 &lt;NA&gt; 6 12227971000158 Cacimbinhas AL mai2020 jun2020 7 01631604000107 Campestre AL out2019 jul2020 8 12264230000147 Coruripe AL ago2019 ago2020 9 08439549000199 Craíbas AL abr2019 &lt;NA&gt; 10 12200176000176 Governo do Estado de Alagoas AL jun2019 jul2020 Essa tabela ainda não é o que se deseja, mas já é possivel identificar os RPPS de uma determinada UF que encaminharam (ou não) o DRAA nos dois anos considerados. Como está o ERJ? tab %&gt;% filter(uf == &quot;RJ&quot;) # A tibble: 69 x 5 cnpj ente uf `2019` `2020` &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 29172467000109 Angra dos Reis RJ jul2019 jul2020 2 36288900000123 Aperibé RJ &lt;NA&gt; out2020 3 28531762000133 Araruama RJ jun2020 jun2020 4 39554605000160 Areal RJ mai2019 abr2020 5 01616171000102 Armação dos Búzios RJ jan2020 jul2020 6 27792373000107 Arraial do Cabo RJ mai2019 jul2020 7 28576080000147 Barra do Piraí RJ jun2020 &lt;NA&gt; 8 39485438000142 Belford Roxo RJ jul2019 &lt;NA&gt; 9 28561041000176 Bom Jardim RJ mai2019 jul2020 10 29111085000167 Cambuci RJ mai2019 ago2020 # ... with 59 more rows Chama-se a atenção para um ponto: se o RPPS não encaminhou o DRAA à SPREV nos anos de 2019 e 2020 ele não aparecerá na tabela acima e, consequentemente, não será considerado na contagem do total de RPPS da UF no ano. Para contornar este inconveniente é necessário incluir na base os RPPS que eventualmente estejam faltando. Para isso será necessário utilizar a base de dados de cadastro dos RPPS já estudada no Capítulo 1. O código a seguir faz a importação da mesma: cadastro_rpps &lt;- read_excel(&quot;dados/4-regime-entes-federativos_atualizacao_de_ago_set_2020_extracao_em_2020-10-06t18_17_11.xlsx&quot;) %&gt;% filter(REGIME == &quot;RPPS&quot;) # Exclui RGPS e RPPS em Extinção head(cadastro_rpps) # A tibble: 6 x 4 CNPJ UF ENTE REGIME &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 63606479000124 AC Governo do Estado do Acre RPPS 2 04034583000122 AC Rio Branco RPPS 3 12198693000158 AL Arapiraca RPPS 4 12200143000126 AL Atalaia RPPS 5 12262713000102 AL Barra de Santo Antônio RPPS 6 12250056000183 AL Batalha RPPS Agora é necessário juntar essa base de dados com a tabela construída acima. tab2 &lt;- left_join(cadastro_rpps[, c(&quot;CNPJ&quot;, &quot;ENTE&quot;,&quot;UF&quot;)], tab[, c(&quot;cnpj&quot;, &quot;2019&quot;, &quot;2020&quot;)], by = c(&quot;CNPJ&quot; = &quot;cnpj&quot;)) head(tab2, 10) # A tibble: 10 x 5 CNPJ ENTE UF `2019` `2020` &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 63606479000124 Governo do Estado do Acre AC mai2019 &lt;NA&gt; 2 04034583000122 Rio Branco AC jul2019 ago2020 3 12198693000158 Arapiraca AL mai2019 &lt;NA&gt; 4 12200143000126 Atalaia AL ago2020 &lt;NA&gt; 5 12262713000102 Barra de Santo Antônio AL &lt;NA&gt; &lt;NA&gt; 6 12250056000183 Batalha AL &lt;NA&gt; &lt;NA&gt; 7 12227641000162 Belém AL &lt;NA&gt; &lt;NA&gt; 8 12250163000101 Belo Monte AL mai2019 &lt;NA&gt; 9 12264396000163 Boca da Mata AL &lt;NA&gt; &lt;NA&gt; 10 12332995000177 Branquinha AL &lt;NA&gt; &lt;NA&gt; O resultado acima evidencia que foram acrescidos RPPS que apresentam valores NA tanto para o ano de 2019 quanto para o ano de 2020. Ou seja, não entregaram o DRAA em nenhum dos dois anos. Quem são esses RPPS? Algum no ERJ? tab2 %&gt;% filter(is.na(`2019`), is.na(`2020`), UF == &quot;RJ&quot;) # A tibble: 11 x 5 CNPJ ENTE UF `2019` `2020` &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 28695658000184 Barra Mansa RJ &lt;NA&gt; &lt;NA&gt; 2 28549483000105 Cabo Frio RJ &lt;NA&gt; &lt;NA&gt; 3 29128766000138 Cachoeiras de Macacu RJ &lt;NA&gt; &lt;NA&gt; 4 29116894000161 Campos dos Goytacazes RJ &lt;NA&gt; &lt;NA&gt; 5 01615882000162 Iguaba Grande RJ &lt;NA&gt; &lt;NA&gt; 6 29138302000102 Itaguaí RJ &lt;NA&gt; &lt;NA&gt; 7 29138351000145 Magé RJ &lt;NA&gt; &lt;NA&gt; 8 04132090000125 Mesquita RJ &lt;NA&gt; &lt;NA&gt; 9 28741072000109 Rio Bonito RJ &lt;NA&gt; &lt;NA&gt; 10 28741098000157 Silva Jardim RJ &lt;NA&gt; &lt;NA&gt; 11 29138369000147 Teresópolis RJ &lt;NA&gt; &lt;NA&gt; Onze RPPS nessa situação! A seguir, o código para preparar a tabela desejada. tab3 &lt;- tab2 %&gt;% group_by(UF) %&gt;% summarize(n_rpps = n(), `%_2019` = round(sum(is.na(`2019`)) / n() * 100, 1), `%_2020` = round(sum(is.na(`2020`)) / n() * 100, 1)) %&gt;% arrange(desc(n_rpps)) tab3 %&gt;% qflextable() .cl-ecb0ece6{border-collapse:collapse;}.cl-ec903fdc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-ec908e10{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-ec908e11{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-ec91edd2{width:56pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd3{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd4{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd5{width:56pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd6{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd7{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd8{width:56pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edd9{width:49pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ec91edda{width:33pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} UFn_rpps%_2019%_2020RS3320,95,1MG22212,245,5SP2221,811,3PR1791,130,7GO1719,440,4PE1492,718,1MT1070,97,5RJ8015,022,5AL7458,179,7PB7126,842,3PI7128,285,9SC700,04,3CE6530,849,2MS521,97,7MA4763,887,2RN4122,041,5BA3836,857,9ES350,020,0PA3046,763,3RO300,016,7TO303,323,3AM2763,081,5AP475,0100,0SE450,050,0AC20,050,0RR20,050,0DF10,00,0 O quadro acima contem as informações desejadas. A seguir, um pequeno gráfico para visualizar a distribuição do percentual de não entrega do DRAA por unidade da federação. tab3 %&gt;% pivot_longer(cols=c(`%_2019`, `%_2020`), names_to = &quot;ano&quot;, values_to = &quot;nao_entregas&quot;) %&gt;% ggplot(aes(x=ano, y=nao_entregas)) + geom_boxplot() + geom_jitter(color=&quot;lightgreen&quot;, width = 0.1) + labs(title = &quot;Percentual de não entrega\\n do DRAA por Ano&quot;, y = &quot;% de não entregas&quot;, x = &quot;&quot;) + theme_bw() 6.5 Balanço atuarial Nesta sessão, o objetivo é elaborar um quadro que contenha os principais resultados atuariais com os dados existentes na base de dados. Primeiro define-se as variáveis de interesse, ou seja, as que constarão do quadro a ser elaborado. Isso é feito a seguir: # Definição das contas que compõem o Balanço Atuarial do plano preividenciário contas_interesse &lt;- c(500101, 500201, 500301, 500401, 500501, 509001, 130201, 210000, 110000, 220000, 120000, 130101) Definidas as variáveis de interesse, aplica-se um filtro à base de dados, com o objetivo de obtê-las e, na sequência, faz-se a modificação de seus nomes para maior comodidade na elaboração do quadro: # Pega só os registros contendo os códigos de interesse draa_ba&lt;- draa %&gt;% filter(codigo %in% contas_interesse, tipo_massa == &quot;Civil&quot;, uf == &quot;RJ&quot;, ente == &quot;Rio de Janeiro&quot;, tipo_plano == &quot;Previdenciário&quot;, exercicio %in% c(2019, 2020)) %&gt;% select(codigo, exercicio, vlr_geracao_atual) %&gt;% mutate(titulos = case_when(codigo == 500101 ~ &quot;Renda Fixa&quot;, codigo == 500201 ~ &quot;Renda Variável&quot;, codigo == 500301 ~ &quot;Segmento Imobiliário&quot;, codigo == 500401 ~ &quot;Ativos em Enquadramento&quot;, codigo == 500501 ~ &quot;Títulos e Valores não Suj. a Enq.&quot;, codigo == 509001 ~ &quot;Demais Bens, Direitos e Ativos&quot;, codigo == 130201 ~ &quot;VP Parcelamentos&quot;, codigo == 210000 ~ &quot;VPBF_BC&quot;, codigo == 110000 ~ &quot;(-) VPCF_BC&quot;, codigo == 220000 ~ &quot;VPBF_BaC&quot;, codigo == 120000 ~ &quot;(-) VPCF_BaC&quot;, codigo == 130101 ~ &quot;VP Plano de Amortização Vigente&quot;)) %&gt;% select(codigo, titulos, exercicio, vlr_geracao_atual) %&gt;% pivot_wider(id_cols = c(codigo, titulos), names_from=exercicio, values_from=vlr_geracao_atual) %&gt;% mutate(var = round((`2020` / `2019` - 1) * 100, 2)) %&gt;% slice(9, 10, 7, 8, 11, 1:6, 12) draa_ba %&gt;% qflextable() .cl-faa82850{border-collapse:collapse;}.cl-fa80e9f2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-fa813826{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-fa813827{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-fa8270d8{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270d9{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270da{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270db{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270dc{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270dd{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270de{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270df{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270e0{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270e1{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8270e2{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297de{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297df{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e0{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e1{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e2{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e3{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e4{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e5{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e6{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e7{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa8297e8{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82beee{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82beef{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef0{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef1{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef2{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef3{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef4{width:53pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef5{width:55pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef6{width:92pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fa82bef7{width:181pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} codigotitulos20192020var220.000VPBF_BaC31.651.588.41037.597.196.21218,78120.000(-) VPCF_BaC14.350.097.31716.984.756.98418,36210.000VPBF_BC52.243.965.98153.217.085.0761,86110.000(-) VPCF_BC1.638.564.9421.773.342.0068,23130.101VP Plano de Amortização Vigente36.454.685.04136.708.004.0820,69500.101Renda Fixa46.881.3350-100,00500.201Renda Variável00500.301Segmento Imobiliário564.274.000762.749.10035,17500.401Ativos em Enquadramento00500.501Títulos e Valores não Suj. a Enq.00509.001Demais Bens, Direitos e Ativos16.183.0959.180.383-43,27130.201VP Parcelamentos00 A tabela ainda precisa de algum polimento mas já dá pra ver o esqueleto. Em versões posterioes do documento ela será melhorada. Caso o RPPS possua segregação de massas, basta substituir no filtro o tipo de plano para Financeiro. "],["parcelamento-de-débitos.html", "Capítulo 7 Parcelamento de Débitos 7.1 Importação e limpeza dos dados 7.2 Análise exploratória 7.3 Parcelamentos ativos 7.4 Agregação dos parcelamentos 7.5 Cobrança de juros simples 7.6 Adimplência dos parcelamentos", " Capítulo 7 Parcelamento de Débitos Este capítulo trata da base de dados dos acordos de parcelamento de débito, na qual estão contidas informações sobre os termos de parcelamento de débitos celebrados pelos RPPS com os entes aos quais estão vinculados. O objetivo do capítulo é explorar os dados e as possíbilidades de análise fornecidas por esse conjunto de dados, podendo-se destacar a identificação dos entes que estejam com parcelamentos de débito ativos junto ao seu RPPS, a quantidade de parcelamentos ativos, o valor consolidado dos parcelamentos o saldo a pagar. A SPREV disponiliza uma página em seu site inteiramente dedicada ao parcelamento de débitos na qual são disponibilizados alguns materiais sobre o assunto. 7.1 Importação e limpeza dos dados A importação da base de dados pode ser feita da seguinte forma: parcel &lt;- read_excel(&quot;dados/6-rg-ap-acor-parc_atualizacao_jan_de_1999-a-ago_2020_extracao_em_20201002.xlsx&quot;, skip = 3, col_names = FALSE) names(parcel) &lt;- c(&quot;ente&quot;, &quot;uf&quot;, &quot;tipo&quot;, &quot;situacao&quot;, &quot;num_acordo&quot;, &quot;rubrica&quot;, &quot;lei&quot;, &quot;dt_consol&quot;, &quot;dt_assin&quot;, &quot;dt_venc1a&quot;, &quot;compet_ini&quot;, &quot;compet_fin&quot;, &quot;vlr_consol&quot;, &quot;qtd_parc&quot;, &quot;vlr_parc_ini&quot;, &quot;sd_estim_satualiz&quot;, &quot;sd_estim_catualiz&quot;, &quot;comp_indice&quot;, &quot;comp_tp_juros&quot;, &quot;comp_txjuros&quot;, &quot;comp_multa&quot;, &quot;parcvinc_indice&quot;, &quot;parcvinc_tpjuros&quot;, &quot;parcvinc_txjuros&quot;, &quot;parcvinc_multa&quot;, &quot;parcatraso_indice&quot;, &quot;parcatraso_tpjuros&quot;, &quot;parcatraso_txjuros&quot;, &quot;parcatraso_multa&quot;) Importados os dados convém inspecioná-los para verificar se tudo correu bem no processo de importação: head(parcel) # A tibble: 6 x 29 ente uf tipo situacao num_acordo rubrica lei dt_consol dt_assin dt_venc1a compet_ini compet_fin vlr_consol qtd_parc vlr_parc_ini sd_estim_satual~ sd_estim_catual~ &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 Abad~ GO P Aceito 00198/2009 OUTR LEI ~ 27/03/20~ 27/03/2~ 30/04/20~ 02/2007 12/2008 216.084,06 240 900,35 91.835,70 218.568,97 2 Abad~ GO P Aceito 01121/2016 CP60 Lei ~ 21/12/20~ 21/12/2~ 30/12/20~ 02/2016 10/2016 585.393,82 60 9.756,56 136.591,84 199.424,09 3 Abad~ GO P Aceito 00138/2017 CP60 Lei ~ 03/02/20~ 06/02/2~ 01/03/20~ 10/2016 10/2016 45.123,45 60 752,06 12.785,02 18.282,58 4 Abad~ GO P Aceito 00645/2017 CP60 Lei ~ 24/07/20~ 24/07/2~ 31/08/20~ 02/2017 06/2017 461.544,36 60 7.692,41 169.233,02 233.541,57 5 Abad~ GO P Aceito 01426/2018 CP60 Lei ~ 21/12/20~ 21/12/2~ 30/01/20~ 02/2018 10/2018 1.172.611~ 24 48.858,83 146.576,49 177.357,55 6 Abad~ GO P Aceito 00143/2019 CP60 Lei ~ 08/02/20~ 11/02/2~ 31/03/20~ 11/2018 12/2018 396.962,34 22 18.043,74 54.131,22 64.416,15 # ... with 12 more variables: comp_indice &lt;chr&gt;, comp_tp_juros &lt;chr&gt;, comp_txjuros &lt;chr&gt;, comp_multa &lt;chr&gt;, parcvinc_indice &lt;chr&gt;, parcvinc_tpjuros &lt;chr&gt;, parcvinc_txjuros &lt;chr&gt;, # parcvinc_multa &lt;lgl&gt;, parcatraso_indice &lt;chr&gt;, parcatraso_tpjuros &lt;chr&gt;, parcatraso_txjuros &lt;chr&gt;, parcatraso_multa &lt;chr&gt; Feita a importação, quase sempre será necessário realizar o pré-processamento da base de dados. Da mesma forma que os dados do DIPR, os dados dos parcelamentos foram estruturados pela SPREV para serem visualizados e impressos e não para serem consumidos por aplicativos com vistas à sua análise informatizada. Esse fato é reflexo da falta de cultura de análise de dados ainda existente na administração pública onde a regra em geral é a análise de varejo, RPPS a RPPS, tendo por base frequentemente relatórios impressos em papel. Para que o trabalho posterior com esta base de dados seja facilitado, será necessário converter algumas variáveis para o formato numérico e outras para o formato de data: # Converter dados para o formato numérico e para datas convNum &lt;- function(x){ as.numeric(gsub(&quot;,&quot;, &quot;.&quot;, gsub(&quot;\\\\.&quot;, &quot;&quot;, x))) } convData &lt;- function(x){ as.Date(parse_date_time2(x, orders = &quot;d/m/Y&quot;)) } colunas_converter_num &lt;- c(&quot;vlr_consol&quot;, &quot;qtd_parc&quot;, &quot;vlr_parc_ini&quot;, &quot;sd_estim_satualiz&quot;, &quot;sd_estim_catualiz&quot;, &quot;comp_txjuros&quot;, &quot;comp_multa&quot;, &quot;parcvinc_txjuros&quot;, &quot;parcvinc_multa&quot;, &quot;parcatraso_txjuros&quot;, &quot;parcatraso_multa&quot;) colunas_converter_dt &lt;- c(&quot;dt_consol&quot;, &quot;dt_assin&quot;, &quot;dt_venc1a&quot;) parcel &lt;- parcel %&gt;% mutate(compet_ini = as.Date(parse_date_time(compet_ini, orders = &quot;m/Y&quot;)), compet_fin = as.Date(parse_date_time(compet_fin, orders = &quot;m/Y&quot;)), ente = gsub(&quot;^Governo do &quot;, &quot;&quot;, ente)) # Conversão dos valores numéricos parcel &lt;- parcel %&gt;% mutate(across(.cols=all_of(colunas_converter_num), convNum)) # Conversão das datas parcel &lt;- parcel %&gt;% mutate(across(.cols=all_of(colunas_converter_dt), convData)) Como pode ser visto, a base de dados traz um conjunto amplo de informações (29 colunas) sobre os termos de parcelamento de débitos. As colunas 1 a 17 contém informações sobre as caracteristicas do termo de parcelamentos. As 4 colunas seguinte traz informações sobre os parâmetros utilizados para a consolidação do débito, o mesmo ocorrendo com as 8 colunas finais que trazem os parâmetros para a atualização das parcelas a vencer e das parcelas vencidas. 7.2 Análise exploratória Agora já é possível explorar algumas variáveis com o objetivo de conhecer as informações que as mesmas contém. Começa-se com a variável tipo. Quais a distribuição de frequência dessa variável? parcel %&gt;% tabyl(tipo) %&gt;% adorn_pct_formatting(digits = 0, affix_sign = TRUE) tipo n percent P 9705 82% R 2126 18% São apenas dois valores indicando tratar-se de parcelamento ou reparcelamento. parcel %&gt;% tabyl(situacao) %&gt;% adorn_pct_formatting(digits = 0, affix_sign = TRUE) situacao n percent Aceito 5754 49% Aguardando análise 299 3% Aguardando doc. assinado 754 6% Não aceito 1467 12% Quitado 1483 13% Repactuado 2074 18% Algumas possibilidades para a variável situação. Vê-se que alguns termos estão quitados, outros não foram aceitos pela SPREV, etc. Essa variável parece ser importante quando da realização de algumas análises. Por exemplo, termos já quitados talvez não devam ser inseridos na análise caso o interesse seja determinar o volume de dívida dos entes com os RPPS. O mesmo se aplica aos termos não aceitos. parcel %&gt;% tabyl(rubrica) %&gt;% adorn_pct_formatting(digits = 2, affix_sign = TRUE) rubrica n percent C240 1181 9.98% CP60 4669 39.46% CSEG 626 5.29% OUTR 3040 25.70% P200 1259 10.64% S200 511 4.32% U200 196 1.66% U240 27 0.23% UIRP 322 2.72% Os valores da variável rubrica são uns códigos cripticos mas que informam a origem do débito e a quantidade de parcelas. Assim, CP60 refere-se a débito com origem no não repasse da contribuição patronal, parcelado em até 60 meses. UIRP refere-se a parcelamento de débitos originados da utilização irregular de recursos previdenciários e por aí vai. Interessante observar que a rubrica com a segunda maior quantidade de acordos seja OUTR. Isso porque o esperado é que as situações mais frequentes já tenham sido mapeadas pela SPREV e disponibilizadas como opção de escolha no CADPREV. Outro fato interessane é o código CSEG que indica débito oriundo do não recolhimento ao RPPS das contribuiçãoes dos segurados, o que em tese constitui crime de apropriação indébita. Mas é uma possibilidade oficialmente reconhecida. As demais variáveis são mais ou menos autoexplicativas. Para a obtenção de um sumário estatístico da variável qtd_parc pode-se fazer: summary(parcel$qtd_parc) Min. 1st Qu. Median Mean 3rd Qu. Max. 1.0 60.0 60.0 113.4 200.0 540.0 O resultado indica a existência de acordos de parcelamento passuindo apenas 1 parcela, até o máximo de 540 parcelas! Para identificar esses casos extremos pode-se utilizar os seguintes comandos: # Valores mínimos parcel %&gt;% slice_min(order_by=qtd_parc, n=1) # A tibble: 31 x 29 ente uf tipo situacao num_acordo rubrica lei dt_consol dt_assin dt_venc1a compet_ini compet_fin vlr_consol qtd_parc vlr_parc_ini sd_estim_satual~ sd_estim_catual~ &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Abae~ PA P Quitado 01571/2017 U200 Lei ~ 2017-10-20 2017-11-01 2017-12-30 2009-01-01 2009-12-01 146765. 1 146765. 0 0 2 Açai~ MA P Não ace~ 00562/2019 CP60 &lt;NA&gt; 2019-07-15 2019-07-15 2019-07-19 2013-12-01 2017-12-01 6943. 1 6943. 0 0 3 Açai~ MA P Aguarda~ 00070/2020 OUTR &lt;NA&gt; 2020-01-01 2020-01-24 2020-01-24 2019-01-01 2019-07-01 3633908. 1 3633908. 0 0 4 Água~ SP P Quitado 00853/2014 OUTR LEI ~ 2014-12-18 2014-12-18 2015-01-15 2013-03-01 2014-03-01 216232. 1 216232. 0 0 5 Apar~ SP P Aceito 00051/2020 CP60 LEI ~ 2020-01-17 2020-01-17 2020-02-28 2019-07-01 NA 423729. 1 423729. 0 0 6 Arra~ RJ P Aceito 00916/2019 CP60 &lt;NA&gt; 2019-12-16 2019-12-20 2020-01-30 2014-03-01 2019-04-01 31413. 1 31413. 0 0 7 Arra~ RJ P Aguarda~ 00921/2019 OUTR &lt;NA&gt; 2020-05-25 2020-07-22 2020-08-31 2014-02-01 2019-02-01 5066. 1 5066. 0 0 8 Arra~ RJ P Aguarda~ 00301/2020 CP60 &lt;NA&gt; 2020-05-26 2020-07-22 2020-08-31 2019-01-01 2019-04-01 28640. 1 28640. 0 0 9 Arra~ RJ P Aguarda~ 00302/2020 OUTR &lt;NA&gt; 2020-05-26 2020-07-22 2020-08-31 2019-01-01 2019-04-01 14493. 1 14493. 0 0 10 Arra~ RJ P Aguarda~ 00373/2020 OUTR &lt;NA&gt; 2020-08-10 2020-08-11 2020-08-30 2014-01-01 2019-04-01 129700. 1 129700. 0 0 # ... with 21 more rows, and 12 more variables: comp_indice &lt;chr&gt;, comp_tp_juros &lt;chr&gt;, comp_txjuros &lt;dbl&gt;, comp_multa &lt;dbl&gt;, parcvinc_indice &lt;chr&gt;, parcvinc_tpjuros &lt;chr&gt;, # parcvinc_txjuros &lt;dbl&gt;, parcvinc_multa &lt;dbl&gt;, parcatraso_indice &lt;chr&gt;, parcatraso_tpjuros &lt;chr&gt;, parcatraso_txjuros &lt;dbl&gt;, parcatraso_multa &lt;dbl&gt; Tem-se 31 acordos nesta situação. # Valores máximos parcel %&gt;% slice_max(order_by=qtd_parc, n=1) # A tibble: 1 x 29 ente uf tipo situacao num_acordo rubrica lei dt_consol dt_assin dt_venc1a compet_ini compet_fin vlr_consol qtd_parc vlr_parc_ini sd_estim_satual~ sd_estim_catual~ &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Pass~ MG P Aceito 00053/2007 OUTR AÇÃO~ 2007-04-18 2007-04-18 2007-05-10 2004-09-01 2006-12-01 2140939. 540 3965. 1502621. 3921842. # ... with 12 more variables: comp_indice &lt;chr&gt;, comp_tp_juros &lt;chr&gt;, comp_txjuros &lt;dbl&gt;, comp_multa &lt;dbl&gt;, parcvinc_indice &lt;chr&gt;, parcvinc_tpjuros &lt;chr&gt;, parcvinc_txjuros &lt;dbl&gt;, # parcvinc_multa &lt;dbl&gt;, parcatraso_indice &lt;chr&gt;, parcatraso_tpjuros &lt;chr&gt;, parcatraso_txjuros &lt;dbl&gt;, parcatraso_multa &lt;dbl&gt; Apenas um acordo com o valor máximo e possui débito originário de ação de cobrança. Pode-se fazer um gráfico mostrando a quantidade de acordos celebrados por ano. parcel %&gt;% mutate(ano_assinatura = format(dt_assin, &quot;%Y&quot;)) %&gt;% count(ano_assinatura, name = &quot;qtd&quot;) %&gt;% ggplot(aes(y=ano_assinatura, x=qtd, label = qtd)) + geom_point(color=&quot;blue&quot;, size=2.3) + geom_segment(aes(xend=0, yend=ano_assinatura), color=&quot;blue&quot;) + geom_text(hjust=-0.5, size=2) + theme_bw() + labs(title=&quot;Quantidade de Acordos de Parcelamento \\n Celebrados por Ano&quot;, x = &quot;Quantidade de Acordos&quot;, y = &quot;Ano de Assinatura do Termo&quot;) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) Até 2008 não não eram celebrados muitos acordos. A partir de 2009 há um acréscimo e em 2013 houve uma explosão na quantidade de acordos celebrados, mantando-se elevados esse quantitativo a partir de então. Uma outra verificação importante ainda na fase de análise exploratária é verificar qual o percentual de valores não preenchidos em cada variável. parcel %&gt;% summarize(across(.fns = ~round(sum(is.na(.))/length(.) * 100, 1))) %&gt;% t() %&gt;% as.data.frame() %&gt;% filter(V1 &gt; 0) %&gt;% arrange(desc(V1)) V1 parcvinc_multa 100.0 comp_multa 56.8 compet_fin 21.9 parcatraso_multa 12.0 lei 11.0 comp_txjuros 3.3 parcvinc_txjuros 3.1 parcvinc_tpjuros 3.0 parcatraso_tpjuros 3.0 parcatraso_txjuros 3.0 comp_tp_juros 2.9 compet_ini 0.8 A variável compet_fin apresenta um valor de aproximadamente 22% de valores faltantes. Ao investigar a razão desse valor verificou-se que o processo de importação dos dados estava gerando os NA visto que a função de conversão de datas não reconhece situações como 13/2014 que indica a inclusão do 13o salário. Esse fato irá ensejar uma forma alternativa de lidar com essa situação durante o processo de importação dos dados. As variáveis indicativas do percentual de multa também apresentam valores elevados de não preenchimento. 7.3 Parcelamentos ativos A variável situacao indica, como visto, a situação do parcelamento na data da geração da base de dados. Os valores possíveis dessa variável foram vistos acima. Para adotar uma postura conservadora em relação ao montante de dívida oriunda de parcelamentos que os entes possuem com seus RPPS serão excluídos da base de dados todos os acordos que não possuam a situação Aceito e Repactuado. Será criada uma nova base de dados parcel_ativos, contendo apenas os acordos de interesse. parcel_ativos &lt;- parcel %&gt;% filter(situacao %in% c(&quot;Aceito&quot;, &quot;Repactuado&quot;)) A base de dados reduz de 11.831 observações para 7.828. Qual a quantidade de Aceitos e Repactuados? parcel %&gt;% tabyl(situacao) %&gt;% adorn_pct_formatting(digits = 2, affix_sign = TRUE) situacao n percent Aceito 5754 48.63% Aguardando análise 299 2.53% Aguardando doc. assinado 754 6.37% Não aceito 1467 12.40% Quitado 1483 12.53% Repactuado 2074 17.53% Como pode ser visto, a base agora contém apenas os parcelamentos aceitos e os repactuados. 7.4 Agregação dos parcelamentos Neste tópico será feita uma agregação dos dados com vistas a mostrar para cada ente o quantitativo de acordos e correspondente valor, considerando-se apenas os acordos aceitos e repactuados. tab_qtd_acordos_ente &lt;- parcel_ativos %&gt;% group_by(ente) %&gt;% summarise(qtd_acordos = n(), vlr_consolidado = sum(vlr_consol, na.rm=TRUE), sd_sem_atualiz = sum(sd_estim_satualiz, na.rm = TRUE), sd_com_atualiz = sum(sd_estim_catualiz, na.rm = TRUE), `%_sd_sem_atualiz` = round(sd_sem_atualiz / vlr_consolidado * 100, 2), `%_sd_com_atualiz` = round(sd_com_atualiz / vlr_consolidado * 100, 2)) %&gt;% arrange(desc(vlr_consolidado)) head(tab_qtd_acordos_ente) # A tibble: 6 x 7 ente qtd_acordos vlr_consolidado sd_sem_atualiz sd_com_atualiz `%_sd_sem_atualiz` `%_sd_com_atualiz` &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Curitiba 5 766061169. 437908053. 595705732. 57.2 77.8 2 Betim 14 660917411. 392294258. 611880378. 59.4 92.6 3 Florianópolis 20 655221375. 364905999. 502711269. 55.7 76.7 4 Estado do Tocantins 6 625112375. 170074534. 237037997. 27.2 37.9 5 Campos dos Goytacazes 14 528714449. 287508688. 383896245. 54.4 72.6 6 Manaus 12 450433945. 312709216. 474798435. 69.4 105. Tem-se agora um novo conjunto de dados que mostra, para cada ente, a quantidade de acordos celebrados o valor consolidado correspondente, o valor do saldo a pagar sem atualização e com atualização e os percentuais que esses valores representam da consolidação. Sumário da quantidade de acordos e valores consolidados: tab_qtd_acordos_ente %&gt;% select(-ente) %&gt;% summary() qtd_acordos vlr_consolidado sd_sem_atualiz sd_com_atualiz %_sd_sem_atualiz %_sd_com_atualiz Min. : 1.000 Min. : 19939 Min. : 0 Min. : 0 Min. : 0.00 Min. : 0.00 1st Qu.: 2.000 1st Qu.: 1245751 1st Qu.: 332230 1st Qu.: 608469 1st Qu.:26.48 1st Qu.: 44.14 Median : 4.000 Median : 3957559 Median : 1584543 Median : 2678750 Median :46.63 Median : 74.97 Mean : 5.672 Mean : 21616000 Mean : 11493585 Mean : 16910681 Mean :43.26 Mean : 69.06 3rd Qu.: 8.000 3rd Qu.: 13229078 3rd Qu.: 6959524 3rd Qu.: 10219905 3rd Qu.:61.28 3rd Qu.: 96.04 Max. :94.000 Max. :766061169 Max. :437908053 Max. :611880378 Max. :99.50 Max. :173.33 Os entes com menos acordos possuem 1 acordo mas tem-se um campeão com 94 acordos de parcelamento! A mediana é de 4 acordos, indicando que metade dos RPPS possuem de 1 a 4 acordos. A seguir elabora-se um histograma para mostrar a distribuição da variável qtd_acordos: ggplot(tab_qtd_acordos_ente, aes(x=qtd_acordos)) + geom_histogram(color=&#39;black&#39;, fill=&#39;lightgreen&#39;, binwidth = 2, boundary=0) + labs(title = &quot;Distribuição da Quantidade de Acordos&quot;, x = &quot;Quantidade de Acordos&quot;, y = &quot;Freq. Absoluta&quot;) + theme_bw() Com quase quinhentos registros, tem os entes com até 2 acordos, com a frequência decrescendo à medida que a quantidade de acordos por ente vai aumentando. Existem alguns valores bem elevados, acima de 50 acordos de parcelamento. Pode-se perguntar quem são os top 5 em quantidade de acordos? tab_qtd_acordos_ente %&gt;% slice_max(qtd_acordos, n = 5) # A tibble: 5 x 7 ente qtd_acordos vlr_consolidado sd_sem_atualiz sd_com_atualiz `%_sd_sem_atualiz` `%_sd_com_atualiz` &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 São Leopoldo 94 350607427. 232622410. 335294406. 66.4 95.6 2 São Domingos 51 17902053. 12173178. 16537416. 68 92.4 3 Caldas Novas 40 82449581. 43791345. 56376090. 53.1 68.4 4 Goiatuba 30 56247076. 45170631. 59801790. 80.3 106. 5 Campo Novo de Rondônia 30 44400218. 27169628. 39744311. 61.2 89.5 A relação acima mostra os 5 entes com a maior quantidade de acordos, o que não significa serem os maiores devedores. 7.5 Cobrança de juros simples É comum acordos de parcelamento nos quais são adotadas taxas de juros incompatíveis com a meta atuarial, seja nos valores dos juros, seja no regime de capitalização, ou seja, adoção de juros simples em fez dos juros compostos. Para as parcelas vincendas, a base de dados contém as seguintes variáveis: parcvinc_indice, parcvinc_tpjuros, parcvinc_txjuros e parcvinc_multas. Mostra-se, a seguir, a distribuição de frequência do tipo de juros encontrados nos parcelamentos ativos: parcel_ativos %&gt;% count( parcvinc_indice, parcvinc_tpjuros) %&gt;% pivot_wider(names_from =parcvinc_indice , values_from=n) # A tibble: 3 x 8 parcvinc_tpjuros `IGP-DI` `IGP-M` INPC `IPC-FIPE` IPCA Outros SELIC &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; 1 Composto 1 134 574 12 438 30 18 2 Simples 25 304 2777 73 2893 166 118 3 &lt;NA&gt; NA NA NA NA 1 3 261 Além do uso de juros simples também existe a adoção da taxa SELIC como indexador da inflação! Parece que existe um bom estímulo a que os entes não repassem as constribuições aos RPPS! É um ótimo negócio o ente se financiar junto ao RPPS pagando juros simples! Além disso, atuarialmente essa é uma prática contrária ao princípio constitucional do equilíbrio financeiro e atuarial visto que induz a formação de deficts atuariais. 7.6 Adimplência dos parcelamentos Nota: O contéudo desta seção baseia-se em muitas suposições sobre as variáveis que precisam ser cofirmadas junto à SPREV. Monitorar se os parcelamentos de débitos vem sendo adimplidos com regularidade é algo que as pessoas interessadas na saúde financeira dos RPPS podem querer fazer. Assim, uma questão que surge é a seguinte: os dados contidos nessa base permitem avaliar se o ente vem pagando com regularidade sua dívida junto ao RPPS? A base contém algumas variáveis que podem ajudar a responder a questão. A variável vlr_consol informa o valor total do débito consolidado, a variável qtd_parc indica a quantidade de parcelas do débito, a variável vlr_parc_ini indica o valor da parcela inicial (essa variável é o quociente entre as variáveis vlr_consol e qtd_parc), a variável dt_venc1a informa a data de vencimento da primeira parcela e a variável sd_estim_satualiz informa o saldo estimado da dívida sem atualização. Para a metodologia proposta para checagem do regular adimplemento do parecelamento, assume-se que a variável sd_estim_satualiz reflita o saldo a pagar na data de geração dos dados, ou seja, é a diferença entre o valor consolidado e o valor já pago. Ocorre que o valor já pago não consta da base de dados, mas pode ser determinado multiplicando-se o valor da primeira parcela pela quantidade de meses decorridos da data de vencimento da primeira parcela até a data de geração dos dados. Assume-se a hipótese (a ser confirmada junto à SPREV) de que o valor da variável sd_estim_satualiz seja gerado pela SPREV a partir de informações colhidas no DIPR, de forma que cada parcela informada naquele demonstrativo seja subtraída do valor consolidado do débito de forma que decorrido o prazo do parcelamento (qtd_parc) o débito esteja quitado. Com essas suposições, uma verificação que talvez possa fornecer alguma indicação quanto a regularidade do pagamento dos acordos seria dividir o saldo estimado sem atualização pelo valor da parcela inicial. Isso daria a quantidade de parcelas que ainda faltam a ser pagas. Diminuindo esse valor da quantidade de parcelas, obtem-se a quantidade de parcelas pagas. Tomando a data de vencimento da primeira parcela e adicionando-se a quantidade de meses iqual à quantidade de parcelas pagas espera-se obter uma data próxima à data de extração dos dados que se deu em 02/10/2020 conforme consta no nome do arquivo contendo os dados. O código a seguir implementa essa ideia, calculando a data referente à última parcela na data de extração dos dados. parcel_ativos2 &lt;- parcel_ativos %&gt;% mutate(qtd_parc_apagar = sd_estim_satualiz / vlr_parc_ini, qtd_parc_pagas = qtd_parc - qtd_parc_apagar, dt_parc_atual = dt_venc1a + months(as.integer(qtd_parc_pagas))) head(parcel_ativos2) # A tibble: 6 x 32 ente uf tipo situacao num_acordo rubrica lei dt_consol dt_assin dt_venc1a compet_ini compet_fin vlr_consol qtd_parc vlr_parc_ini sd_estim_satual~ sd_estim_catual~ &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;date&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Abad~ GO P Aceito 00198/2009 OUTR LEI ~ 2009-03-27 2009-03-27 2009-04-30 2007-02-01 2008-12-01 216084. 240 900. 91836. 218569. 2 Abad~ GO P Aceito 01121/2016 CP60 Lei ~ 2016-12-21 2016-12-21 2016-12-30 2016-02-01 2016-10-01 585394. 60 9757. 136592. 199424. 3 Abad~ GO P Aceito 00138/2017 CP60 Lei ~ 2017-02-03 2017-02-06 2017-03-01 2016-10-01 2016-10-01 45123. 60 752. 12785. 18283. 4 Abad~ GO P Aceito 00645/2017 CP60 Lei ~ 2017-07-24 2017-07-24 2017-08-31 2017-02-01 2017-06-01 461544. 60 7692. 169233. 233542. 5 Abad~ GO P Aceito 01426/2018 CP60 Lei ~ 2018-12-21 2018-12-21 2019-01-30 2018-02-01 2018-10-01 1172612. 24 48859. 146576. 177358. 6 Abad~ GO P Aceito 00143/2019 CP60 Lei ~ 2019-02-08 2019-02-11 2019-03-31 2018-11-01 2018-12-01 396962. 22 18044. 54131. 64416. # ... with 15 more variables: comp_indice &lt;chr&gt;, comp_tp_juros &lt;chr&gt;, comp_txjuros &lt;dbl&gt;, comp_multa &lt;dbl&gt;, parcvinc_indice &lt;chr&gt;, parcvinc_tpjuros &lt;chr&gt;, parcvinc_txjuros &lt;dbl&gt;, # parcvinc_multa &lt;dbl&gt;, parcatraso_indice &lt;chr&gt;, parcatraso_tpjuros &lt;chr&gt;, parcatraso_txjuros &lt;dbl&gt;, parcatraso_multa &lt;dbl&gt;, qtd_parc_apagar &lt;dbl&gt;, qtd_parc_pagas &lt;dbl&gt;, # dt_parc_atual &lt;date&gt; Caso os entes tenham realizado os pagamentos com regularidade, espera-se que os valores da variável dt_parc_atual estejam próximas a Out/2020, visto que a data de extração dos dados foi em 02/10/2020. Uma rápida verificação do range da variável irá confirmar se de fato isto está ocorrendo: range(parcel_ativos2$dt_parc_atual, na.rm = TRUE) [1] &quot;2011-02-15&quot; &quot;2032-05-01&quot; Diferentemente do esperado, tem-se datas que vão do ano de 2011 a 2032. O que pode ter acontecido? O código a seguir faz a contagem das datas no mês de outubro de 2020. parcel_ativos2 %&gt;% count(out2020 = dt_parc_atual %within% interval(dmy(&quot;01102020&quot;), dmy(&quot;31102020&quot;))) # A tibble: 3 x 2 out2020 n &lt;lgl&gt; &lt;int&gt; 1 FALSE 2513 2 TRUE 5251 3 NA 64 O resultado mostra que 5251 registros possuem a data da parcela atual no mês de outubro de 2020 e que 2513 não. Deve-se olhar com mais cuidado para esses 2513 registros. O código a seguir aplica um filtro para captuar esse registros. nao_conformes &lt;- parcel_ativos2 %&gt;% filter(!dt_parc_atual %within% interval(dmy(&quot;01102020&quot;), dmy(&quot;31102020&quot;))) Inspecionando os dados, verifica-se que parte deles possuem o valor da variável sd_estim_satualiz zerado, o que não é algo que seria esperado de ocorrer, visto que os parcelamentos já quitados foram excluídos da base de dados. Deve-se obter mais informações junto à SPREV quanto as possíveis causas desse fato. sd_zero &lt;- nao_conformes %&gt;% filter(sd_estim_satualiz == 0) nao_conformes %&gt;% count(sd_zerado = sd_estim_satualiz == 0) # A tibble: 2 x 2 sd_zerado n &lt;lgl&gt; &lt;int&gt; 1 FALSE 403 2 TRUE 2110 Dos 2513 acordos, 2110 estão nessa situação. Os demais 403 não estão conforme o esperado por outra razão ainda a ser determinada. O códido a seguir cria uma nova base com esses 403 registros para investigação posterior. nao_conformes2 &lt;- nao_conformes %&gt;% filter(sd_estim_satualiz &gt; 0) Inspecionando a base de dados, verifica-se que muitos registros possuem a data da última parcela em Set/2020 que é próximo do esperado, não representando uma não conformidade, de forma que serão excluídos da base. nao_conformes3 &lt;- nao_conformes2 %&gt;% filter(!dt_parc_atual %within% interval(dmy(01092020), dmy(30092020))) Com esse filtro, a quantidade de registros não conformes cai para 52. O código a seguir obtém a quantidade de datas em cada ano: nao_conformes3 %&gt;% count(ano_data = format(dt_parc_atual, &quot;%Y&quot;)) %&gt;% arrange(ano_data) # A tibble: 11 x 2 ano_data n &lt;chr&gt; &lt;int&gt; 1 2020 2 2 2021 15 3 2022 7 4 2023 9 5 2024 7 6 2025 5 7 2026 2 8 2027 1 9 2028 1 10 2031 2 11 2032 1 Tem-se duas datas em 2020 (Nov e Dez) e as demais em anos posteriores. Uma possível justificativa para isso (mas que deve ser confirmado junto à SPREV) seria o pagamento de mais de uma parcela no mês, o que levaria a um valor de sd_estim_satuliz inferior ao que seria esperadoe e a uma quantidade de parcelas a serem pagas maior que o correto. Isso implica datas da parcela atual posteriores a Out/2020. "],["isp-indicador-de-situação-previdenticária.html", "Capítulo 8 ISP - Indicador de Situação Previdenticária", " Capítulo 8 ISP - Indicador de Situação Previdenticária NOTA: Este é um trabalho em progresso. Novos capítulos serão adicionados à medida que o tempo permitir. Volte em breve! "],["fluxo-atuarial.html", "Capítulo 9 Fluxo Atuarial 9.1 Fluxo atuarial utilizado no capítulo 9.2 Importação e pré-processamento dos dados 9.3 Dicionário de variáveis 9.4 Análise gráfica das variáveis do fluxo atuarial 9.5 Cálculo dos principais números da avaliação atuarial 9.6 Anexo 10 do RREO 9.7 Verificação da consistência interna do fluxo atuarial", " Capítulo 9 Fluxo Atuarial O fluxo atuarial é, na definição dada pela Portaria 464/18 (Anexo - Dos Conceitos), a discriminação dos fluxos de recursos, direitos, receitas e encargos do plano de benefícios do RPPS, benefício a benefício, período a período, que se trazidos a valor presente pela taxa atuarial de juros adotada no plano, convergem para os resultados do Valor Atual dos Benefícios Futuros e do Valor Atual das Contribuições Futuras que deram origem aos montantes dos fundos de natureza atuarial, às provisões matemáticas (reservas) a contabilizar e ao eventual deficit ou superavit apurados da avaliação atuarial. Os fluxos atuariais tem por objetivo evidenciar as projeções de todas as receitas e despesas do RPPS e sua estrutura deverá seguir modelos aprovados pela SPREV e disponíveis para download em seu site. Um primeiro aspecto importante a ser considerado é que os mesmos são parte integrante da avaliação atuarial. (art. 10) Os modelos do fluxo atuarial e orientações quanto ao seu preenchimento podem ser obtidos nos seguintes links: Modelos de planilhas: http://sa.previdencia.gov.br/site/2015/04/Fluxos-atuariais-Para-o-site-em-abril_2015_.zip Instruções para preenchimento: http://sa.previdencia.gov.br/site/2015/04/2015-_Instru%C3%A7%C3%B5es-de-Preenchimento-dos-Fluxos-Atuariais.xlsx Também são de interesse as orientações contidas no documento Instruções gerais para download, preparação e transmissão dos fluxos atuariais De acordo com este documento, os valores da linha 157 estão arredondados na casa dos centavos, de forma que os valores dessa linha devem corresponder aos valores informados na aba Resultados / Valores dos Compromissos do DRAA. É vedado fazer alterações na planilha de forma que a construção de rotinas de verificação automatizadas dos mesmos pode ser feita com certa segurança. Um recorte do layout dos fluxos atuariais é apresentado a seguir: Na planilha modelo disponibilizada pela SPREV o usuário só pode inserir dados nas células em azul, as células em branco contém fórmulas que não devem ser alteradas. A planilha é protegida por senha embora a mesma seja divulgada pela SPREV. O modelo de fluxo atuarial contempla um horizonte temporal de 150 anos e suas últimas duas linhas contém os chamados totais de controle. A linha denominada Totais de Controle contém simplesmente a soma de algumas das variáveis do fluxo atuarial. Já a linha Totais de Controle a Valor Atual apresenta o valor presente atuarial das variáveis do fluxo atuarial no ano da avaliação atuarial (ano de início das projeções). A SPREV disponibiliza dois modelos de fluxo atuarial: o que deve ser encaminhado à SPREV, com 67 colunas, e o que contém o cálculo da duração do passivo, com duas colunas adicionais para auxiliar no cálculo deste valor, mas o atuário deve encaminhar para a SPREV apenas o modelo que não contém o cálculo da duração do passivo. Em 29/01/2020 a SPREV divulgou um documento sobre a atualização nos dois modelos das planilhas dos fluxos atuariais, documento que pode ser consultado no seguinte link. 9.1 Fluxo atuarial utilizado no capítulo Como já mencionado na Introdução, os fluxos atuariais, embora sejam elementos integrantes das avaliações atuariais, não são disponibilizados pela SPREV em seu site nem pelos RPPS em conjunto com o relatório de avaliação atuarial. Existe um arquivo denominado Fluxo Atuarial que integra o rol de arquivos do DRAA, mas que não é, efetivamente, o fluxo atuarial, mas apenas uma síntese desse contendo apenas os valores atuais das rubricas. Para a análise realizada neste capítulo será utilizado um exemplar de fluxo atuarial contido no arquivo 2019_FLX_CIVIL_PREV_GA_CNPJ.csv. O nome dos arquivos dos fluxos atuariais seguem um padrão que informa o ano do fluxo atuarial, se diz o mesmo refere-se ao pessoal civil ou militar, se o fluxo é do regime previdenciário, financeiro ou mantidos diretamente pelo tesouro, se é geração atual ou geração futura e o número do cnpj do ente. Olhando o nome do arquivo a ser objeto de análise, vê-se tratar do fluxo atuarial de 2019, do pessoal civil do fundo em capitalização do ente CNPJ. Omitiu-se o número do cnpj para não se identificar o ente em razão da SPREV ainda não disponibiliar essa informação publicamente no site. 9.2 Importação e pré-processamento dos dados A importação dos dados contidos no arquivo do fluxo atuarial pode ser feita da seguinte forma: fluxo_atuarial &lt;- read_csv2(&quot;dados/2019_FLX_CIVIL_PREV_GA_CNPJ.csv&quot;, skip = 5, col_names = FALSE) head(fluxo_atuarial) # A tibble: 6 x 67 X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11 X12 X13 X14 X15 X16 X17 X18 X19 X20 X21 X22 X23 X24 X25 X26 X27 &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 0 2019 6 1 9.76e6 0 0 0 0 0 0 1638. 1.83e6 1.08e6 4.69e5 0 64434. 76895. 1.23e5 16203. 9.25e5 5.46e5 2.38e5 0 32602. 38907. 62180. 2 1 2020 6 0.943 8.95e6 0 0 0 0 0 0 2135. 1.68e6 9.88e5 4.30e5 0 59057. 70478. 1.13e5 14851. 8.48e5 5.00e5 2.18e5 0 29882. 35661. 56991. 3 2 2021 6 0.89 8.95e6 0 0 0 0 0 0 3100. 1.68e6 9.89e5 4.31e5 0 59097. 70526. 1.13e5 14861. 8.49e5 5.01e5 2.18e5 0 29902. 35685. 57030. 4 3 2022 6 0.840 8.84e6 0 0 0 0 0 0 3763. 1.65e6 9.76e5 4.25e5 0 58322. 69602. 1.11e5 14666. 8.38e5 4.94e5 2.15e5 0 29510. 35217. 56282. 5 4 2023 6 0.792 8.79e6 0 0 0 0 0 0 4385. 1.65e6 9.71e5 4.23e5 0 58012. 69231. 1.11e5 14588. 8.34e5 4.92e5 2.14e5 0 29353. 35029. 55982. 6 5 2024 6 0.747 8.75e6 0 0 0 0 0 0 5651. 1.64e6 9.66e5 4.21e5 0 57731. 68895. 1.10e5 14518. 8.30e5 4.89e5 2.13e5 0 29211. 34860. 55711. # ... with 40 more variables: X28 &lt;dbl&gt;, X29 &lt;dbl&gt;, X30 &lt;dbl&gt;, X31 &lt;dbl&gt;, X32 &lt;dbl&gt;, X33 &lt;dbl&gt;, X34 &lt;dbl&gt;, X35 &lt;dbl&gt;, X36 &lt;dbl&gt;, X37 &lt;dbl&gt;, X38 &lt;dbl&gt;, X39 &lt;dbl&gt;, X40 &lt;dbl&gt;, # X41 &lt;dbl&gt;, X42 &lt;dbl&gt;, X43 &lt;dbl&gt;, X44 &lt;dbl&gt;, X45 &lt;dbl&gt;, X46 &lt;dbl&gt;, X47 &lt;dbl&gt;, X48 &lt;dbl&gt;, X49 &lt;dbl&gt;, X50 &lt;dbl&gt;, X51 &lt;dbl&gt;, X52 &lt;dbl&gt;, X53 &lt;dbl&gt;, X54 &lt;dbl&gt;, X55 &lt;dbl&gt;, X56 &lt;dbl&gt;, # X57 &lt;dbl&gt;, X58 &lt;dbl&gt;, X59 &lt;dbl&gt;, X60 &lt;dbl&gt;, X61 &lt;dbl&gt;, X62 &lt;dbl&gt;, X63 &lt;dbl&gt;, X64 &lt;chr&gt;, X65 &lt;dbl&gt;, X66 &lt;dbl&gt;, X67 &lt;dbl&gt; A base de dados contém 67 colunas. Para adicionar nomes às colunas pode-se fazer: colfluxo &lt;- c(100101, 100201, 100301, 100401, 109001, 111000, 111101, 111201, 111301, 111401, 112000, 119900, 121000, 121100, 121200, 121300, 121400, 121500, 121600, 121700, 122000, 122100, 122200, 122300, 122400, 122500, 122600, 122700, 123000, 123100, 123200, 123300, 123400, 124000, 124100, 124200, 124300, 124400, 124500, 129000, 130101, 130201, 139901, 190000, 210000, 211001, 212001, 213001, 214001, 215001, 219901, 220000, 221000, 222000, 223000, 224000, 225000, 226000, 227000, 229000, 239901, 240000, 250001, 260001, 270001, 280001, 290001) names(fluxo_atuarial) &lt;- paste(&quot;V&quot;, colfluxo, sep=&quot;&quot;) head(fluxo_atuarial) # A tibble: 6 x 67 V100101 V100201 V100301 V100401 V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 V121500 V121600 V121700 V122000 V122100 &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 0 2019 6 1 9.76e6 0 0 0 0 0 0 1638. 1.83e6 1.08e6 469462. 0 64434. 76895. 122891. 16203. 925103. 545590. 2 1 2020 6 0.943 8.95e6 0 0 0 0 0 0 2135. 1.68e6 9.88e5 430287. 0 59057. 70478. 112636. 14851. 848009. 500080. 3 2 2021 6 0.89 8.95e6 0 0 0 0 0 0 3100. 1.68e6 9.89e5 430579. 0 59097. 70526. 112712. 14861. 848823. 500586. 4 3 2022 6 0.840 8.84e6 0 0 0 0 0 0 3763. 1.65e6 9.76e5 424934. 0 58322. 69602. 111235. 14666. 837864. 494068. 5 4 2023 6 0.792 8.79e6 0 0 0 0 0 0 4385. 1.65e6 9.71e5 422669. 0 58012. 69231. 110642. 14588. 833583. 491506. 6 5 2024 6 0.747 8.75e6 0 0 0 0 0 0 5651. 1.64e6 9.66e5 420622. 0 57731. 68895. 110106. 14518. 829978. 489487. # ... with 45 more variables: V122200 &lt;dbl&gt;, V122300 &lt;dbl&gt;, V122400 &lt;dbl&gt;, V122500 &lt;dbl&gt;, V122600 &lt;dbl&gt;, V122700 &lt;dbl&gt;, V123000 &lt;dbl&gt;, V123100 &lt;dbl&gt;, V123200 &lt;dbl&gt;, V123300 &lt;dbl&gt;, # V123400 &lt;dbl&gt;, V124000 &lt;dbl&gt;, V124100 &lt;dbl&gt;, V124200 &lt;dbl&gt;, V124300 &lt;dbl&gt;, V124400 &lt;dbl&gt;, V124500 &lt;dbl&gt;, V129000 &lt;dbl&gt;, V130101 &lt;dbl&gt;, V130201 &lt;dbl&gt;, V139901 &lt;dbl&gt;, # V190000 &lt;dbl&gt;, V210000 &lt;dbl&gt;, V211001 &lt;dbl&gt;, V212001 &lt;dbl&gt;, V213001 &lt;dbl&gt;, V214001 &lt;dbl&gt;, V215001 &lt;dbl&gt;, V219901 &lt;dbl&gt;, V220000 &lt;dbl&gt;, V221000 &lt;dbl&gt;, V222000 &lt;dbl&gt;, # V223000 &lt;dbl&gt;, V224000 &lt;dbl&gt;, V225000 &lt;dbl&gt;, V226000 &lt;dbl&gt;, V227000 &lt;dbl&gt;, V229000 &lt;dbl&gt;, V239901 &lt;dbl&gt;, V240000 &lt;dbl&gt;, V250001 &lt;dbl&gt;, V260001 &lt;chr&gt;, V270001 &lt;dbl&gt;, # V280001 &lt;dbl&gt;, V290001 &lt;dbl&gt; tail(fluxo_atuarial) # A tibble: 6 x 67 V100101 V100201 V100301 V100401 V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 V121500 V121600 V121700 V122000 V122100 &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 146 2165 6 0.00021 0. 0 0 0 0 0 0 0 0. 0. 0. 0 0. 0. 0. 0 0. 0. 2 147 2166 6 0.0002 0. 0 0 0 0 0 0 0 0. 0. 0. 0 0. 0. 0. 0 0. 0. 3 148 2167 6 0.00019 0. 0 0 0 0 0 0 0 0. 0. 0. 0 0. 0. 0. 0 0. 0. 4 149 2168 6 0.00018 0. 0 0 0 0 0 0 0 0. 0. 0. 0 0. 0. 0. 0 0. 0. 5 Totais~ NA NA NA 1.72e8 0 0 0 0 0 0 977533. 3.22e7 1.90e7 8.27e6 0 1.14e6 1.36e6 2.17e6 285544. 1.77e7 1.07e7 6 Totais~ NA NA NA 1.03e8 0 0 0 0 0 0 229839. 1.92e7 1.13e7 4.93e6 0 6.77e5 8.08e5 1.29e6 170182. 9.91e6 5.86e6 # ... with 45 more variables: V122200 &lt;dbl&gt;, V122300 &lt;dbl&gt;, V122400 &lt;dbl&gt;, V122500 &lt;dbl&gt;, V122600 &lt;dbl&gt;, V122700 &lt;dbl&gt;, V123000 &lt;dbl&gt;, V123100 &lt;dbl&gt;, V123200 &lt;dbl&gt;, V123300 &lt;dbl&gt;, # V123400 &lt;dbl&gt;, V124000 &lt;dbl&gt;, V124100 &lt;dbl&gt;, V124200 &lt;dbl&gt;, V124300 &lt;dbl&gt;, V124400 &lt;dbl&gt;, V124500 &lt;dbl&gt;, V129000 &lt;dbl&gt;, V130101 &lt;dbl&gt;, V130201 &lt;dbl&gt;, V139901 &lt;dbl&gt;, # V190000 &lt;dbl&gt;, V210000 &lt;dbl&gt;, V211001 &lt;dbl&gt;, V212001 &lt;dbl&gt;, V213001 &lt;dbl&gt;, V214001 &lt;dbl&gt;, V215001 &lt;dbl&gt;, V219901 &lt;dbl&gt;, V220000 &lt;dbl&gt;, V221000 &lt;dbl&gt;, V222000 &lt;dbl&gt;, # V223000 &lt;dbl&gt;, V224000 &lt;dbl&gt;, V225000 &lt;dbl&gt;, V226000 &lt;dbl&gt;, V227000 &lt;dbl&gt;, V229000 &lt;dbl&gt;, V239901 &lt;dbl&gt;, V240000 &lt;dbl&gt;, V250001 &lt;dbl&gt;, V260001 &lt;chr&gt;, V270001 &lt;dbl&gt;, # V280001 &lt;dbl&gt;, V290001 &lt;dbl&gt; Para facilitar o trabalho posterior com essa base de dados será feita a exclusão das linhas de controle (últimas duas linhas) do conjunto de dados. Na realidade os dados serão guardados em um outro objeto. # Reter as linhas de controle &quot;Totais de Controle&quot; e &quot;Totais de Controle a Valor Atual&quot; linhas_controle &lt;- filter(fluxo_atuarial, !grepl(&quot;^\\\\d+&quot;, V100101)) # e excluí-las da base de dados fluxo_atuarial &lt;- filter(fluxo_atuarial, grepl(&quot;^\\\\d+&quot;, V100101)) tail(fluxo_atuarial) # A tibble: 6 x 67 V100101 V100201 V100301 V100401 V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 V121500 V121600 V121700 V122000 V122100 &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 144 2163 6 0.00023 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 145 2164 6 0.00022 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 146 2165 6 0.00021 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4 147 2166 6 0.0002 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 5 148 2167 6 0.00019 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 6 149 2168 6 0.00018 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # ... with 45 more variables: V122200 &lt;dbl&gt;, V122300 &lt;dbl&gt;, V122400 &lt;dbl&gt;, V122500 &lt;dbl&gt;, V122600 &lt;dbl&gt;, V122700 &lt;dbl&gt;, V123000 &lt;dbl&gt;, V123100 &lt;dbl&gt;, V123200 &lt;dbl&gt;, V123300 &lt;dbl&gt;, # V123400 &lt;dbl&gt;, V124000 &lt;dbl&gt;, V124100 &lt;dbl&gt;, V124200 &lt;dbl&gt;, V124300 &lt;dbl&gt;, V124400 &lt;dbl&gt;, V124500 &lt;dbl&gt;, V129000 &lt;dbl&gt;, V130101 &lt;dbl&gt;, V130201 &lt;dbl&gt;, V139901 &lt;dbl&gt;, # V190000 &lt;dbl&gt;, V210000 &lt;dbl&gt;, V211001 &lt;dbl&gt;, V212001 &lt;dbl&gt;, V213001 &lt;dbl&gt;, V214001 &lt;dbl&gt;, V215001 &lt;dbl&gt;, V219901 &lt;dbl&gt;, V220000 &lt;dbl&gt;, V221000 &lt;dbl&gt;, V222000 &lt;dbl&gt;, # V223000 &lt;dbl&gt;, V224000 &lt;dbl&gt;, V225000 &lt;dbl&gt;, V226000 &lt;dbl&gt;, V227000 &lt;dbl&gt;, V229000 &lt;dbl&gt;, V239901 &lt;dbl&gt;, V240000 &lt;dbl&gt;, V250001 &lt;dbl&gt;, V260001 &lt;chr&gt;, V270001 &lt;dbl&gt;, # V280001 &lt;dbl&gt;, V290001 &lt;dbl&gt; As linhas de controle foram removidas da base. linhas_controle # A tibble: 2 x 67 V100101 V100201 V100301 V100401 V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 V121500 V121600 V121700 V122000 V122100 &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 Totais~ NA NA NA 1.72e8 0 0 0 0 0 0 977533. 3.22e7 1.90e7 8.27e6 0 1.14e6 1.36e6 2.17e6 285544. 1.77e7 1.07e7 2 Totais~ NA NA NA 1.03e8 0 0 0 0 0 0 229839. 1.92e7 1.13e7 4.93e6 0 6.77e5 8.08e5 1.29e6 170182. 9.91e6 5.86e6 # ... with 45 more variables: V122200 &lt;dbl&gt;, V122300 &lt;dbl&gt;, V122400 &lt;dbl&gt;, V122500 &lt;dbl&gt;, V122600 &lt;dbl&gt;, V122700 &lt;dbl&gt;, V123000 &lt;dbl&gt;, V123100 &lt;dbl&gt;, V123200 &lt;dbl&gt;, V123300 &lt;dbl&gt;, # V123400 &lt;dbl&gt;, V124000 &lt;dbl&gt;, V124100 &lt;dbl&gt;, V124200 &lt;dbl&gt;, V124300 &lt;dbl&gt;, V124400 &lt;dbl&gt;, V124500 &lt;dbl&gt;, V129000 &lt;dbl&gt;, V130101 &lt;dbl&gt;, V130201 &lt;dbl&gt;, V139901 &lt;dbl&gt;, # V190000 &lt;dbl&gt;, V210000 &lt;dbl&gt;, V211001 &lt;dbl&gt;, V212001 &lt;dbl&gt;, V213001 &lt;dbl&gt;, V214001 &lt;dbl&gt;, V215001 &lt;dbl&gt;, V219901 &lt;dbl&gt;, V220000 &lt;dbl&gt;, V221000 &lt;dbl&gt;, V222000 &lt;dbl&gt;, # V223000 &lt;dbl&gt;, V224000 &lt;dbl&gt;, V225000 &lt;dbl&gt;, V226000 &lt;dbl&gt;, V227000 &lt;dbl&gt;, V229000 &lt;dbl&gt;, V239901 &lt;dbl&gt;, V240000 &lt;dbl&gt;, V250001 &lt;dbl&gt;, V260001 &lt;chr&gt;, V270001 &lt;dbl&gt;, # V280001 &lt;dbl&gt;, V290001 &lt;dbl&gt; E agora estão contidas no objeto linhas_controle. Esses dados serão úteis mais adiante. 9.3 Dicionário de variáveis Como pode ser visto, os nomes das variáveis não dão quaisquer indicações de seu conteúdo. Para auxiliar um pouco no trabalho com este conjunto de dados apresenta-se, no quadro abaixo, o dicionário das variáveis. codigo nome V100101 Instante V100201 Ano V100301 Taxa de Juros (%) V100401 Fator de Desconto V109001 Base de Cálculo da Contribuição Normal V111000 ( = ) Benefícios Concedidos - Contribuições dos Aposentados V111101 ( + ) BenefÍcios Concedidos - Contribuicões Futuras dos Aposentados - Aposentadorias Programadas V111201 ( + ) Benefícios Concedidos - Contribuições Futuras dos Aposentados - Aposentadorias Especiais de Professores V111301 ( + ) Benefícios Concedidos - Contribuiçõeses Futuras dos Aposentados - Outras Aposentadorias Especiais V111401 ( + ) Benefícios Concedidos - Contribuições Futuras dos Aposentados - Aposentadorias por Invalidez V112000 ( = ) Benefícios Concedidos - Contribuições dos Pensionistas V119900 ( = ) Benefícios Concedidos - Compensação Previdenciária a Receber V121000 ( = ) Benefícios a Conceder - Contribuições do Ente V121100 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Aposentadorias Programadas V121200 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Aposentadorias Especiais de Professores V121300 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Outras Aposentadorias Especiais V121400 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Aposentadorias por Invalidez V121500 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Pensões Por Morte de Servidores em Atividade V121600 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Pensões Por Morte de Aposentados V121700 ( + ) Benefícios a Conceder - Contribuições Futuras do Ente - Outros Benefícios e Auxílios V122000 ( = ) Benefícios a Conceder - Contribuições dos Segurados Ativos V122100 ( + ) Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Aposentadorias Programadas V122200 ( + ) Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Aposentadorias Especiais de Professores V122300 ( + ) Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Outras Aposentadorias Especiais V122400 ( + ) Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Aposentadorias por Invalidez V122500 ( + )Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Pensões Por Morte de Segurados em Atividade V122600 ( + ) Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Pensões Por Morte de Aposentados V122700 ( + ) Benefícios a Conceder - Contribuições Futuras dos Segurados Ativos - Outros Benefícios e Auxílios V123000 ( = ) Benefícios a Conceder - Contribuições dos Aposentados V123100 ( + ) Benefícios a Conceder - Contribuições Futuras dos Aposentados - Aposentadorias Programadas V123200 ( + ) Benefícios a Conceder - Contribuições Futuras dos Aposentados - Aposentadorias Especiais de Professores V123300 ( + ) Benefícios a Conceder - Contribuições Futuras dos Aposentados - Outras Aposentadorias Especiais V123400 ( + ) Benefícios a Conceder - Contribuições Futuras dos Aposentados - Aposentadorias por Invalidez V124000 ( = ) Benefícios a Conceder - Contribuições dos Pensionistas V124100 ( + ) Benefícios a Conceder - Contribuições Futuras dos Pensionistas - Aposentadorias Programadas V124200 ( + ) Benefícios a Conceder - Contribuições Futuras dos Pensionistas - Aposentadorias Especiais de Professores V124300 ( + ) Benefícios a Conceder - Contribuições Futuras dos Pensionistas - Outras Aposentadorias Especiais V124400 ( + ) Benefícios a Conceder - Contribuições Futuras dos Pensionistas - Aposentadorias por Invalidez V124500 ( + ) Benefícios a Conceder - Contribuições Futuras dos Pensionistas - Pensões Por Morte de Segurados em Atividade V129000 ( = ) Benefícios a Conceder - Compensação Previdenciária a Receber V130101 ( = ) Plano de Amortização do Deficit Atuarial estabelecido em lei V130201 ( = ) Parcelamentos de Débitos Previdenciários V139901 ( = ) Valor Atual da Cobertura da Insuficiência Financeira (Outras Receitas) V190000 (A) TOTAL DAS RECEITAS COM CONTRIBUIÇÕES E COMPENSAÇÃO PREVIDENCIÁRIA V210000 ( = ) Benefícios Concedidos - Encargos V211001 ( + ) Benefícios Concedidos - Encargos - Aposentadorias Programadas V212001 ( + ) Benefícios Concedidos - Encargos - Aposentadorias Especiais de Professores V213001 ( + ) Benefícios Concedidos - Encargos - Outras Aposentadorias Especiais V214001 ( + ) Benefícios Concedidos - Encargos - Aposentadorias por Invalidez V215001 ( + ) Benefícios Concedidos - Encargos - Pensões Por Morte V219901 ( + ) Benefícios Concedidos - Encargos - Compensação Previdenciária a Pagar V220000 ( = ) Benefícios a Conceder - Encargos V221000 ( + ) Benefícios a Conceder - Encargos - Aposentadorias Programadas V222000 ( + ) Benefícios a Conceder - Encargos - Aposentadorias Especiais de Professores V223000 ( + ) Benefícios a Conceder - Encargos - Outras Aposentadorias Especiais V224000 ( + ) Benefícios a Conceder - Encargos - Aposentadorias por Invalidez V225000 ( + ) Benefícios a Conceder - Encargos - Pensões Por Morte de Servidores em Atividade V226000 ( + ) Benefícios a Conceder - Encargos - Pensões Por Morte de Aposentados V227000 ( + ) Benefícios a Conceder - Encargos - Outros Benefícios e Auxílios V229000 ( + ) Benefícios a Conceder - Encargos - Compensação Previdenciária a Pagar V239901 ( + ) Outras Despesas V240000 (B) TOTAL DAS DESPESAS COM BENEFÍCIOS DO PLANO V250001 (C) INSUFICIÊNCIA OU EXCEDENTE FINANCEIRO (A-B) V260001 (D) SALDO ACUMULADO DO EXERCÍCIO A VALOR ATUAL V270001 (E) RENTABILIDADE ESPERADA (%) V280001 (F) Rentabilidade dos Ativos que compõem os Recursos Garantidores V290001 (G) EVOLUÇÃO DOS RECURSOS GARANTIDORES (Informar o valor acumulado na data da avaliação) V310000 (H) BENEFÍCIOS LÍQUIDOS A VALOR PRESENTE V320000 (I) BENEFÍCIOS LÍQUIDOS PONDERADOS PELO INSTANTE Algumas observações: as variáveis em que se observa um ( = ) antes dos nomes, são o resultado da soma das variáveis que a sucedem com um ( + ) antecedendo seu nome. O dicionário apresenta as variáveis 310000 e 320000 que só constarão do modelo de fluxo atuarial contendo o cálculo da duração do passivo. 9.4 Análise gráfica das variáveis do fluxo atuarial Uma primeira análise que pode ser feita com o fluxo atuarial é a elaboração de gráficos de linha de uma ou mais variáveis, ou mesmo da soma de duas ou mais variáveis para se observar a evolução da variável ao longo do horizonte temporal do fluxo atuarial. É importante destacar que algumas dessas variáveis possuem um comportamento esperado e uma boa análise preliminar de razoabilidade do fluxo atuarial é examinar se essas variáveis se comportam conforme o padrão esperado. Por exemplo, o gráfico da variável V109001 -Base de Cálculo da Contribuição Normal. No eixo dos x vai sempre entrar o ano (V100201) e no eixo dos y a varíável escolhida para visualizar, que neste exemplo será V109001. options(scipen=999) # Pegar apenas os primeiros 75 anos do fluxo. fluxo_atuarial[1:75,] %&gt;% ggplot(aes(x=V100201, y=V109001)) + geom_line(size=1.3, color=&quot;blue&quot;) + labs(title = &quot;Evolução da Base de Cálculo da Contribuição Normal&quot;, y = &quot;Valores em R$&quot;, x = &quot;&quot;) + theme_bw() Observa-se que o gráfico tem início num determinado valor e vai decrescendo continuamente à medida que os anos vão passando. Essa variável representa o valor anual da folha de contribuição dos servidores ativos. O esperado é que, não havendo ingresso de novos servidores (geração atual), a massa de servidores ativos vá decrescendo com o passar do tempo e com isso, o valor da folha, até que chegue um momento em que não haverá mais servidores em atividade, ocasião em que a curva no gráfico atinge o valor zero. Esse é o comportamento esperado para essa variável. Se um fluxo atuarial apresentar um padrão diferente para essa variável, provavelmente existe erro no fluxo que irá impactar os resultados obtidos. Naturalmente que cada RPPS tem suas peculiaridades, de forma que os gráficos não serão idênticos, mas esse padrão deverá ser observado. E como seria o gráfico da variável V221000 - Encargos com Benefícios a Conceder de Aposentadorias Programadas? fluxo_atuarial[1:75,] %&gt;% ggplot(aes(x=V100201, y=V221000)) + geom_line(size=1.3, color=&quot;blue&quot;) + labs(title = &quot;Evolução dos Encargos com Benefícios a Conceder de\\n Aposentadorias Programadas &quot;, y = &quot;Valores em R$&quot;, x = &quot;&quot;) + theme_bw() O padrão agora é bem diferente do gráfico anterior. Para essa váriável, e outras de mesma natureza, esse é o padrão que deve ser observado. Em se tratando dos benefícos a conceder espera-se que no ano da avaliação atuarial a previsão é de que não haja nenhum ou que haja poucos benefícios a serem concedidos. Porém, à medida que o tempo vai passando, os servidores ativos vão se aposentando e a despesa com os benefícios a conceder vai aumentando, até chegar a um limite máximo e começar a descrecer. Deve-se observar que esse limite máximo, no exemplo, ocorre por volta do ano 2050. Esse é também o ano por volta do qual a despesa com a folha de contribuição (primeiro gráfico) está praticamente zerada. Ou seja, a massa de ativos já extinguiu (se aposentaram, morreram, saíram do serviço público ou se invalidaram) e a massa dos aposentados passa então a se exinguir também, fazendo com que a curva comece a decrescer. Agora um exemplo com benefícios concedidos. Será apresentado o gráfico da projeção das variáveis V211001 (Aposentadoria Programada) e V214001 (Aposentadorias por Invalidez). Será feito o gráfico das duas variáveis somadas. fluxo_atuarial[1:75,] %&gt;% ggplot(aes(x=V100201, y=V211001 + V214001)) + geom_line(size=1.3, color=&quot;blue&quot;) + labs(title = &quot;Evolução das Aposentadorias Programadas e por Invalidez&quot;, y = &quot;Valores em R$&quot;, x = &quot;&quot;) + theme_bw() O padrão é diferente dos dois anteriores. No ano inicial, a curva já inicia com um determinado valor que vai decrescendo com o passar do tempo. Esse padrão decorre do fato de que, na data da avaliação atuarial já existem pessoas aposentadas e com o passar do tempo, essas pessoas vão morrendo e as despesas decrescendo até zerar. Deve-se notar que as aposentadorias ocorridas no período não são acrescidas à esta variável. Não será possível aqui analisar o comportamenteo de todas as variáveis do fluxo atuarial, mas para quem tiver interesse em ver o comportamento de outras variáveis recomenda-se o vídeo disponível no seguinte link: https://vimeo.com/380302428/ee6308c54b Para finalizar esse tópico será apresentado o gráfico do COMPREV receber relativo a benefícos concedidos (V119900) e a conceder (V129000). A ideia é apresentar as duas variáveis no mesmo gráfico. fluxo_atuarial[1:75,] %&gt;% select(V100201, V119900, V129000) %&gt;% pivot_longer(cols=c(V119900, V129000), names_to = &quot;tipo_comprev&quot;, values_to = &quot;vlr_comprev&quot;) %&gt;% ggplot(aes(x=V100201, y=vlr_comprev, color=tipo_comprev)) + geom_line(size=1.2) + labs(title = &quot;Evolução do COMPREV a Receber \\n (Benefícios Concedidos e a Conceder)&quot;, y = &quot;Valores em R$&quot;, x = &quot;&quot;) + theme_bw() O gráfico evidencia que os valores das projeções do COMPREV para os benefícios a conceder é muito superior à projeção dos valores do COMPREV relativo aos benefícios concedidos. A questão que se coloca é: essa projeção é realista? 9.5 Cálculo dos principais números da avaliação atuarial Como já mencionado anteriormente, de acordo com a definição de fluxo atuarial dada pela Portaria 464/18, os valores presentes constantes do fluxo atuarial devem convergir com os valores apresentados na avaliação atuarial. Assim, nesta seção o objetivo é mostrar como calcular, a partir do fluxo autuarial, as variáveis a seguir: Valor Atual do Benefícios Futuros- VABF; Valor Atual das Contribuições Futuras - VACF Provisão Matemática Previdenciária - PMP Reserva Matemática de Benefícios Concedidos - RMBC Reserva Matemática de Benefícios a Conceder - RMBaC Ativos Garantidores _ AG Resultado Atuarial (superavit, deficit, equilíbrio) No fluxo atuarial os valores atuais das variáveis estão contidas na linha de controle denominada Totais de Controle a Valor Atual. Conforme já mostrado acima, os valores constantes das linhas de controle foram retirados do fluxo atuarial e constituem o objeto linhas_controle. Os cálculos da variáveis acima elencadas será feito considerando os valores contidos no objeto linhas_controle, com exceção do cálculo do valor dos Ativos Garantidores que utiliza a primeira linha do fluxo atuarial. No quadro a seguir, apresenta-se as formulações utilizadas para a obtenção dos valores desejados: Descrição Fórmula VABF - Valor Atual dos Benefícios Futuros V21000 + V220000 VACF - Valor Atual das Contribuições Futuras V111000 + V112000 + V119900 + V121000 + V122000 + V123000 + V124000 + V129000 AG - Ativos Garantidores V290001[1] - V250001[1] - V280001[1] PMP - Provisão Matemática Previdenciária VABF - VACF Resultado Atuarial AG - PMP RMBC - Reserva Matemática de Benefícios Concedidos V210000 - ( V111000 + V112000 + V119900 ) RMBaC - Reserva Matemática de Benefícios a Conceder V220000 - ( V121000 + V122000 + V123000 + V124000 + V129000 ) Parcelamentos V130201 Plano de Amortização V130101 Passa-se, a seguir, ao cálculo dessas quantidades: # VABF vabf &lt;- apply(linhas_controle[2, c(&quot;V210000&quot;, &quot;V220000&quot;)], 1, sum, na.rm=TRUE) # VACF vacf &lt;- apply(linhas_controle[2, c(&quot;V111000&quot;, &quot;V112000&quot;, &quot;V119900&quot;, &quot;V121000&quot;, &quot;V122000&quot;, &quot;V123000&quot;, &quot;V124000&quot;, &quot;V129000&quot;, &quot;V130101&quot;, &quot;V130201&quot;, &quot;V139901&quot;)], 1, sum, na.rm=TRUE) # Ativos Garantidores ativos_garantidores &lt;- fluxo_atuarial$V290001[1] - fluxo_atuarial$V250001[1] - fluxo_atuarial$V280001[1] # Reserva Matemática de Benefícios Concedidos rmbc &lt;- linhas_controle[2, &quot;V210000&quot;] - apply(linhas_controle[2, c(&quot;V111000&quot;, &quot;V112000&quot;, &quot;V119900&quot;)], 1, sum, na.rm=TRUE) # Reserva Matemática de Benefícios a Conceder rmbac &lt;- linhas_controle[2, &quot;V220000&quot;] - apply(linhas_controle[2, c(&quot;V121000&quot;, &quot;V122000&quot;, &quot;V123000&quot;, &quot;V124000&quot;, &quot;V129000&quot;)], 1, sum, na.rm=TRUE) # Parcelamentos parcelamentos &lt;- linhas_controle[2, &quot;V130201&quot;] # Plano de Amortização plano_amortizacao &lt;- linhas_controle[2, &quot;V130101&quot;] # Resultado Atuarial resultado_atuarial &lt;- vacf + ativos_garantidores - vabf Agora é só apresentar os resultados, mas antes os valores calculados devem ser reunidos em uma tabela: # Cria um data frame com os valores calculados avaliacao_atuarial &lt;- tribble( ~Variavel, ~Valor, &quot;Ativos Garantidores&quot;, ativos_garantidores, &quot;( + ) VACF&quot;, vacf, &quot;( - ) VABF&quot;, vabf, &quot;( = ) Resultado Atuarial&quot;, resultado_atuarial, &quot;RMBC&quot;, rmbc, &quot;RMBaC&quot;, rmbac, &quot;Parcelamentos&quot;, parcelamentos, &quot;Plano de Amortização&quot;, plano_amortizacao ) Tabela com os valores calculados: # Elabora uma tabela avaliacao_atuarial %&gt;% qflextable() .cl-05d0ccd2{border-collapse:collapse;}.cl-05b4b3e4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 255, 1.00);background-color:transparent;}.cl-05b5293c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-05b5293d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-05b5ecaa{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecab{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecac{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecad{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecae{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecaf{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecb0{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecb1{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecb2{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-05b5ecb3{width:128pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} VariavelValorAtivos Garantidores31.843.876( + ) VACF39.028.227( - ) VABF65.487.866( = ) Resultado Atuarial5.384.238RMBC1.101.680RMBaC28.844.875Parcelamentos1.613Plano de Amortização3.485.304 Pode-se agora comparar os valores calculados, mostrados no quadro acima, com os que constam do relatório de avaliação atuarial. 9.6 Anexo 10 do RREO O fluxo atuarial é a espinha dorsal da avaliação atuarial visto que contém todas as informações necessárias para o cálculo dos principais números que integram tanto o relatório de avaliação atuarial quanto os que constam do DRAA. Nesta seção o objetivo é mostrar como o Anexo 10 do RREO - Demonstrativo da Projeção Atuarial do RPPS pode ser gerado a partir dos dados contidos no fluxo atuarial. O Anexo 10 do RREO consiste basicamente de 3 colunas: Exercício, Receitas Previdenciárias e Despesas Previdenciárias. A partir das receitas e despesas obtem-se, por subtração, a quarta coluna do demonstrativo que é o Resultado Previdenciário. A última coluna, o Resultado Financeiro obtém-se a partir dos valores da coluna anterior. Caso o RPPS possua segregação de massas, deve ser elaborado um demonstrativo para cada plano. Assim, para a elaboração desse demonstrativo, em tese, deve-se identificar no fluxo atuarial as rubricas que representam receitas previdenciárias e as que representam despesas previdenciárias. Identificadas as rubricas faz-se a totalização das mesmas. O quadro a seguir identifica as rubricas que compõem as receitas e despesas previdenciárias. Receita Previdenciária Despesa Previdenciária V111000: BC Cont. Aposentados V210000: BC Encargos V112000: BC Cont. Pensionistas V220000: BaC Encargos V119900: BC Comprev a Receber V121000: BaC Cont. Ente V122000: BaC Cont. Segurados Ativos V123000: BaC Cont. Aposentados V124000: BaC Cont. Pensionistas V129000: BaC Comprev a Receber V130101: Plano de Amort. Deficit Atuarial V130201: Parcel. Débitos Previd. V139901: Valor Atual da Cob. Insuf. Fin. (Outras Rec.) ========================================== ======================================== V190000: TOTAL REC. CONTRIB E COMPREV V240000: TOTAL DESP. BENEF. DO PLANO ATENÇÃO!!! Ainda é necessário realizar a confirmação das rubricas que devem compor a elaboração dsse Anexo. Essa proposta é provisória. Como já visto anteriormente, algumas rubricas são simples totalizações de outras. Assim, por exemplo, o valor contido na rubrica V111000 é resultado da soma dos valores contidos nas seguintes rubricas: V111101, V111201, V111301 e V111401. Para efeito de elaboração do anexo serão utilizadas as rubricas parcelas ou elementares em vez de utilizar as rubricas totalizadoras. anexo10_rreo &lt;- fluxo_atuarial %&gt;% transmute(exercicio = V100201, receitas = V111101 + V111201 + V111301 + V111401 + # V111.000 V112000 + V119900 + V121100 + V121200 + V121300 + V121400 + V121500 + V121600 + V121700 + # V121000 V122100 + V122200 + V122300 + V122400 + V122500 + V122600 + V122700 + # V122000 V123100 + V123200 + V123300 + V123400 + # V123000 V124100 + V124200 + V124300 + V124400 + V124500 + # V124000 V129000 + V130101 + V130201 + V139901, # + V280001 (Rentabilidade dos Ativos Garantidores???) despesas = V211001 + V212001 + V213001 + V214001 + V215001 + V219901 + # V210000 V221000 + V222000 + V223000 + V224000 + V225000 + V226000 + V227000 + V229000 + V239901) # V220000 head(anexo10_rreo) # A tibble: 6 x 3 exercicio receitas despesas &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 2019 2871634. 416630. 2 2020 2680021. 526094. 3 2021 2735816. 798937. 4 2022 2749374. 998113. 5 2023 2782771. 1189099. 6 2024 2836927. 1540593. Os valores das colunas Resultado Previdenciário e Saldo Financeiro do Exercício podem agora ser calculados. A coluna do resultado previdenciário é obtida pela diferença entre a receita e despesa. Já o saldo financeiro de cada exercício é obtido somando-se o resultado financeiro do exercício com o saldo financeiro do exercício anterior. Um ponto em que o Anexo 10 do RREO vai diferir do Anexo 10 elaborado a partir do Fluxo Atuarial, é que o Anexo 10 do RREO deve conter informações sobre o ano anterior ao do fluxo atuarial. anexo10_rreo &lt;- anexo10_rreo %&gt;% mutate(resultado_previd = round(receitas - despesas, 2)) head(anexo10_rreo) # A tibble: 6 x 4 exercicio receitas despesas resultado_previd &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 2019 2871634. 416630. 2455005. 2 2020 2680021. 526094. 2153927. 3 2021 2735816. 798937. 1936880. 4 2022 2749374. 998113. 1751261. 5 2023 2782771. 1189099. 1593673. 6 2024 2836927. 1540593. 1296334. Para o cálculo da última coluna é necessário dispor do saldo financeiro do exercício de 2018. Apenas para efeito de ilustar como realizar o cálculo dos valores desta coluna, será assumido que esse saldo seja de R$ 578.942,76. # Saldo financeiro do exercício anterior sd_exerc_ant &lt;- 578942.76 anexo10_rreo &lt;- anexo10_rreo %&gt;% mutate(sd_financeiro = resultado_previd + c(sd_exerc_ant, resultado_previd[-length(resultado_previd)])) head(anexo10_rreo) # A tibble: 6 x 5 exercicio receitas despesas resultado_previd sd_financeiro &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 2019 2871634. 416630. 2455005. 3033948. 2 2020 2680021. 526094. 2153927. 4608932. 3 2021 2735816. 798937. 1936880. 4090806. 4 2022 2749374. 998113. 1751261. 3688140. 5 2023 2782771. 1189099. 1593673. 3344933. 6 2024 2836927. 1540593. 1296334. 2890007. 9.7 Verificação da consistência interna do fluxo atuarial Como já mencionado, o modelo de planilha do fluxo atuarial foi elaborado de forma que o atuário preencha os valores das projeções de algumas variáveis e outras, delas derivadas, são preenchidas automaticamente pelas fórmulas existes na mesma. A planilha é travada mas a senha de destravamento é de conhecimento público o que permite que alterações possam ser introduzidas na mesma. O objetivo nesta seção é apresentar uma verificação que pode (e deve) ser feita quanto a consistência dos valores contidos na linha denominada Totais de Controle a Valor Atual. Essa linha contém, como o nome diz, o valor presente de algumas das variáveis contidas no fluxo atuarial. A análise da consistência do fluxo atuarial consiste simplesmente em recalcular as variáveis que são a soma de outras e trazer a valor presente com o objetivo de comparar com os valores informados na linha Totais de Controle a Valor Atual do fluxo atuarial. O objetivo dessa análise é verificar se não houve qualquer tipo de manipulação no fluxo atuarial. O passo a passo irá deixar claro o processo. Antes de iniciar o recálculo das variáveis, será definida uma pequena função para o cálculo do Fator de Desconto (V100401) a partir das Taxas de Juros (V100301) informadas no fluxo atuarial. # Define uma função auxiliar para calcular as taxas de desconto calcula_tx_desconto &lt;- function(i, postecipado = TRUE){ # i: Variável V100301 i &lt;- i / 100 if(postecipado){ desconto &lt;- 1 / (1 + i) } else { desconto &lt;- c(1, 1 / (1 + i[2:length(i)])) } round(cumprod(desconto), 5) } Nota: Com a edição da Portaria 464/18 os fluxos atuariais deverão ser postecipados. A função acima contempla as duas possibilidades para permitir seu uso em fluxos atuariais elaborados antes da edição do referido normativo. Um pequeno teste para avaliar a função. Apresenta-se a seguir os 15 primeiros valores da taxa de desconto conforme apresentado no fluxo atuarial. fluxo_atuarial$V100401[1:15] [1] 1.00000 0.94340 0.89000 0.83962 0.79209 0.74725 0.70495 0.66505 0.62741 0.59190 0.55840 0.52679 0.49697 0.46884 0.44230 Utilizando a função definida acima será feito o cálculo a partir da taxa de juros informada no fluxo atuarial: # Cálculo da taxa de desconto - fluxo antecipado calcula_tx_desconto(i = fluxo_atuarial$V100301, postecipado = FALSE)[1:15] [1] 1.00000 0.94340 0.89000 0.83962 0.79209 0.74726 0.70496 0.66506 0.62741 0.59190 0.55839 0.52679 0.49697 0.46884 0.44230 O resultado indica que os valores da variável V100301 recalculados com a função calcula_tx_desconto() está iqual ao valor constante do fluxo atuarial. No processo de importação dos dados, pode ocorrer que algumas variáveis não serem importadas com o formato numérico. O código abaixo identifica as variáveis não numéricas que eventualmente existam nos dados e faz a conversão dos mesmos para o formato numérico. # Conversão de variáveis para o formato numérico fluxo_atuarial &lt;- fluxo_atuarial %&gt;% map_if(~ (!is.numeric(.)), ~ as.numeric(gsub(&quot;,&quot;, &quot;.&quot;, gsub(&quot;\\\\.&quot;, &quot;&quot;, .)))) %&gt;% as.data.frame() Agora será feito o recálculo de algumas variáveis conforme fórmulas contidas na planilha modelo disponibilizada pela SPREV: # Identifica se o fluxo é postecipado ou não. tipo &lt;- ifelse(fluxo_atuarial$V100101[1] == 1, TRUE, FALSE) # Obtém o ano do fluxo (ano inicial do fluxo...) ano &lt;- fluxo_atuarial$V100201[1] # Recálculo de algumas variáveis... fluxo_atuarial &lt;- fluxo_atuarial %&gt;% mutate( V100401 = calcula_tx_desconto(i = fluxo_atuarial$V100301, postecipado = tipo), V111000 = V111101 + V111201 + V111301 + V111401 , V121000 = V121100 + V121200 + V121300 + V121400 + V121500 + V121600 + V121700, V122000 = V122100 + V122200 + V122300 + V122400 + V122500 + V122600 + V122700, V123000 = V123100 + V123200 + V123300 + V123400, V124000 = V124100 + V124200 + V124300 + V124400 + V124500, V190000 = V111000 + V112000 + V119900 + V121000 + V122000 + V123000 + V124000 + V129000 + V130101 + V139901, V210000 = V211001 + V212001 + V213001 + V214001 + V215001 + V219901, V220000 = V221000 + V222000 + V223000 + V224000 + V225000 + V226000 + V227000 + V229000 + V239901, V240000 = V210000 + V220000, V250001 = V190000 - V240000) Recalculadas as variáveis de interesse a partir dos dados informados no fluxo atuarial é necessário agora determinar o valor atual das mesmas e compará-las com os valores correspondentes contidos na linha Totais de Controle a Valor Atual. A primeira coisa é identificar as variáveis a serem objeto de conferência. # Codigos a serem conferidos: codigos &lt;- c(&quot;V109001&quot;, &quot;V111000&quot;, &quot;V111101&quot;, &quot;V111201&quot;, &quot;V111301&quot;, &quot;V111401&quot;, &quot;V112000&quot;, &quot;V119900&quot;, &quot;V121000&quot;, &quot;V121100&quot;, &quot;V121200&quot;, &quot;V121300&quot;, &quot;V121400&quot;, &quot;V121500&quot;, &quot;V121600&quot;, &quot;V121700&quot;, &quot;V122000&quot;, &quot;V122100&quot;, &quot;V122200&quot;, &quot;V122300&quot;, &quot;V122400&quot;, &quot;V122500&quot;, &quot;V122600&quot;, &quot;V122700&quot;, &quot;V123000&quot;, &quot;V123100&quot;, &quot;V123200&quot;, &quot;V123300&quot;, &quot;V123400&quot;, &quot;V124000&quot;, &quot;V124100&quot;, &quot;V124200&quot;, &quot;V124300&quot;, &quot;V124400&quot;, &quot;V124500&quot;, &quot;V129000&quot;, &quot;V130101&quot;, &quot;V130201&quot;, &quot;V139901&quot;, &quot;V190000&quot;, &quot;V210000&quot;, &quot;V211001&quot;, &quot;V212001&quot;, &quot;V213001&quot;, &quot;V214001&quot;, &quot;V215001&quot;, &quot;V219901&quot;, &quot;V220000&quot;, &quot;V221000&quot;, &quot;V222000&quot;, &quot;V223000&quot;, &quot;V224000&quot;, &quot;V225000&quot;, &quot;V226000&quot;, &quot;V227000&quot;, &quot;V229000&quot;, &quot;V239901&quot;, &quot;V240000&quot;, &quot;V250001&quot;) Agora passa-se ao cálculo dos valores presente das variáveis acima relacionadas. # Cálculo do Valor Presente Atuarial (VPA) das rubricas selecionadas vpa_recalculado &lt;- fluxo_atuarial %&gt;% select(all_of(codigos)) %&gt;% map(~sum(.x * fluxo_atuarial$V100401, na.rm = TRUE)) %&gt;% unlist() vpa_recalculado V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 102526743.93 0.00 0.00 0.00 0.00 0.00 0.00 229841.11 19199591.41 11323615.50 4930717.44 0.00 676744.02 V121500 V121600 V121700 V122000 V122100 V122200 V122300 V122400 V122500 V122600 V122700 V123000 V123100 807622.14 1290709.99 170182.32 9908542.97 5864627.52 2553674.28 0.00 342418.78 408640.46 653073.13 86108.81 0.00 0.00 V123200 V123300 V123400 V124000 V124100 V124200 V124300 V124400 V124500 V129000 V130101 V130201 V139901 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 6203528.16 3485348.78 1613.04 0.00 V190000 V210000 V211001 V212001 V213001 V214001 V215001 V219901 V220000 V221000 V222000 V223000 V224000 39026852.43 1331527.92 1078066.63 0.00 0.00 192998.75 60462.54 0.00 64156893.39 30526723.42 23287782.34 0.00 2240554.53 V225000 V226000 V227000 V229000 V239901 V240000 V250001 2673855.76 4273171.95 256291.13 898514.25 0.00 65488421.31 -26461568.87 Obtidos os valores recalculados estes devem ser comparados com os valores informados na avaliação atuarial. Os valores originais, como já mostrado estão contidos no objeto linhas_controle. A extração dos mesmos pode ser feita da seguinte forma: # Obtenção das linhas contendo os valores da linha de controle da planilha de fluxo vpa_original &lt;- as_vector(linhas_controle[2, codigos]) vpa_original V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 102526271.37 0.00 0.00 0.00 0.00 0.00 0.00 229838.88 19199502.91 11323563.30 4930694.72 0.00 676740.90 V121500 V121600 V121700 V122000 V122100 V122200 V122300 V122400 V122500 V122600 V122700 V123000 V123100 807618.42 1290704.04 170181.53 9908500.68 5864603.11 2553663.26 0.00 342417.20 408638.58 653070.12 86108.41 0.00 0.00 V123200 V123300 V123400 V124000 V124100 V124200 V124300 V124400 V124500 V129000 V130101 V130201 V139901 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 6203468.14 3485303.50 1613.04 0.00 V190000 V210000 V211001 V212001 V213001 V214001 V215001 V219901 V220000 V221000 V222000 V223000 V224000 39028227.15 1331519.17 1078059.34 0.00 0.00 192997.35 60462.48 0.00 64156346.48 30526433.20 23287543.91 0.00 2240527.95 V225000 V226000 V227000 V229000 V239901 V240000 V250001 2673832.24 4273213.67 256289.95 898505.56 0.00 65487865.65 -26459638.50 Agora já é possível verificar se existe diferença em alguma rubrica fazendo a subtração dos valores. round(vpa_original - vpa_recalculado) V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 V121500 V121600 V121700 V122000 V122100 V122200 V122300 V122400 V122500 -473 0 0 0 0 0 0 -2 -88 -52 -23 0 -3 -4 -6 -1 -42 -24 -11 0 -2 -2 V122600 V122700 V123000 V123100 V123200 V123300 V123400 V124000 V124100 V124200 V124300 V124400 V124500 V129000 V130101 V130201 V139901 V190000 V210000 V211001 V212001 V213001 -3 0 0 0 0 0 0 0 0 0 0 0 0 -60 -45 0 0 1375 -9 -7 0 0 V214001 V215001 V219901 V220000 V221000 V222000 V223000 V224000 V225000 V226000 V227000 V229000 V239901 V240000 V250001 -1 0 0 -547 -290 -238 0 -27 -24 42 -1 -9 0 -556 1930 Como pode ser visto, existem algumas diferenças insignificantes entre os valores presente atuariais das variáveis contidas no fluxo atuarial (vpa_original) e os valores presentes atuariais obtidos com o recálculo das variáveis (vpa_recalculado). Talvez seja interessante avaliar o grau de significância das diferenças. Para tanto uma possibilidade é expressar as diferenças eventualmente encontradas como um percentual do vpa_original. O código a seguir faz isso. round(abs(vpa_original - vpa_recalculado) / abs(vpa_original + 0.001) * 100, 2) V109001 V111000 V111101 V111201 V111301 V111401 V112000 V119900 V121000 V121100 V121200 V121300 V121400 V121500 V121600 V121700 V122000 V122100 V122200 V122300 V122400 V122500 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 V122600 V122700 V123000 V123100 V123200 V123300 V123400 V124000 V124100 V124200 V124300 V124400 V124500 V129000 V130101 V130201 V139901 V190000 V210000 V211001 V212001 V213001 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 V214001 V215001 V219901 V220000 V221000 V222000 V223000 V224000 V225000 V226000 V227000 V229000 V239901 V240000 V250001 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 Nenhuma diferença chega ao menos a 0,05% do valor presente atuarial original. É possível melhorar um pouco as saídas acima de forma a que apenas os valores com diferença superior a 0.5% sejam exibidas em um quadro. "],["msc-matriz-de-saldos-contábeis.html", "Capítulo 10 MSC - Matriz de Saldos Contábeis", " Capítulo 10 MSC - Matriz de Saldos Contábeis NOTA: Este é um trabalho em progresso. Novos capítulos serão adicionados à medida que o tempo permitir. Volte em breve! "]]
